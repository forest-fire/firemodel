{"version":3,"file":"index.js","sources":["../../src/types/NamedFakes.ts","../../src/types/actions.ts","../../src/types/general.ts","../../node_modules/common-types/dist/es/index.js","../../src/util/compareHashes.ts","../../src/util/get.ts","../../node_modules/typed-conversions/dist/es/index.js","../../src/util/getAllPropertiesFromClassStructure.ts","../../src/util/isHasManyRelationship.ts","../../src/errors/FireModelError.ts","../../src/util/modelRegister.ts","../../src/util/path.ts","../../src/errors/DatabaseCrudFailure.ts","../../src/errors/DecoratorProblem.ts","../../src/errors/FireModelProxyError.ts","../../src/errors/FmUtilityError.ts","../../src/errors/RelationshipErrors/IncorrectReciprocalInverse.ts","../../src/errors/RelationshipErrors/MissingInverseProperty.ts","../../src/errors/RelationshipErrors/MissingReciprocalInverse.ts","../../src/errors/RelationshipErrors/NotHasManyRelationship.ts","../../src/errors/RelationshipErrors/NotHasOneRelationship.ts","../../src/errors/RelationshipErrors/UnknownRelationshipProblem.ts","../../src/util/set.ts","../../src/util/shared.ts","../../src/util/model-meta/ModelMeta.ts","../../src/util/model-meta/getPushKeys.ts","../../src/util/model-meta/property-store.ts","../../src/util/model-meta/relationship-store.ts","../../src/core/FireModel.ts","../../src/core/List.ts","../../src/core/mocking/PropertyNamePatterns.ts","../../src/core/mocking/addRelationships.ts","../../node_modules/date-fns/esm/_lib/toInteger/index.js","../../node_modules/date-fns/esm/_lib/requiredArgs/index.js","../../node_modules/date-fns/esm/toDate/index.js","../../node_modules/date-fns/esm/addMilliseconds/index.js","../../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../../node_modules/date-fns/esm/isValid/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","../../node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","../../node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","../../node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","../../node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","../../node_modules/date-fns/esm/locale/en-US/index.js","../../node_modules/date-fns/esm/subMilliseconds/index.js","../../node_modules/date-fns/esm/_lib/addLeadingZeros/index.js","../../node_modules/date-fns/esm/_lib/format/lightFormatters/index.js","../../node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js","../../node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js","../../node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js","../../node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js","../../node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js","../../node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","../../node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js","../../node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js","../../node_modules/date-fns/esm/_lib/getUTCWeek/index.js","../../node_modules/date-fns/esm/_lib/format/formatters/index.js","../../node_modules/date-fns/esm/_lib/format/longFormatters/index.js","../../node_modules/date-fns/esm/_lib/protectedTokens/index.js","../../node_modules/date-fns/esm/format/index.js","../../src/core/mocking/fakeIt.ts","../../src/core/mocking/mockProperties.ts","../../src/core/mocking/mockValue.ts","../../src/core/mocking/processHasMany.ts","../../src/core/mocking/processHasOne.ts","../../src/core/mocking/MockApi.ts","../../src/core/Mock.ts","../../src/core/watchers/WatchBase.ts","../../src/core/watchers/WatchDispatcher.ts","../../src/core/watchers/WatchList.ts","../../src/core/watchers/WatchRecord.ts","../../src/core/watchers/findWatchers.ts","../../src/core/watchers/watchInitialization.ts","../../src/core/watchers/watcherPool.ts","../../src/core/records/buildDeepRelationshipLinks.ts","../../src/core/records/buildRelationshipPaths.ts","../../src/core/records/createCompositeKey.ts","../../src/core/records/createCompositeKeyFromFkString.ts","../../src/core/records/createCompositeKeyString.ts","../../src/core/records/locallyUpdateFkOnRecord.ts","../../src/core/records/relationshipOperation.ts","../../src/state-mgmt/UnwatchedLocalEvent.ts","../../node_modules/fast-copy/dist/fast-copy.esm.js","../../node_modules/firebase-key/dist/esm5/key-alphabet.js","../../node_modules/firebase-key/dist/esm5/text-random-string.js","../../node_modules/firebase-key/dist/esm5/key-key.js","../../node_modules/wait-in-parallel/dist/wait-in-parallel.es.js","../../node_modules/tslib/tslib.es6.js","../../node_modules/reflect-metadata/Reflect.js","../../src/decorators/propertyReflector.ts","../../src/decorators/OneWay.ts","../../src/decorators/constraints.ts","../../src/decorators/decorator.ts","../../src/decorators/defaultValue.ts","../../src/decorators/encrypt.ts","../../src/decorators/hasMany.ts","../../src/decorators/hasOne.ts","../../src/decorators/indexing.ts","../../src/decorators/mock.ts","../../src/decorators/model.ts","../../src/models/Model.ts","../../src/models/AuditLog.ts","../../src/audit/writeAudit.ts","../../src/core/Record.ts","../../src/core/Watch.ts"],"sourcesContent":["export const NamedFakes = {\n  /** produces an \"id\" that looks/behaves like a Firebase key */\n  id: true,\n  /** produces an \"id\" that looks/behaves like a Firebase key */\n  fbKey: true,\n  String: true,\n  number: true,\n  /** alias for \"number\" */\n  Number: true,\n  price: true,\n  Boolean: true,\n  Object: true,\n  name: true,\n  firstName: true,\n  lastName: true,\n  /** alias for companyName */\n  company: true,\n  companyName: true,\n  address: true,\n  streetAddress: true,\n  fullAddress: true,\n  city: true,\n  state: true,\n  zipCode: true,\n  stateAbbr: true,\n  country: true,\n  countryCode: true,\n  latitude: true,\n  longitude: true,\n  coordinate: true,\n  gender: true,\n  age: true,\n  ageChild: true,\n  ageAdult: true,\n  ageOlder: true,\n  jobTitle: true,\n  date: true,\n  dateRecent: true,\n  dateRecentString: true,\n  dateMiliseconds: true,\n  dateRecentMiliseconds: true,\n  datePast: true,\n  datePastString: true,\n  datePastMiliseconds: true,\n  dateFuture: true,\n  dateFutureString: true,\n  dateFutureMiliseconds: true,\n  dateSoon: true,\n  dateSoonString: true,\n  dateSoonMiliseconds: true,\n  imageAvatar: true,\n  imageAnimal: true,\n  imageNature: true,\n  imagePeople: true,\n  imageTransport: true,\n  phoneNumber: true,\n  email: true,\n  /** a single word */\n  word: true,\n  words: true,\n  sentence: true,\n  paragraph: true,\n  paragraphs: true,\n  slug: true,\n  url: true,\n  /** produces a unique id */\n  uuid: true,\n  random: true,\n  sequence: true,\n  distribution: true,\n  placeImage: true,\n  placeHolder: true,\n};\n","/** Enumeration of all Firemodel Actions that will be fired */\nexport enum FmEvents {\n  /** A record has been added locally */\n  RECORD_ADDED_LOCALLY = \"@firemodel/RECORD_ADDED_LOCALLY\",\n  /** A record which was added locally has now been confirmed by Firebase */\n  RECORD_ADDED_CONFIRMATION = \"@firemodel/RECORD_ADDED_CONFIRMATION\",\n  /** A record added locally failed to be saved to Firebase */\n  RECORD_ADDED_ROLLBACK = \"@firemodel/RECORD_ADDED_ROLLBACK\",\n  /** A record has been added to a given Model list being watched (external event) */\n  RECORD_ADDED = \"@firemodel/RECORD_ADDED\",\n  /** A record has been updated locally */\n  RECORD_CHANGED_LOCALLY = \"@firemodel/RECORD_CHANGED_LOCALLY\",\n  /** a record changed locally has now been confirmed by Firebase */\n  RECORD_CHANGED_CONFIRMATION = \"@firemodel/RECORD_CHANGED_CONFIRMATION\",\n  /** A record changed locally failed to be saved to Firebase */\n  RECORD_CHANGED_ROLLBACK = \"@firemodel/RECORD_CHANGED_ROLLBACK\",\n  /** A record has been updated on Firebase (external event) */\n  RECORD_CHANGED = \"@firemodel/RECORD_CHANGED\",\n  /**\n   * for client originated events touching relationships (as external events would come back as an event per model)\n   */\n  RECORD_MOVED = \"@firemodel/RECORD_MOVED\",\n  /** A record has been removed from a given Model list being watched */\n  RECORD_REMOVED_LOCALLY = \"@firemodel/RECORD_REMOVED_LOCALLY\",\n  /** a record removed locally has now been confirmed by Firebase */\n  RECORD_REMOVED_CONFIRMATION = \"@firemodel/RECORD_REMOVED_CONFIRMATION\",\n  /** A record removed locally failed to be saved to Firebase */\n  RECORD_REMOVED_ROLLBACK = \"@firemodel/RECORD_REMOVED_LOCALLY\",\n  /** A record has been removed from a given Model list being watched */\n  RECORD_REMOVED = \"@firemodel/RECORD_REMOVED\",\n  /** An attempt to access the database was refused to lack of permissions */\n  PERMISSION_DENIED = \"@firemodel/PERMISSION_DENIED\",\n  /** The optimistic local change now needs to be rolled back due to failure in Firebase */\n  RECORD_LOCAL_ROLLBACK = \"@firemodel/RECORD_LOCAL_ROLLBACK\",\n  /** Indicates that a given model's \"since\" property has been updated */\n  SINCE_UPDATED = \"@firemodel/SINCE_UPDATED\",\n\n  /** Watcher has started request to watch; waiting for initial SYNC event */\n  WATCHER_STARTING = \"@firemodel/WATCHER_STARTING\",\n  /** Watcher has established connection with Firebase */\n  WATCHER_STARTED = \"@firemodel/WATCHER_STARTED\",\n  /**\n   * The watcher started with \"largePayload\" will send a sync event with the\n   * whole payload so data synchronization can happen in one mutation\n   */\n  WATCHER_SYNC = \"@firemodel/WATCHER_SYNC\",\n  /** Watcher failed to start */\n  WATCHER_FAILED = \"@firemodel/WATCHER_FAILED\",\n  /** Watcher has disconnected an event stream from Firebase */\n  WATCHER_STOPPED = \"@firemodel/WATCHER_STOPPED\",\n  /** Watcher has disconnected all event streams from Firebase */\n  WATCHER_STOPPED_ALL = \"@firemodel/WATCHER_STOPPED_ALL\",\n\n  /** Relationship(s) have been removed locally */\n  RELATIONSHIP_REMOVED_LOCALLY = \"@firemodel/RELATIONSHIP_REMOVED_LOCALLY\",\n  /** Relationship removal has been confirmed by database */\n  RELATIONSHIP_REMOVED_CONFIRMATION = \"@firemodel/RELATIONSHIP_REMOVED_CONFIRMATION\",\n  /** Relationship removal failed and must be rolled back if client updated optimistically */\n  RELATIONSHIP_REMOVED_ROLLBACK = \"@firemodel/RELATIONSHIP_REMOVED_ROLLBACK\",\n\n  /** Relationship has been added locally */\n  RELATIONSHIP_ADDED_LOCALLY = \"@firemodel/RELATIONSHIP_ADDED_LOCALLY\",\n  /** Relationship add has been confirmed by database */\n  RELATIONSHIP_ADDED_CONFIRMATION = \"@firemodel/RELATIONSHIP_ADDED_CONFIRMATION\",\n  /** Relationship add failed and must be rolled back if client updated optimistically */\n  RELATIONSHIP_ADDED_ROLLBACK = \"@firemodel/RELATIONSHIP_ADDED_ROLLBACK\",\n\n  /** Relationship has been set locally (relating to a hasOne event) */\n  RELATIONSHIP_SET_LOCALLY = \"@firemodel/RELATIONSHIP_SET_LOCALLY\",\n  /** Relationship set has been confirmed by database */\n  RELATIONSHIP_SET_CONFIRMATION = \"@firemodel/RELATIONSHIP_SET_CONFIRMATION\",\n  /** Relationship set failed and must be rolled back if client updated optimistically */\n  RELATIONSHIP_SET_ROLLBACK = \"@firemodel/RELATIONSHIP_ADDED_ROLLBACK\",\n\n  /** A relationship was \"added\" but it already existed; this is typically non-action oriented */\n  RELATIONSHIP_DUPLICATE_ADD = \"@firemodel/RELATIONSHIP_DUPLICATE_ADD\",\n\n  APP_CONNECTED = \"@firemodel/APP_CONNECTED\",\n  APP_DISCONNECTED = \"@firemodel/APP_DISCONNECTED\",\n\n  UNEXPECTED_ERROR = \"@firemodel/UNEXPECTED_ERROR\"\n}\n","import { IDictionary, datetime } from \"common-types\";\n\n// import { IAbstractedDatabase } from \"universal-fire\";\nimport { IAbstractedDatabase } from \"universal-fire\";\nimport { IModel } from \"@/types\";\n\nexport type FmModelConstructor<T extends IModel> = new () => T;\n\n/** _options_ allowed to modify the behavior/configuration of a `Model` */\nexport interface IModelOptions {\n  logger?: ILogger;\n  db?: IAbstractedDatabase;\n}\n\n/**\n * **List Options**\n *\n * provides a means to configure the list, options include:\n *\n * - `logger`: add in a logger function instead of default\n * - `offsets`: for dynamic paths, specify the dynamic properties needed\n * - `db`: allows you to specify a non-default Firebase DB\n */\nexport interface IListOptions<T> extends IModelOptions {\n  offsets?: Partial<T>;\n  db?: IAbstractedDatabase;\n}\n\nexport interface IMetaData {\n  attributes: IDictionary;\n  relationships: IDictionary<IRelationship>;\n}\n\nexport interface IAuditFilter {\n  /** audit entries since a given unix epoch timestamp */\n  since?: number;\n  /** the last X number of audit entries */\n  last?: number;\n}\n\nexport type IComparisonOperator = \"=\" | \">\" | \"<\";\nexport type IConditionAndValue = [\n  IComparisonOperator,\n  boolean | string | number\n];\nexport type FirebaseCrudOperations = \"push\" | \"set\" | \"update\" | \"remove\";\n\nexport interface IAuditRecord {\n  crud: FirebaseCrudOperations;\n  when: datetime;\n  schema: string;\n  key: string;\n  info: IDictionary;\n}\n\nexport interface ILogger {\n  log: (message: string) => void;\n  warn: (message: string) => void;\n  debug: (message: string) => void;\n  error: (message: string) => void;\n}\n\nexport interface IRelationship {\n  cardinality: string;\n  policy: RelationshipPolicy;\n}\nexport enum RelationshipPolicy {\n  keys = \"keys\",\n  lazy = \"lazy\",\n  inline = \"inline\",\n}\nexport enum RelationshipCardinality {\n  hasMany = \"hasMany\",\n  belongsTo = \"belongsTo\",\n}\n\n/**\n * a gathering of name/value pairs which are to be changed\n * in the database but which have a root path which define\n * their fully qualified path.\n *\n * Often used to feed into a MPS object.\n */\nexport interface IFmDatabasePaths {\n  /** a dictionary of name/values where the \"name\" is relative path off the root */\n  paths: IFmPathValuePair[];\n  /** the fully qualified paths in the DB which will be effected */\n  fullPathNames: string[];\n  /** the root path which all paths originate from */\n  root: string;\n}\n\nexport interface IFmPathValuePair {\n  /** the path in the DB */\n  path: string;\n  /** the value at the given path */\n  value: any;\n}\n\nexport interface IFmHasId {\n  id: string;\n}\n\n/**\n * Get the type of an Object's property\n */\nexport type PropType<TObj, TProp extends keyof TObj> = TObj[TProp];\n","/**\r\n * Provides a logical test to see if the passed in event is a LambdaProxy request or just a\r\n * straight JS object response. This is useful when you have both an HTTP event and a Lambda-to-Lambda\r\n * or Step-Function-to-Lambda interaction.\r\n *\r\n * @param message the body of the request (which is either of type T or a LambdaProxy event)\r\n */\r\nfunction isLambdaProxyRequest(message) {\r\n    return typeof message === \"object\" &&\r\n        message.resource &&\r\n        message.path &&\r\n        message.httpMethod\r\n        ? true\r\n        : false;\r\n}\r\nfunction parsed(input) {\r\n    try {\r\n        const output = JSON.parse(input.body.replace(/[\\n\\t]/g, \"\"));\r\n        return output;\r\n    }\r\n    catch (e) {\r\n        return input.body;\r\n    }\r\n}\r\n/**\r\n * **getBodyFromPossibleLambdaProxyRequest**\r\n *\r\n * Returns the message body/payload regardless of whether Lambda was called by API Gateway's LambdaProxy\r\n * or from another Lambda function.\r\n *\r\n * @param input either a [Lambda Proxy Request](https://docs.aws.amazon.com/apigateway/latest/developerguide/set-up-lambda-proxy-integrations.html)\r\n * or type `T` as defined by consumer\r\n * @return type of `T`\r\n */\r\nfunction getBodyFromPossibleLambdaProxyRequest(input) {\r\n    return isLambdaProxyRequest(input) ? parsed(input) : input;\r\n}\n\n/**\r\n * **LambdaEventParser**\r\n *\r\n * Ensures that the _typed_ `request` is separated from a possible Proxy Integration\r\n * Request that would have originated from API Gateway; also returns the `apiGateway`\r\n * payload with the \"body\" removed (as it would be redundant to the request).\r\n *\r\n * Typical usage is:\r\n *\r\n```typescript\r\nconst { request, apiGateway } = LambdaEventParser.parse(event);\r\n```\r\n *\r\n * this signature is intended to mimic the `LambdaSequence.from(event)` API but\r\n * without the parsing of a `sequence` property being extracted.\r\n *\r\n */\r\nclass LambdaEventParser {\r\n    /**\r\n     * **parse**\r\n     *\r\n     * A static method which returns an object with both `request` and `apiGateway`\r\n     * properties. The `request` is typed to **T** and the `apiGateway` will be a\r\n     * `IAWSLambdaProxyIntegrationRequest` object with the \"body\" removed _if_\r\n     * the event came from **API Gateway** otherwise it will be undefined.\r\n     */\r\n    static parse(event) {\r\n        const request = isLambdaProxyRequest(event)\r\n            ? JSON.parse(event.body)\r\n            : event;\r\n        if (isLambdaProxyRequest(event)) {\r\n            delete event.body;\r\n        }\r\n        else {\r\n            event = undefined;\r\n        }\r\n        return {\r\n            request,\r\n            apiGateway: event\r\n        };\r\n    }\r\n}\n\n/**\r\n * **LambdaResponse**\r\n *\r\n * Not implemented yet\r\n */\r\nclass LambdaResponse {\r\n}\n\n/** provides a friendly way to pause execution when using async/await symantics */\r\nasync function wait(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\n\nvar HttpStatusCodes;\r\n(function (HttpStatusCodes) {\r\n    /**\r\n     * The client SHOULD continue with its request. This interim response is used to inform\r\n     * the client that the initial part of the request has been received and has not yet\r\n     * been rejected by the server. The client SHOULD continue by sending the remainder\r\n     * of the request or, if the request has already been completed, ignore this response.\r\n     * The server MUST send a final response after the request has been completed.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Continue\"] = 100] = \"Continue\";\r\n    /** The request has succeeded. */\r\n    HttpStatusCodes[HttpStatusCodes[\"Success\"] = 200] = \"Success\";\r\n    /**\r\n     * The request has been fulfilled and resulted in a new resource being created. The newly\r\n     * created resource can be referenced by the URI(s) returned in the entity of the response,\r\n     * with the most specific URI for the resource given by a Location header field. The response\r\n     * SHOULD include an entity containing a list of resource characteristics and location(s) from\r\n     * which the user or user agent can choose the one most appropriate. The entity format is\r\n     * specified by the media type given in the Content-Type header field. The origin server MUST\r\n     * create the resource before returning the `201` status code. If the action cannot be carried\r\n     * out immediately, the server SHOULD respond with `202` (Accepted) response instead.\r\n     *\r\n     * A `201` response MAY contain an ETag response header field indicating the current value of\r\n     * the entity tag for the requested variant just created.\r\n  \n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Created\"] = 201] = \"Created\";\r\n    /**\r\n     * The request has been accepted for processing, but the processing has not been completed.\r\n     * The request might or might not eventually be acted upon, as it might be disallowed when\r\n     * processing actually takes place. There is no facility for re-sending a status code from an\r\n     * asynchronous operation such as this.\r\n     *\r\n     * The 202 response is intentionally non-committal. Its purpose is to allow a server to accept\r\n     * a request for some other process (perhaps a batch-oriented process that is only run once\r\n     * per day) without requiring that the user agent's connection to the server persist until the\r\n     * process is completed. The entity returned with this response SHOULD include an indication\r\n     * of the request's current status and either a pointer to a status monitor or some estimate\r\n     * of when the user can expect the request to be fulfilled.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Accepted\"] = 202] = \"Accepted\";\r\n    /**\r\n     * The server has fulfilled the request but does not need to return an entity-body, and might\r\n     * want to return updated meta-information. The response MAY include new or updated\r\n     * meta-information in the form of entity-headers, which if present SHOULD be associated with\r\n     * the requested variant.\r\n     *\r\n     * If the client is a _user agent_, it **SHOULD NOT** change its document view from that which\r\n     * caused the request to be sent. This response is primarily intended to allow input for\r\n     * actions to take place without causing a change to the user agent's active document view,\r\n     * although any new or updated metainformation **SHOULD** be applied to the document\r\n     * currently in the user agent's active view.\r\n     *\r\n     * The `204` response **MUST NOT** include a `message-body`, and thus is always terminated\r\n     * by the first empty line after the header fields.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"NoContent\"] = 204] = \"NoContent\";\r\n    HttpStatusCodes[HttpStatusCodes[\"MovedPermenantly\"] = 301] = \"MovedPermenantly\";\r\n    HttpStatusCodes[HttpStatusCodes[\"TemporaryRedirect\"] = 307] = \"TemporaryRedirect\";\r\n    /**\r\n     * If the client has performed a conditional GET request and access is allowed, but the\r\n     * document has not been modified, the server SHOULD respond with this status code. The\r\n     * `304` response MUST NOT contain a _message-body_, and thus is always terminated by the\r\n     * first empty line after the header fields.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"NotModified\"] = 304] = \"NotModified\";\r\n    /**\r\n     * The request could not be understood by the server due to malformed syntax.\r\n     * The client SHOULD NOT repeat the request without modifications.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"BadRequest\"] = 400] = \"BadRequest\";\r\n    /**\r\n     * The request requires user authentication. The response MUST include a WWW-Authenticate\r\n     * header field containing a challenge applicable to the requested resource.\r\n     * The client MAY repeat the request with a suitable Authorization header field. If the\r\n     * request already included Authorization credentials, then the `401`\r\n     * response indicates that authorization has been refused for those credentials. If the `401`\r\n     * response contains the same challenge as the prior response, and the user agent has already\r\n     * attempted authentication at least once, then the user SHOULD be presented the entity that\r\n     * was given in the response, since that entity might include relevant diagnostic information.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Unauthorized\"] = 401] = \"Unauthorized\";\r\n    HttpStatusCodes[HttpStatusCodes[\"PaymentRequired\"] = 402] = \"PaymentRequired\";\r\n    /**\r\n     * The request could not be understood by the server due to malformed syntax. The client\r\n     * SHOULD NOT repeat the request without modifications.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Forbidden\"] = 403] = \"Forbidden\";\r\n    /**\r\n     * The server has not found anything matching the Request-URI. No indication is given of\r\n     * whether the condition is temporary or permanent. The `410` (Gone) status code SHOULD be\r\n     * used if the server knows, through some internally configurable mechanism, that an old\r\n     * resource is permanently unavailable and has no forwarding address.\r\n     *\r\n     * This status code is commonly used when the server does not wish to reveal exactly\r\n     * why the request has been refused, or when no other response is applicable.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"NotFound\"] = 404] = \"NotFound\";\r\n    /**\r\n     * The method specified in the Request-Line is not allowed for the resource identified\r\n     * by the Request-URI. The response MUST include an Allow header containing a list of\r\n     * valid methods for the requested resource.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"MethodNotAllowed\"] = 405] = \"MethodNotAllowed\";\r\n    /**\r\n     * The client did not produce a request within the time that the server was\r\n     * prepared to wait. The client MAY repeat the request without modifications\r\n     * at any later time.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"RequestTimeout\"] = 408] = \"RequestTimeout\";\r\n    /**\r\n     * The request could not be completed due to a conflict with the current state of the\r\n     * resource. This code is only allowed in situations where it is expected that the\r\n     * user might be able to resolve the conflict and resubmit the request. The response\r\n     * body SHOULD include enough information for the user to recognize the source of the\r\n     * conflict. Ideally, the response entity would include enough information for the\r\n     * user or user agent to fix the problem; however, that might not be possible and\r\n     * is not required.\r\n     *\r\n     * Conflicts are most likely to occur in response to a PUT request. For example,\r\n     * if versioning were being used and the entity being PUT included changes to a resource\r\n     * which conflict with those made by an earlier (third-party) request, the server might\r\n     * use the 409 response to indicate that it can't complete the request. In this case,\r\n     * the response entity would likely contain a list of the differences between the\r\n     * two versions in a format defined by the response Content-Type.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Conflict\"] = 409] = \"Conflict\";\r\n    /**\r\n     * The requested resource is no longer available at the server and no forwarding address\r\n     * is known. This condition is expected to be considered permanent. Clients with link\r\n     * editing capabilities SHOULD delete references to the Request-URI after user approval.\r\n     * If the server does not know, or has no facility to determine, whether or not the\r\n     * condition is permanent, the status code 404 (Not Found) SHOULD be used instead.\r\n     * This response is cacheable unless indicated otherwise.\r\n     *\r\n     * The 410 response is primarily intended to assist the task of web maintenance by\r\n     * notifying the recipient that the resource is intentionally unavailable and that\r\n     * the server owners desire that remote links to that resource be removed. Such an\r\n     * event is common for limited-time, promotional services and for resources belonging\r\n     * to individuals no longer working at the server's site. It is not necessary to mark\r\n     * all permanently unavailable resources as \"gone\" or to keep the mark for any length\r\n     * of time -- that is left to the discretion of the server owner.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Gone\"] = 410] = \"Gone\";\r\n    /**\r\n     * Indicates that the server refuses to brew coffee because it is, permanently, a teapot.\r\n     * A combined coffee/tea pot that is temporarily out of coffee should instead return 503.\r\n     * This error is a reference to Hyper Text Coffee Pot Control Protocol defined in April\r\n     * Fools' jokes in 1998 and 2014.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"IAmATeapot\"] = 418] = \"IAmATeapot\";\r\n    HttpStatusCodes[HttpStatusCodes[\"UnprocessableEntity\"] = 422] = \"UnprocessableEntity\";\r\n    /**\r\n     * The 429 status code indicates that the user has sent too many requests in a given\r\n     * amount of time (\"rate limiting\").\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"TooManyRequests\"] = 429] = \"TooManyRequests\";\r\n    /**\r\n     * The server encountered an unexpected condition which prevented it from fulfilling\r\n     * the request.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"InternalServerError\"] = 500] = \"InternalServerError\";\r\n    /**\r\n     * The server does not support the functionality required to fulfill the request. This\r\n     * is the appropriate response when the server does not recognize the request method\r\n     * and is not capable of supporting it for any resource.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"NotImplemented\"] = 501] = \"NotImplemented\";\r\n    /**\r\n     * The server, while acting as a gateway or proxy, received an invalid response from\r\n     * the upstream server it accessed in attempting to fulfill the request.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"BadGateway\"] = 502] = \"BadGateway\";\r\n    /**\r\n     * Indicates that the server is not ready to handle the request.\r\n     *\r\n     * Common causes are a server that is down for maintenance or that is overloaded.\r\n     * This response should be used for temporary conditions and the `Retry-After` HTTP\r\n     * header should, if possible, contain the estimated time for the recovery of the\r\n     * service.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"ServiceUnavailable\"] = 503] = \"ServiceUnavailable\";\r\n    HttpStatusCodes[HttpStatusCodes[\"GatewayTimeout\"] = 504] = \"GatewayTimeout\";\r\n    /**\r\n     * The 511 status code indicates that the client needs to authenticate to gain\r\n     * network access.\r\n     *\r\n     * The response representation SHOULD contain a link to a resource that allows\r\n     * the user to submit credentials (e.g. with a HTML form).\r\n     *\r\n     * Note that the 511 response SHOULD NOT contain a challenge or the login interface\r\n     * itself, because browsers would show the login interface as being associated with\r\n     * the originally requested URL, which may cause confusion.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"AuthenticationRequired\"] = 511] = \"AuthenticationRequired\";\r\n})(HttpStatusCodes || (HttpStatusCodes = {}));\n\nclass ParseStackError extends Error {\r\n    constructor(code, message, originalString, structuredString) {\r\n        super();\r\n        this.originalString = originalString;\r\n        this.structuredString = structuredString;\r\n        this.message = `[parseStack/${code}] ` + message;\r\n        this.code = code;\r\n        this.name = `parseStack/${code}`;\r\n    }\r\n}\n\nfunction separateFileAndFilepath(fileinfo) {\r\n    const parts = fileinfo.split(\"/\");\r\n    return parts.length < 2\r\n        ? { file: fileinfo, filePath: \"\" }\r\n        : { file: parts.pop(), filePath: parts.slice(0, parts.length - 1).join(\"/\") };\r\n}\r\nfunction fileMapper(i) {\r\n    const { file, filePath } = separateFileAndFilepath(i.file);\r\n    i.file = file;\r\n    if (filePath) {\r\n        i.filePath = filePath;\r\n        i.shortPath = filePath\r\n            .split(\"/\")\r\n            .slice(-3)\r\n            .join(\"/\");\r\n    }\r\n    return i;\r\n}\r\n/**\r\n * parses an Error's `stack` property into a structured\r\n * object. Optionally allowing for filtering and size limiting\r\n */\r\nfunction parseStack(\r\n/** the default stack trace string */\r\nstack, options = {}) {\r\n    const ignorePatterns = options.ignorePatterns || [];\r\n    const limit = options.limit;\r\n    const structured = stack\r\n        .replace(/Error.*\\n.*?at/, \" at\")\r\n        .replace(/at (\\S*) \\(([^\\0]*?)\\:([0-9]*?)\\:([0-9]*)\\)| at (\\/.*?)\\:([0-9]*?)\\:([0-9]*)/g, '{ \"fn\": \"$1\", \"line\": $3$6, \"col\": $4$7, \"file\": \"$2$5\" },');\r\n    let parsed;\r\n    try {\r\n        parsed = JSON.parse(`[ ${structured.replace(/\\,$/, \"\")} ]`)\r\n            .filter((i) => {\r\n            let result = true;\r\n            ignorePatterns.forEach(pattern => {\r\n                if (i.fn.includes(pattern) || i.file.includes(pattern)) {\r\n                    result = false;\r\n                }\r\n            });\r\n            return result;\r\n        })\r\n            .map(fileMapper);\r\n        if (limit) {\r\n            parsed = parsed.slice(0, limit);\r\n        }\r\n    }\r\n    catch (e) {\r\n        throw new ParseStackError(\"parsing-error\", e.message, stack, structured);\r\n    }\r\n    return parsed;\r\n}\n\nclass PathJoinError extends Error {\r\n    constructor(code, message) {\r\n        super();\r\n        this.message = `[pathJoin/${code}] ` + message;\r\n        this.code = code;\r\n        this.name = `pathJoin/${code}`;\r\n    }\r\n}\n\nvar moreThanThreePeriods = /\\.{3,}/g;\r\n// polyfill Array.isArray if necessary\r\nif (!Array.isArray) {\r\n    Array.isArray = function (arg) {\r\n        return Object.prototype.toString.call(arg) === \"[object Array]\";\r\n    };\r\n}\r\n/**\r\n * An ISO-morphic path join that works everywhere;\r\n * all paths are separated by the `/` character and both\r\n * leading and trailing delimiters are stripped\r\n */\r\nfunction pathJoin(...args) {\r\n    // strip undefined segments\r\n    if (!args.every(i => ![\"undefined\"].includes(typeof i))) {\r\n        args = args.filter(a => a);\r\n    }\r\n    // remaining invalid types\r\n    if (!args.every(i => [\"string\", \"number\"].includes(typeof i))) {\r\n        throw new PathJoinError(\"invalid-path-part\", `Attempt to use pathJoin() failed because some of the path parts were of the wrong type. Path parts must be either a string or an number: ${args.map(i => typeof i)}`);\r\n    }\r\n    // JOIN paths\r\n    try {\r\n        const reducer = function (agg, pathPart) {\r\n            let { protocol, parts } = pullOutProtocols(agg);\r\n            parts.push(typeof pathPart === \"number\"\r\n                ? String(pathPart)\r\n                : stripSlashesAtExtremities(pathPart));\r\n            return protocol + parts.filter(i => i).join(\"/\");\r\n        };\r\n        const result = removeSingleDotExceptToStart(doubleDotOnlyToStart(args.reduce(reducer, \"\").replace(moreThanThreePeriods, \"..\")));\r\n        return result;\r\n    }\r\n    catch (e) {\r\n        if (e.name.includes(\"pathJoin\")) {\r\n            throw e;\r\n        }\r\n        else {\r\n            throw new PathJoinError(e.name || \"unknown\", e.message);\r\n        }\r\n    }\r\n}\r\nfunction pullOutProtocols(content) {\r\n    const protocols = [\"https://\", \"http://\", \"file://\", \"tel://\"];\r\n    let protocol = \"\";\r\n    protocols.forEach(p => {\r\n        if (content.includes(p)) {\r\n            protocol = p;\r\n            content = content.replace(p, \"\");\r\n        }\r\n    });\r\n    return { protocol, parts: content.split(\"/\") };\r\n}\r\nfunction stripSlashesAtExtremities(pathPart) {\r\n    const front = pathPart.slice(0, 1) === \"/\" ? pathPart.slice(1) : pathPart;\r\n    const back = front.slice(-1) === \"/\" ? front.slice(0, front.length - 1) : front;\r\n    return back.slice(0, 1) === \"/\" || back.slice(-1) === \"/\"\r\n        ? stripSlashesAtExtremities(back)\r\n        : back;\r\n}\r\n/**\r\n * checks to ensure that a \"..\" path notation is only employed at the\r\n * very start of the path or else throws an error\r\n */\r\nfunction doubleDotOnlyToStart(path) {\r\n    if (path.slice(2).includes(\"..\")) {\r\n        throw new PathJoinError(\"not-allowed\", `The path \"${path}\" is not allowed because it  has \"..\" in it. This notation is fine at the beginning of a path but no where else.`);\r\n    }\r\n    return path;\r\n}\r\n/**\r\n * removes `./` in path parts other than leading segment\r\n */\r\nfunction removeSingleDotExceptToStart(path) {\r\n    let parts = path.split(\"/\");\r\n    return (parts[0] +\r\n        \"/\" +\r\n        parts\r\n            .slice(1)\r\n            .filter(i => i !== \".\")\r\n            .join(\"/\"));\r\n}\r\n/** converts a slash delimited filepath to a dot notation path */\r\nfunction dotNotation(input) {\r\n    return input.replace(/\\//g, \".\");\r\n}\n\nfunction createBindDeploymentConfig(config, methodSettings) {\r\n    const defaultMethodSettings = [\r\n        {\r\n            DataTraceEnabled: true,\r\n            HttpMethod: \"*\",\r\n            LoggingLevel: \"INFO\",\r\n            ResourcePath: \"/*\",\r\n            MetricsEnabled: true\r\n        }\r\n    ];\r\n    const stageName = `${config.service}-${config.stage}`;\r\n    const defaultConfig = {\r\n        resources: {\r\n            Resources: {\r\n                PathMapping: {\r\n                    Type: \"AWS::ApiGateway::BasePathMapping\",\r\n                    DependsOn: \"ApiGatewayStage\",\r\n                    Properties: {\r\n                        DomainName: config.domainName ? config.domainName : undefined,\r\n                        RestApiId: {\r\n                            Ref: \"ApiGatewayRestApi\"\r\n                        },\r\n                        Stage: stageName\r\n                    }\r\n                },\r\n                __deployment__: {\r\n                    Properties: {\r\n                        Description: \"(default deployment description)\"\r\n                    }\r\n                },\r\n                ApiGatewayStage: {\r\n                    Type: \"AWS::ApiGateway::Stage\",\r\n                    Properties: {\r\n                        DeploymentId: {\r\n                            Ref: \"__deployment__\"\r\n                        },\r\n                        RestApiId: {\r\n                            Ref: \"ApiGatewayRestApi\"\r\n                        },\r\n                        StageName: stageName,\r\n                        MethodSettings: methodSettings || defaultMethodSettings\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return { ...defaultConfig, ...config };\r\n}\n\nconst AWS_REGIONS = [\r\n    \"us-east-1\",\r\n    \"us-east-2\",\r\n    \"us-west-1\",\r\n    \"us-west-2\",\r\n    \"eu-west-1\",\r\n    \"eu-west-2\",\r\n    \"eu-west-3\",\r\n    \"eu-north-1\",\r\n    \"eu-central-1\",\r\n    \"sa-east-1\",\r\n    \"ca-central-1\",\r\n    \"ap-south-1\",\r\n    \"ap-northeast-1\",\r\n    \"ap-northeast-2\",\r\n    \"ap-northeast-3\",\r\n    \"ap-southeast-1\",\r\n    \"ap-southeast-2\",\r\n];\n\nfunction serverlessConfigHasApiGatewayTracing(config) {\r\n    return (config.tracing && config.tracing === true) ||\r\n        (typeof config.tracing === \"object\" && config.tracing.apiGateway)\r\n        ? true\r\n        : false;\r\n}\r\nfunction serverlessConfigHasLambdaTracing(config) {\r\n    return (config.tracing && config.tracing === true) || (typeof config.tracing === \"object\" && config.tracing.lambda)\r\n        ? true\r\n        : false;\r\n}\n\nfunction stackTrace(trace) {\r\n    return trace ? trace.split(\"\\n\") : [];\r\n}\n\nfunction apiGatewayError(code, message, priorError) {\r\n    const messagePrefix = `[${code}] `;\r\n    const e = new ApiGatewayError(priorError ? priorError.message : \"\");\r\n    e.errorMessage = !priorError\r\n        ? messagePrefix + message\r\n        : messagePrefix + priorError.message + message;\r\n    e.name = priorError ? priorError.name : \"ApiGatewayError\";\r\n    e.errorCode = code;\r\n    e.stack = priorError\r\n        ? priorError.stack ||\r\n            stackTrace(e.stack)\r\n                .slice(2)\r\n                .join(\"\\n\")\r\n        : stackTrace(e.stack)\r\n            .slice(2)\r\n            .join(\"\\n\");\r\n    return e;\r\n}\r\nclass ApiGatewayError extends Error {\r\n}\n\nfunction createError(fullName, message, priorError) {\r\n    const messagePrefix = `[${fullName}] `;\r\n    const e = new AppError(!priorError\r\n        ? messagePrefix + message\r\n        : messagePrefix + priorError.message + message);\r\n    e.name = priorError ? priorError.code || priorError.name : fullName;\r\n    const parts = fullName.split(\"/\");\r\n    e.code = [...parts].pop();\r\n    e.stack = priorError\r\n        ? priorError.stack ||\r\n            stackTrace(e.stack)\r\n                .slice(2)\r\n                .join(\"\\n\")\r\n        : stackTrace(e.stack)\r\n            .slice(2)\r\n            .join(\"\\n\");\r\n    return e;\r\n}\r\nclass AppError extends Error {\r\n}\n\nexport { AWS_REGIONS, ApiGatewayError, AppError, HttpStatusCodes, LambdaEventParser, LambdaResponse, ParseStackError, PathJoinError, apiGatewayError, createBindDeploymentConfig, createError, dotNotation, getBodyFromPossibleLambdaProxyRequest, isLambdaProxyRequest, parseStack, pathJoin, serverlessConfigHasApiGatewayTracing, serverlessConfigHasLambdaTracing, wait };\n//# sourceMappingURL=index.js.map\n","import { IFmChangedProperties, IModel } from \"@/types\";\nconst equal = require(\"fast-deep-equal/es6\");\n\nexport function compareHashes<T extends IModel>(\n  from: Partial<T>,\n  to: Partial<T>,\n  /**\n   * optionally explicitly state properties so that relationships\n   * can be filtered away\n   */\n  modelProps?: Array<keyof T & string>\n): IFmChangedProperties<T> {\n  const results: IFmChangedProperties<T> = {\n    added: [],\n    changed: [],\n    removed: [],\n  };\n\n  from = from ? from : {};\n  to = to ? to : {};\n\n  let keys: Array<keyof T & string> = Array.from(\n    new Set<keyof T & string>([\n      ...(Object.keys(from) as Array<keyof T & string>),\n      ...Object.keys(to),\n    ] as Array<keyof T & string>)\n  )\n    // META should never be part of comparison\n    .filter((i) => i !== \"META\")\n    // neither should private properties indicated by underscore\n    .filter((i) => i.slice(0, 1) !== \"_\");\n\n  if (modelProps) {\n    keys = keys.filter((i) => modelProps.includes(i));\n  }\n\n  keys.forEach((i) => {\n    if (!to[i]) {\n      results.added.push(i);\n    } else if (from[i] === null) {\n      results.removed.push(i);\n    } else if (!equal(from[i], to[i])) {\n      results.changed.push(i);\n    }\n  });\n\n  return results;\n}\n","import { IDictionary } from \"common-types\";\n\n/**\n * Gets a value in a deeply nested object. This is a replacement to `lodash.get`\n *\n * @param obj the base object to get the value from\n * @param dotPath the path to the object, using \".\" as a delimiter\n * @param defaultValue optionally you may state a default value if the operation results in `undefined`\n */\nexport function get<T = any>(\n  obj: IDictionary,\n  dotPath: string,\n  defaultValue?: any\n): T {\n  const parts = dotPath.split(\".\");\n  let value: any = obj;\n  parts.forEach((p) => {\n    value =\n      typeof value === \"object\" && Object.keys(value).includes(p)\n        ? value[p as keyof typeof value]\n        : undefined;\n  });\n\n  return value ? value : defaultValue;\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag$1 = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag$1 && symToStringTag$1 in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype,\n    objectProto$2 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty$3.call(data, key);\n}\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\n/** Used as references for various `Number` constants. */\nvar INFINITY$1 = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY$1) ? '-0' : result;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nfunction removeIdPropertyFromHash(hash, idProp = \"id\") {\n    const output = {};\n    Object.keys(hash).map((objId) => {\n        const input = hash[objId];\n        output[objId] = {};\n        Object.keys(input).map((prop) => {\n            if (prop !== idProp) {\n                output[objId][prop] = input[prop];\n            }\n        });\n    });\n    return output;\n}\nfunction keyValueDictionaryToArray(dict, options = {}) {\n    const __key__ = options.key || \"id\";\n    const __value__ = options.value || \"value\";\n    return Object.keys(dict).reduce((result, key) => {\n        return result.concat({ [__key__]: key, [__value__]: dict[key] });\n    }, []);\n}\nfunction keyValueArrayToDictionary(input, options = {}) {\n    const __key__ = options.key || \"key\";\n    const __value__ = options.value || \"value\";\n    return input.reduce((output, curr) => {\n        const key = curr[__key__];\n        const value = curr[__value__];\n        output[key] = value;\n        return output;\n    }, {});\n}\n/**\n * hashToArray\n *\n * Converts a hash data structure of {key: value, key2: value2} to an\n * array of [ {id, value}, {id2, value2} ]. This should happen regardless\n * to whether the values are themselves hashes (which they often are) or\n * scalar values.\n *\n * The one edge case is where all the hashes passed in have a value of \"true\"\n * which indicates that this really just a simple value based array encoded as\n * a hash (as is often the case in Firebase for FK relationships).\n *\n * @param hashObj an object of keys that point to some data payload\n * @param ___key__ the property name on the converted array-of-hashes which will contain the key value; by default this is \"id\"\n */\nfunction hashToArray(hashObj, __key__ = \"id\") {\n    if (hashObj && typeof hashObj !== \"object\") {\n        throw new Error(\"Cant convert hash-to-array because hash was not passed in: \" + hashObj);\n    }\n    const hash = Object.assign({}, hashObj);\n    const results = [];\n    const isHashArray = Object.keys(hash).every((i) => hash[i] === true);\n    const isHashValue = Object.keys(hash).every((i) => typeof hash[i] !== \"object\");\n    Object.keys(hash).map((id) => {\n        const obj = typeof hash[id] === \"object\"\n            ? Object.assign(Object.assign({}, hash[id]), { [__key__]: id }) : isHashArray\n            ? id\n            : { [__key__]: id, value: hash[id] };\n        results.push(obj);\n    });\n    return results;\n}\nfunction flatten(list) {\n    return list.reduce((a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), []);\n}\n/**\n * arrayToHash\n *\n * Converts an array of things into a hash/dictionary where \"things\" is a consistent\n * type of data structure (can be either object or primitive)\n *\n * @param arr an array of a particular type\n * @param keyProperty the property that will be used as the dictionaries key; if false\n * then will assign a firebase pushkey\n * @param removeIdProperty allow you to optionally exclude the `id` from the object\n * as it is redundant to the `key` of the hash. By default though, this is _not_ done as\n * Firemodel benefits (and expects) from this duplication.\n */\nfunction arrayToHash(arr, keyProperty, removeIdProperty = false) {\n    if (arr.length === 0) {\n        return {};\n    }\n    const isScalar = typeof arr[0] === \"object\" ? false : true;\n    if (isScalar && keyProperty) {\n        const e = new Error(`You can not have an array of primitive values AND set a keyProperty!`);\n        e.name = \"NotAllowed\";\n        throw e;\n    }\n    if (!keyProperty && !isScalar) {\n        if (arr[0].hasOwnProperty(\"id\")) {\n            keyProperty = \"id\";\n        }\n        else {\n            const e = new Error(`Tried to default to a keyProperty of \"id\" but that property does not appear to be in the array passed in`);\n            e.name = \"NotAllowed\";\n            throw e;\n        }\n    }\n    if (!Array.isArray(arr)) {\n        const e = new Error(`arrayToHash: input was not an array!`);\n        e.name = \"NotAllowed\";\n        throw e;\n    }\n    const output = arr.reduce((prev, curr) => {\n        const key = isScalar\n            ? curr\n            : typeof keyProperty === \"function\"\n                ? keyProperty(curr)\n                : curr[keyProperty];\n        return isScalar\n            ? Object.assign(Object.assign({}, prev), { [key]: true }) : Object.assign(Object.assign({}, prev), { [key]: curr });\n    }, {});\n    return removeIdProperty ? removeIdPropertyFromHash(output) : output;\n}\n/**\n * Snapshot to Array (unordered)\n *\n * converts snapshot directly to JS and then converts hash to an\n * array structure but any sorting that came from the server query\n * will be ignored.\n */\nfunction snapshotToArray(snap, idProp = \"id\") {\n    const hash = snap.val() || {};\n    return hashToArray(hash, idProp);\n}\n/**\n * Converts a Firebase snapshot to JS object with both val() and key\n * represented in the JS object\n *\n * @param snap the Firebase Snapshot\n * @param idProp the property used to store the \"id/key\" of the record\n */\nfunction snapshotToHash(snap, idProp = \"id\") {\n    const hash = snap.val() || {};\n    Object.keys(hash).forEach((key) => typeof hash[key] === \"object\"\n        ? (hash[key][idProp] = key)\n        : (hash[key] = { [idProp]: key, value: hash[key] }));\n    return hash;\n}\n/**\n * Snapshot to Array (ordered)\n *\n * uses Firebase forEach() iterator to gain the appropriate sorting from the query.\n */\nfunction snapshotToOrderedArray(snap, idProp = \"id\") {\n    const output = [];\n    snap.forEach((child) => {\n        const obj = child.val();\n        const key = child.key;\n        if (typeof obj !== \"object\") {\n            throw new Error(`Can't create a list from scalar values: \"${obj}\" | \"${key}\"`);\n        }\n        output.push(Object.assign({ [idProp]: key }, obj));\n        return true;\n    });\n    return output;\n}\nfunction snapshotToOrderedHash(snap, idProp = \"id\") {\n    const orderedArray = this.snapshotToOrderedArray(snap, idProp);\n    return this.arrayToHash(orderedArray);\n}\n/**\n *\n * @param dictionary A dictionary of a structured type\n * @param property Which property in each dictionary item are we getting\n */\nfunction getPropertyAcrossDictionaryItems(dictionary, property) {\n    const output = [];\n    Object.keys(dictionary).map((item) => {\n        const value = get(dictionary[item], property);\n        if (value !== undefined) {\n            output.push(value);\n        }\n    });\n    return output;\n}\n\nexport { arrayToHash, flatten, getPropertyAcrossDictionaryItems, hashToArray, keyValueArrayToDictionary, keyValueDictionaryToArray, removeIdPropertyFromHash, snapshotToArray, snapshotToHash, snapshotToOrderedArray, snapshotToOrderedHash };\n//# sourceMappingURL=index.js.map\n","import { IModel } from \"@/types\";\nimport { hashToArray } from \"typed-conversions\";\nimport { propertiesByModel } from \"@/util\";\n\nexport function getAllPropertiesFromClassStructure<T extends IModel>(model: T) {\n  const modelName = model.constructor.name;\n  const properties =\n    hashToArray(propertiesByModel[modelName], \"property\") || [];\n  let parent = Object.getPrototypeOf(model.constructor);\n\n  while (parent.name) {\n    const subClass = new parent();\n    const subClassName = subClass.constructor.name;\n    properties.push(\n      ...hashToArray(propertiesByModel[subClassName], \"property\")\n    );\n\n    parent = Object.getPrototypeOf(subClass.constructor);\n  }\n\n  return properties.map((p) => p.property);\n}\n","import type { IModel, IRecord } from \"@/types\";\n\nexport function isHasManyRelationship<T extends IModel>(\n  rec: IRecord<T>,\n  property: keyof T & string\n) {\n  return rec.META.relationship(property).relType === \"hasMany\" ? true : false;\n}\n","/**\n * Base **Error** for **FireModel**. Takes _message_ and _type/subtype_ as\n * parameters. The code will be the `subtype`; the name is both.\n */\nexport class FireModelError extends Error {\n  public firemodel = true;\n  public code: string;\n  constructor(message: string, classification: string = \"firemodel/error\") {\n    super(message);\n    const parts = classification.split(\"/\");\n    const [type, subType] =\n      parts.length === 1 ? [\"firemodel\", parts[0]] : parts;\n    this.name = `${type}/${subType}`;\n    this.code = subType;\n  }\n}\n","import { IFnToModelConstructor, IModel, IModelConstructor } from \"@/types\";\n\n// TODO: this is necessitated by the use of `Record` in some error classes\n// which sets up a whole dependency chain\nimport { FireModelError } from \"@/errors/FireModelError\";\nimport { IDictionary } from \"common-types\";\n\nconst registeredModels: IDictionary<new () => any> = {};\n\n/**\n * Registers a model's constructor so that it can be used by name. This\n * is sometime necessary due to circular dependencies.\n *\n * @param model a class constructor derived from `Model`\n */\nexport function modelRegister(...models: IModelConstructor[]) {\n  models.forEach((model) => {\n    if (!model) {\n      throw new FireModelError(\n        `An attempt was made to register a Model subclass but the passed in constructor was undefined!${\n          models.length > 0\n            ? ` [ ${models.length} models being registed during this call ]`\n            : \"\"\n        }`,\n        \"firemodel/not-allowed\"\n      );\n    }\n    if (typeof model !== \"function\" || !model.constructor) {\n      throw new FireModelError(\n        `An attempt was made to register a Model subclass but the passed in constructor was the wrong type [ ${typeof model} ]!\\nmodel passed was: ${model}`,\n        \"firemodel/not-allowed\"\n      );\n    }\n\n    const modelName = new model().constructor.name;\n    registeredModels[modelName] = model;\n  });\n}\n\nexport function listRegisteredModels() {\n  return Object.keys(registeredModels);\n}\n\nexport function modelRegistryLookup(name: string) {\n  const model = registeredModels[name];\n  if (!name) {\n    throw new FireModelError(\n      `Look failed because the model ${name} was not registered!`,\n      \"firemodel/not-allowed\"\n    );\n  }\n\n  return model;\n}\n\n/**\n * When you are building relationships to other `Model`'s it is often\n * benefitial to just pass in the name of the `Model` rather than it's\n * constructor as this avoids the dreaded \"circular dependency\" problem\n * that occur when you try to pass in class constructors which depend\n * on one another.\n */\nexport const modelNameLookup = (name: string) => (): IModelConstructor => {\n  return modelRegistryLookup(name);\n};\n\n/**\n * When you are defining a _relationship_ between `Model`'s it sometimes\n * useful to just pass in the constructor to the other `Model`. This is in\n * contrast to just passing a string name of the model.\n *\n * The advantage here is that the external model does not need to be\n * \"registered\" separately whereas with a string name it would have to be.\n */\nexport const modelConstructorLookup = <T extends IModel>(\n  constructor: IModelConstructor<T> | IFnToModelConstructor<T>\n) => (): IModelConstructor => {\n  // TODO: remove the \"any\"\n  return isConstructable(constructor) ? constructor : (constructor as any)();\n};\n\n// tslint:disable-next-line: ban-types\nexport function isConstructable(fn: IModelConstructor | IFnToModelConstructor) {\n  try {\n    const f = new (fn as IModelConstructor)();\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n","const moreThanThreePeriods = /\\.{3,}/g;\n\n// polyfill Array.isArray if necessary\nif (!Array.isArray) {\n  (Array.isArray as any) = (arg: any) => {\n    return Object.prototype.toString.call(arg) === \"[object Array]\";\n  };\n}\n\nconst errorStr = (type: string) => {\n  return `tried to join something other than undefined, a string or an array [${type}], it was ignored in pathJoin's result`;\n};\n\n/** An ISO-morphic path join that works everywhere */\nexport function pathJoin(...args: any[]) {\n  return args\n    .reduce((prev: string, val: string) => {\n      if (typeof prev === \"undefined\") {\n        return;\n      }\n\n      if (val === undefined) {\n        return prev;\n      }\n\n      return typeof val === \"string\" || typeof val === \"number\"\n        ? joinStringsWithSlash(prev, \"\" + val) // if string or number just keep as is\n        : Array.isArray(val)\n          ? joinStringsWithSlash(prev, pathJoin.apply(null, val)) // handle array with recursion\n          : console.error(errorStr(typeof val));\n    }, \"\")\n    .replace(moreThanThreePeriods, \"..\"); // join the resulting array together\n}\n\nfunction joinStringsWithSlash(str1: string, str2: string) {\n  const str1isEmpty = !str1.length;\n  const str1EndsInSlash = str1[str1.length - 1] === \"/\";\n  const str2StartsWithSlash = str2[0] === \"/\";\n  const res =\n    (str1EndsInSlash && str2StartsWithSlash && str1 + str2.slice(1)) ||\n    (!str1EndsInSlash &&\n      !str2StartsWithSlash &&\n      !str1isEmpty &&\n      str1 + \"/\" + str2) ||\n    str1 + str2;\n  return res;\n}\n","import { IFmCrudOperation, IModel } from \"@/types\";\n\nimport { FireModelError } from \"@/errors\";\nimport { Record } from \"@/core\";\nimport { capitalize } from \"@/util\";\n\nexport class RecordCrudFailure<T extends IModel> extends FireModelError {\n  constructor(\n    rec: Record<T>,\n    crudAction: IFmCrudOperation,\n    transactionId: string,\n    e?: Error\n  ) {\n    super(\n      \"\",\n      e.name !== \"Error\" ? e.name : `firemodel/record-${crudAction}-failure`\n    );\n    const message = `Attempt to \"${crudAction}\" \"${capitalize(\n      rec.modelName\n    )}::${rec.id}\" failed [ ${transactionId} ] ${\n      e ? e.message : \"for unknown reasons\"\n    }`;\n    this.message = message;\n    this.stack = e.stack;\n  }\n}\n","import { FireModelError } from \"@/errors\";\nimport { IDictionary } from \"common-types\";\n\nexport class DecoratorProblem extends FireModelError {\n  constructor(decorator: string, e: Error | string, context?: IDictionary) {\n    super(\"\", \"firemodel/decorator-problem\");\n    const errText = typeof e === \"string\" ? e : e.message;\n    this.message = `There was a problem in the \"${decorator}\" decorator. ${errText}\\n${context}`;\n  }\n}\n","import { FireModelError } from \"@/errors\";\n\nexport class FireModelProxyError extends FireModelError {\n  public firemodel = true;\n  public code: string;\n  public originalError: Error | FireModelError;\n  constructor(\n    e: Error | FireModelError,\n    context: string = \"\",\n    name: string = \"\"\n  ) {\n    super(\"\", !name ? `firemodel/${e.name}` : name);\n\n    this.originalError = e;\n    this.message = context ? `${context}.\\n\\n${e.message}.` : e.message;\n    this.stack = e.stack;\n  }\n}\n","import { FireModelError } from \"@/errors\";\n\nexport class FmUtilityError extends FireModelError {}\n","import { FireModelError, MissingReciprocalInverse } from \"@/errors\";\nimport { IModel, IRecord } from \"@/types\";\n\nimport { capitalize } from \"@/util\";\n\nexport class IncorrectReciprocalInverse<\n  T extends IModel\n> extends FireModelError {\n  constructor(rec: IRecord<T>, property: keyof T & string) {\n    super(\"\", \"firemodel/missing-reciprocal-inverse\");\n\n    let message: string;\n    const relationship = rec.getMetaForRelationship(property);\n    const inverseProperty = rec.META.relationship(property).inverseProperty;\n    if (relationship.inverseIsMissing) {\n      const e = new MissingReciprocalInverse(rec, property);\n      throw e;\n    } else {\n      const recipricalInverse = relationship.fkReciprocalInverseProperty;\n      message = `The model ${\n        rec.modelName\n      } is trying to leverage it's relationship with ${capitalize(\n        relationship.modelName\n      )} but it appears these two models are in conflict! ${\n        rec.modelName\n      } has been defined to look for an inverse property of \"${inverseProperty}\" but on ${\n        relationship.modelName\n      } model the inverse property points back to a property of \"${recipricalInverse}\"! Look at your model definitions and make sure this is addressed.`;\n    }\n    this.message = message;\n  }\n}\n","import { IModel, IRecord } from \"@/types\";\n\nimport { FireModelError } from \"@/errors\";\nimport { capitalize } from \"@/util\";\n\n/**\n * When the record's META points to a inverse property on the FK; this error\n * presents when that `FK[inverseProperty]` doesn't exist in the FK's meta.\n */\nexport class MissingInverseProperty<T extends IModel> extends FireModelError {\n  public from: string;\n  public to: string;\n  public inverseProperty: string;\n\n  constructor(rec: IRecord<T>, property: keyof T & string) {\n    super(\"\", \"firemodel/missing-inverse-property\");\n\n    const fkMeta = rec.getMetaForRelationship(property);\n\n    this.from = capitalize(rec.modelName);\n    this.to = capitalize(fkMeta.modelName);\n    const pkInverse = rec.META.relationship(property).inverseProperty;\n    this.inverseProperty = pkInverse;\n\n    const message = `Missing Inverse Property: the model \"${this.from}\" has defined a relationship with the \"${this.to}\" model where the FK property is \"${property}\" and it states that the \"inverse property\" is \"${pkInverse}\" on the ${this.to} model. Unfortunately the ${this.to} model does NOT define a property called \"${this.inverseProperty}\".`;\n    this.message = message;\n  }\n}\n","import { IModel, IRecord } from \"@/types\";\n\nimport { FireModelError } from \"@/errors\";\nimport { capitalize } from \"@/util\";\n\nexport class MissingReciprocalInverse<T extends IModel> extends FireModelError {\n  constructor(rec: IRecord<T>, property: keyof T & string) {\n    super(\"\", \"firemodel/missing-reciprocal-inverse\");\n\n    const fkMeta = rec.getMetaForRelationship(property);\n\n    const message = `The model \"${capitalize(\n      rec.modelName\n    )}\" is trying to leverage it's relationship with the model \"${capitalize(\n      fkMeta.modelName\n    )}\" through the property \"${property}\" but it appears these two models definitions are in conflict. ${capitalize(\n      rec.modelName\n    )} has been defined to look for an inverse property of \"${capitalize(\n      fkMeta.modelName\n    )}.${\n      rec.META.relationship(property).inverseProperty\n    }\" but it is not defined (or not defined as a relationship) on the ${capitalize(\n      fkMeta.modelName\n    )}! Look at your model definitions and make sure this is addressed.`;\n    this.message = message;\n  }\n}\n","import { IModel, IRecord } from \"@/types\";\n\nimport { FireModelError } from \"@/errors\";\n\nexport class NotHasManyRelationship<T extends IModel> extends FireModelError {\n  constructor(rec: IRecord<T>, property: string, method: string) {\n    super(\"\", \"firemodel/not-hasMany-reln\");\n    this.message = `attempt to call ${rec.modelName}::${method}() with property \"${property}\" failed because ${property} does not have a hasMany relationship`;\n  }\n}\n","import { IModel, IRecord } from \"@/types\";\n\nimport { FireModelError } from \"@/errors\";\n\nexport class NotHasOneRelationship<T extends IModel> extends FireModelError {\n  constructor(rec: IRecord<T>, property: string, method: string) {\n    super(\"\", \"firemodel/not-hasOne-reln\");\n    this.message = `attempt to call ${rec.modelName}::${method}() with property \"${property}\" failed because ${property} does not have a hasOne relationship`;\n  }\n}\n","import { FireModelError } from \"@/errors\";\nimport { IFmRelationshipOperation } from \"@/types\";\nimport { IModel } from \"@/types\";\nimport { Record } from \"@/core\";\n\nexport class UnknownRelationshipProblem<\n  T extends IModel\n> extends FireModelError {\n  constructor(\n    err: Error,\n    rec: Record<T>,\n    property: keyof T,\n    operation: IFmRelationshipOperation | \"n/a\" = \"n/a\",\n    whileDoing?: string\n  ) {\n    const message = `An unexpected error occurred while working with a \"${operation}\" operation on ${\n      rec.modelName\n    }::${property}. ${\n      whileDoing\n        ? `This error was encounted while working on ${whileDoing}. `\n        : \"\"\n    }The error reported was [${err.name}]: ${err.message}`;\n    super(message, \"firemodel/unknown-relationship-problem\");\n    this.stack = err.stack;\n  }\n}\n","import { FmUtilityError } from \"@/errors\";\nimport { IDictionary } from \"common-types\";\n\n/**\n * Sets a value at a nested point within base object passed in. This is meant as a\n * replacement to use of `lodash.set()`.\n *\n * @param obj the base object which is being mutated\n * @param dotPath the path into the object where the mutation will take place, delimited by `.`\n * @param value The value to set at the _dotPath_\n * @param createIfNonExistant by default, if the path to the object does not exist then an error is thrown but if you want you can state the desire to have the full path created\n */\nexport function set(\n  obj: IDictionary,\n  dotPath: string,\n  value: any,\n  createIfNonExistant: boolean = false\n) {\n  if (!dotPath) {\n    throw new FmUtilityError(\n      `Attempt to set value into a dotPath but the dotPath was empty!`,\n      \"not-allowed\"\n    );\n  }\n  const parts = dotPath.split(/\\??\\./);\n  const allButLast = parts.slice(0, parts.length - 2);\n  const key = parts.pop();\n  let ref = obj;\n\n  // iterate the ref to the leaf node\n  allButLast.forEach((p) => {\n    if (!ref[p]) {\n      if (createIfNonExistant) {\n        ref[p as keyof typeof ref] = {};\n      } else {\n        throw new FmUtilityError(\n          `The dotPath -- ${dotPath} -- does not exist in the passed in object. You must either expressly state that you want the object structure created or this a real error that must be addressed otherwise. The part of the path which this failed on was \"${p}\".`\n        );\n      }\n    } else if (typeof ref[p] !== \"object\") {\n      throw new FmUtilityError(\n        `Failed to set the path of \"${dotPath}\" of the passed in base object because the base object had a scalar value along that path and setting this would have changed the object's data structure in way which is not allowed! The scalar value was found in the \"${p}\" component of the path.`\n      );\n    }\n\n    ref = ref[p];\n  });\n\n  ref[key as keyof typeof ref] = value;\n}\n","import { IAuditChange, IModel } from \"@/types\";\n\nimport { IDictionary } from \"common-types\";\n\nexport function normalized(...args: string[]) {\n  return args\n    .filter((a) => a)\n    .map((a) => a.replace(/$[\\.\\/]/, \"\").replace(/[\\.\\/]^/, \"\"))\n    .map((a) => a.replace(/\\./g, \"/\"));\n}\n\nexport function slashNotation(...args: string[]) {\n  return normalized(...args).join(\"/\");\n}\n\nexport function firstKey<T extends IDictionary = IDictionary>(thingy: T) {\n  return Object.keys(thingy)[0];\n}\n\nexport function dotNotation(...args: string[]) {\n  return normalized(...args)\n    .join(\".\")\n    .replace(\"/\", \".\");\n}\n\nexport function updateToAuditChanges<T = any>(\n  changed: IDictionary,\n  prior: IDictionary\n) {\n  return Object.keys(changed).reduce<IAuditChange[]>(\n    (prev: IAuditChange[], curr: Extract<keyof T, string>) => {\n      const after = changed[curr];\n      const before = prior[curr];\n      const propertyAction = !before ? \"added\" : !after ? \"removed\" : \"updated\";\n      const payload: IAuditChange = {\n        before,\n        after,\n        property: curr,\n        action: propertyAction,\n      };\n      prev.push(payload);\n      return prev;\n    },\n    []\n  );\n}\n\nexport function withoutMetaOrPrivate<T extends IModel>(model: T) {\n  if (model && model.META) {\n    model = { ...model };\n    delete model.META;\n  }\n  if (model) {\n    Object.keys((key: keyof T & string) => {\n      if (key.slice(0, 1) === \"_\") {\n        delete model[key];\n      }\n    });\n  }\n  return model;\n}\n\nexport function capitalize(str: string) {\n  return str ? str.slice(0, 1).toUpperCase() + str.slice(1) : \"\";\n}\n\nexport function lowercase(str: string) {\n  return str ? str.slice(0, 1).toLowerCase() + str.slice(1) : \"\";\n}\n\nexport function stripLeadingSlash(str: string) {\n  return str.slice(0, 1) === \"/\" ? str.slice(1) : str;\n}\n","import { IDictionary } from \"common-types\";\nimport { IFmModelMeta } from \"@/types/index\";\n\nconst meta: IDictionary<IFmModelMeta> = {};\n\nexport function addModelMeta(\n  modelName: keyof typeof meta,\n  props: IFmModelMeta\n) {\n  meta[modelName] = props;\n}\n\n/**\n * Returns the META info for a given model, it will attempt to resolve\n * it locally first but if that is not available (as is the case with\n * self-reflexify relationships) then it will leverage the ModelMeta store\n * to get the meta information.\n *\n * @param modelKlass a model or record which exposes META property\n */\nexport function getModelMeta(modelKlass: IDictionary): Partial<IFmModelMeta> {\n  const localMeta: IFmModelMeta = modelKlass.META;\n  const modelMeta: IFmModelMeta = meta[modelKlass.modelName];\n  return localMeta && localMeta.properties ? localMeta : modelMeta || {};\n}\n\nexport function modelsWithMeta() {\n  return Object.keys(meta);\n}\n","import { getProperties } from \"./index\";\n\nexport function getPushKeys(target: object) {\n  const props = getProperties(target);\n  return props.filter((p) => p.pushKey).map((p) => p.property);\n}\n","import { IFmModelPropertyMeta, IModel } from \"@/types\";\n\nimport { IDictionary } from \"common-types\";\nimport { hashToArray } from \"typed-conversions\";\n\nexport function isProperty(modelKlass: IDictionary) {\n  return (prop: string) => {\n    return getModelProperty(modelKlass)(prop) ? true : false;\n  };\n}\n\n/** Properties accumlated by propertyDecorators  */\nexport const propertiesByModel: IDictionary<IDictionary<\n  IFmModelPropertyMeta\n>> = {};\n\n/** allows the addition of meta information to be added to a model's properties */\nexport function addPropertyToModelMeta<T extends IModel = IModel>(\n  modelName: string,\n  property: string,\n  meta: IFmModelPropertyMeta<T>\n) {\n  if (!propertiesByModel[modelName]) {\n    propertiesByModel[modelName] = {};\n  }\n\n  // TODO: investigate why we need to genericize to model (from <T>)\n  propertiesByModel[modelName][property] = meta as IFmModelPropertyMeta<IModel>;\n}\n\n/** lookup meta data for schema properties */\nexport function getModelProperty<T extends IModel = IModel>(model: T) {\n  const className = model.constructor.name;\n  const propsForModel = getProperties(model);\n\n  return (prop: string) => {\n    return propsForModel.find((value) => {\n      return value.property === prop;\n    });\n  };\n}\n\n/**\n * Gets all the properties for a given model\n *\n * @param modelConstructor the schema object which is being looked up\n */\nexport function getProperties<T extends IModel>(model: T) {\n  const modelName = model.constructor.name;\n  const properties =\n    hashToArray(propertiesByModel[modelName], \"property\") || [];\n  let parent = Object.getPrototypeOf(model.constructor);\n\n  while (parent.name) {\n    const subClass = new parent();\n    const subClassName = subClass.constructor.name;\n    properties.push(\n      ...hashToArray(propertiesByModel[subClassName], \"property\")\n    );\n\n    parent = Object.getPrototypeOf(subClass.constructor);\n  }\n\n  return properties;\n}\n","import { IFmModelRelationshipMeta, IModel } from \"@/types\";\n\nimport { IDictionary } from \"common-types\";\nimport { hashToArray } from \"typed-conversions\";\n\nexport const relationshipsByModel: IDictionary<IDictionary<\n  IFmModelRelationshipMeta\n>> = {};\n\n/** allows the addition of meta information to be added to a IModel's relationships */\nexport function addRelationshipToModelMeta<T extends IModel = IModel>(\n  IModelName: string,\n  property: string,\n  meta: IFmModelRelationshipMeta<T>\n) {\n  if (!relationshipsByModel[IModelName]) {\n    relationshipsByModel[IModelName] = {};\n  }\n  // TODO: investigate why we need to genericize to IModel (from <T>)\n  relationshipsByModel[IModelName][property] = meta as IFmModelRelationshipMeta<\n    any\n  >;\n}\n\nexport function isRelationship(IModelKlass: IDictionary) {\n  return (prop: string) => {\n    return getModelRelationship(IModelKlass)(prop) ? true : false;\n  };\n}\n\nexport function getModelRelationship<T extends IModel>(IModel: T) {\n  const relnsForIModel = getRelationships(IModel);\n  const className = IModel.constructor.name;\n\n  return (prop: string) => {\n    return relnsForIModel.find((value) => {\n      return value.property === prop;\n    });\n  };\n}\n\n/**\n * Gets all the relationships for a given IModel\n */\nexport function getRelationships(IModel: object) {\n  const IModelName = IModel.constructor.name;\n  const properties =\n    hashToArray(relationshipsByModel[IModelName], \"property\") || [];\n  let parent = Object.getPrototypeOf(IModel.constructor);\n\n  while (parent.name) {\n    const subClass = new parent();\n    const subClassName = subClass.constructor.name;\n    properties.push(\n      ...hashToArray(relationshipsByModel[subClassName], \"property\")\n    );\n\n    parent = Object.getPrototypeOf(subClass.constructor);\n  }\n\n  return properties;\n}\n","import {\n  IAbstractedDatabase,\n  IAdminConfig,\n  IClientConfig,\n} from \"universal-fire\";\nimport { IDictionary, pathJoin } from \"common-types\";\nimport {\n  IFmChangedProperties,\n  IFmModelMeta,\n  IFmModelPropertyMeta,\n  IFmModelRelationshipMeta,\n  IReduxDispatch,\n  IModel,\n} from \"@/types\";\nimport {} from \"@/core\";\n\nimport {\n  getModelMeta,\n  modelRegister,\n  listRegisteredModels,\n  modelRegistryLookup,\n} from \"@/util\";\n\nimport type { Record } from \"@/core\";\n\n// tslint:disable-next-line:no-var-requires\nconst pluralize = require(\"pluralize\");\nconst defaultDispatch: IReduxDispatch<any, any> = async (context) => \"\";\n\nconst registeredModules: IDictionary<new () => any> = {};\n\nexport class FireModel<T extends IModel> {\n  public static get defaultDb() {\n    return FireModel._defaultDb;\n  }\n\n  /**\n   * Any FireModel transaction needs to connect to the database\n   * via a passed-in reference to \"abstracted-client\" or \"abstracted-admin\"\n   * database. These references can be done with any/every transaction via\n   * the options hash but it is often more convient to set a \"fallback\" or\n   * \"default\" database to use should a given transaction not state a DB\n   * connection explicitly.\n   */\n  public static set defaultDb(db: IAbstractedDatabase) {\n    this._defaultDb = db;\n  }\n\n  /**\n   * All Watchers and write-based transactions in FireModel offer a way to\n   * call out to a \"dispatch\" function. This can be done on a per-transaction\n   * basis but more typically it makes sense to just set this once here and then\n   * all subsequent transactions will use this dispatch function unless they are\n   * explicitly passed another.\n   */\n  public static set dispatch(fn: IReduxDispatch) {\n    if (!fn) {\n      FireModel._dispatchActive = false;\n      FireModel._dispatch = defaultDispatch;\n    } else {\n      FireModel._dispatchActive = true;\n      FireModel._dispatch = fn;\n    }\n  }\n\n  /**\n   * The default dispatch function which should be called/notified whenever\n   * a write based transaction has modified state.\n   */\n  public static get dispatch() {\n    return FireModel._dispatch;\n  }\n\n  //#endregion\n\n  //#region PUBLIC INTERFACE\n\n  /**\n   * The name of the model; typically a \"sigular\" name\n   */\n  public get modelName() {\n    const name = this._model.constructor.name;\n    const pascal = name.slice(0, 1).toLowerCase() + name.slice(1);\n\n    return pascal;\n  }\n\n  /**\n   * The plural name of the model (which plays a role in storage of state in both\n   * the database as well as the dispatch function's path)\n   */\n  public get pluralName() {\n    const explicitPlural = this.META.plural;\n    return explicitPlural || pluralize(this.modelName);\n  }\n\n  public get dbPath() {\n    return \"dbPath was not overwritten!\";\n  }\n\n  public get localPath() {\n    return \"dbPath was not overwritten!\";\n  }\n\n  public get META(): IFmModelMeta<T> {\n    return getModelMeta(this._model);\n  }\n\n  /**\n   * A list of all the properties -- and those properties\n   * meta information -- contained on the given model\n   */\n  public get properties(): IFmModelPropertyMeta[] {\n    const meta = getModelMeta(this._model);\n    return meta.properties;\n  }\n\n  /**\n   * A list of all the realtionships -- and those relationships\n   * meta information -- contained on the given model\n   */\n  public get relationships(): IFmModelRelationshipMeta[] {\n    const meta = getModelMeta(this._model);\n    return meta.relationships;\n  }\n\n  public get dispatch() {\n    return FireModel.dispatch;\n  }\n\n  public static get isDefaultDispatch() {\n    return FireModel.dispatch === defaultDispatch;\n  }\n\n  public get dispatchIsActive(): boolean {\n    return FireModel._dispatchActive;\n  }\n\n  /** the connected real-time database */\n  public get db(): IAbstractedDatabase {\n    if (!this._db) {\n      this._db = FireModel.defaultDb;\n    }\n    if (!this._db) {\n      const e = new Error(\n        `Can't get DB as it has not been set yet for this instance and no default database exists [ ${this.modelName} ]!`\n      );\n      e.name = \"FireModel::NoDatabase\";\n      throw e;\n    }\n\n    return this._db;\n  }\n\n  public get pushKeys() {\n    return (this._model as IModel).META.pushKeys;\n  }\n\n  public static auditLogs: string = \"/auditing\";\n\n  /**\n   * **connect**\n   *\n   * This static initializer facilitates connecting **FireModel** with\n   * the firebase database in a compact and convenient way:\n```typescript\nimport { DB } from 'abstracted-xxx';\nconst db = await FireModel.connect(DB, options);\n```\n   * This method not only sets **FireModel**'s `defaultDb` property but\n   * also returns a reference to the `abstracted-client`/`abstracted-admin`\n   * object so you can use this externally to FireModel should you choose to.\n   *\n   * Note: each _CRUD_ action in FireModel allows passing\n   * in a DB connection (which opens up the possibility of multiple firebase\n   * databases) but the vast majority of projects only have ONE firebase\n   * database so this just makes the whole process much easier.\n   */\n  public static async connect<T extends IAbstractedDatabase>(\n    RTDB: {\n      connect: (options: Partial<IAdminConfig> & IClientConfig) => T;\n    },\n    options: Partial<IAdminConfig> & IClientConfig\n  ) {\n    const db = await RTDB.connect(options);\n    FireModel.defaultDb = db;\n    return db;\n  }\n\n  public static register<T extends IModel = IModel>(model: new () => T) {\n    modelRegister(model);\n  }\n\n  public static listRegisteredModels() {\n    return listRegisteredModels();\n  }\n\n  public static lookupModel(name: string) {\n    return modelRegistryLookup(name);\n  }\n\n  //#region STATIC INTERFACE\n\n  public static isBeingWatched(path: string): boolean {\n    // TODO: implement this!\n    return false;\n  }\n  private static _defaultDb: IAbstractedDatabase;\n  private static _dispatchActive: boolean = false;\n  /** the dispatch function used to interact with frontend frameworks */\n  private static _dispatch: IReduxDispatch = defaultDispatch;\n\n  //#endregion\n\n  //#region OBJECT INTERFACE\n\n  /** the data structure/model that this class operates around */\n  protected _model: T;\n  protected _modelConstructor: new () => T;\n  protected _db: IAbstractedDatabase;\n\n  //#endregion\n\n  //#region PROTECTED INTERFACE\n\n  protected _getPaths(\n    rec: Record<T>,\n    deltas: IFmChangedProperties<T>\n  ): IDictionary {\n    const added = (deltas.added || []).reduce((agg: IDictionary, curr) => {\n      agg[pathJoin(this.dbPath, curr)] = rec.get(curr);\n      return agg;\n    }, {});\n    const removed = (deltas.removed || []).reduce((agg: IDictionary, curr) => {\n      agg[pathJoin(this.dbPath, curr)] = null;\n      return agg;\n    }, {});\n    const updated = (deltas.changed || []).reduce((agg: IDictionary, curr) => {\n      agg[pathJoin(this.dbPath, curr)] = rec.get(curr);\n      return agg;\n    }, {});\n\n    return { ...added, ...removed, ...updated };\n  }\n\n  //#endregion\n}\n","import { FireModel, Record } from \"@/core\";\nimport {\n  IAbstractedDatabase,\n  IComparisonOperator,\n  ISerializedQuery,\n  SerializedQuery,\n} from \"universal-fire\";\nimport { IDictionary, epochWithMilliseconds } from \"common-types\";\nimport { IListOptions, IModel, IPrimaryKey, IReduxDispatch } from \"@/types\";\nimport { capitalize, getModelMeta, pathJoin } from \"@/util\";\n\nimport { FireModelError } from \"@/errors\";\nimport { arrayToHash } from \"typed-conversions\";\n\nconst DEFAULT_IF_NOT_FOUND = \"__DO_NOT_USE__\";\n\nfunction addTimestamps<T extends IModel>(obj: IDictionary) {\n  const datetime = new Date().getTime();\n  const output: IDictionary = {};\n  Object.keys(obj).forEach((i) => {\n    output[i] = {\n      ...obj[i],\n      createdAt: datetime,\n      lastUpdated: datetime,\n    };\n  });\n\n  return output as T;\n}\nexport class List<T extends IModel> extends FireModel<T> {\n  //#region STATIC Interfaces\n\n  /**\n   * Sets the default database to be used by all FireModel classes\n   * unless explicitly told otherwise\n   */\n  public static set defaultDb(db: IAbstractedDatabase) {\n    FireModel.defaultDb = db;\n  }\n\n  public static get defaultDb() {\n    return FireModel.defaultDb;\n  }\n\n  /**\n   * Set\n   *\n   * Sets a given model to the payload passed in. This is\n   * a destructive operation ... any other records of the\n   * same type that existed beforehand are removed.\n   */\n  public static async set<T extends IModel>(\n    model: new () => T,\n    payload: IDictionary<T>,\n    options: IListOptions<T> = {}\n  ) {\n    try {\n      const m = Record.create(model, options);\n      // If Auditing is one we must be more careful\n      if (m.META.audit) {\n        const existing = await List.all(model, options);\n        if (existing.length > 0) {\n          // TODO: need to write an appropriate AUDIT EVENT\n          // TODO: implement\n        } else {\n          // LIST_SET event\n          // TODO: need to write an appropriate AUDIT EVENT\n          // TODO: implement\n        }\n      } else {\n        // Without auditing we can just set the payload into the DB\n        const datetime = new Date().getTime();\n        await FireModel.defaultDb.set(\n          `${m.META.dbOffset}/${m.pluralName}`,\n          addTimestamps(payload)\n        );\n      }\n\n      const current = await List.all(model, options);\n      return current;\n    } catch (e) {\n      const err = new Error(`Problem adding new Record: ${e.message}`);\n      err.name = e.name !== \"Error\" ? e.name : \"FireModel\";\n      throw e;\n    }\n  }\n\n  public static set dispatch(fn: IReduxDispatch) {\n    FireModel.dispatch = fn;\n  }\n\n  public static create<T extends IModel>(\n    model: new () => T,\n    options?: IListOptions<T>\n  ) {\n    return new List<T>(model, options);\n  }\n\n  /**\n   * Creates a List<T> which is populated with the passed in query\n   *\n   * @param schema the schema type\n   * @param query the serialized query; note that this LIST will override the path of the query\n   * @param options model options\n   */\n  public static async fromQuery<T extends IModel>(\n    model: new () => T,\n    query: ISerializedQuery<T>,\n    options: IListOptions<T> = {}\n  ): Promise<List<T>> {\n    const list = List.create(model, options);\n\n    const path =\n      options && options.offsets\n        ? List.dbPath(model, options.offsets)\n        : List.dbPath(model);\n\n    query.setPath(path);\n    list._query = query;\n    await list.load(query);\n\n    return list;\n  }\n\n  /**\n   * Loads all the records of a given schema-type ordered by lastUpdated\n   *\n   * @param schema the schema type\n   * @param options model options\n   */\n  public static async all<T extends IModel>(\n    model: new () => T,\n    options: IListOptions<T> = {}\n  ): Promise<List<T>> {\n    const query = SerializedQuery.create<T>(this.defaultDb).orderByChild(\n      \"lastUpdated\"\n    );\n    const list = await List.fromQuery<T>(model, query, options);\n\n    return list;\n  }\n\n  /**\n   * Loads the first X records of the Schema type where\n   * ordering is provided by the \"createdAt\" property\n   *\n   * @param model the model type\n   * @param howMany the number of records to bring back\n   * @param options model options\n   */\n  public static async first<T extends IModel>(\n    model: new () => T,\n    howMany: number,\n    options: IListOptions<T> = {}\n  ): Promise<List<T>> {\n    const query = SerializedQuery.create<T>(this.defaultDb)\n      .orderByChild(\"createdAt\")\n      .limitToLast(howMany);\n    const list = await List.fromQuery(model, query, options);\n\n    return list;\n  }\n\n  /**\n   * recent\n   *\n   * Get recent items of a given type/schema (based on lastUpdated)\n   *\n   * @param model the TYPE you are interested\n   * @param howMany the quantity to of records to bring back\n   * @param offset start at an offset position (useful for paging)\n   * @param options\n   */\n  public static async recent<T extends IModel>(\n    model: new () => T,\n    howMany: number,\n    offset: number = 0,\n    options: IListOptions<T> = {}\n  ): Promise<List<T>> {\n    const query = SerializedQuery.create<T>(this.defaultDb)\n      .orderByChild(\"lastUpdated\")\n      .limitToFirst(howMany);\n    const list = await List.fromQuery(model, query, options);\n\n    return list;\n  }\n\n  /**\n   * **since**\n   *\n   * Brings back all records that have changed since a given date (using `lastUpdated` field)\n   */\n  public static async since<T extends IModel>(\n    model: new () => T,\n    since: epochWithMilliseconds,\n    options: IListOptions<T> = {}\n  ): Promise<List<T>> {\n    if (typeof since !== \"number\") {\n      const e = new Error(\n        `Invalid \"since\" parameter; value must be number instead got a(n) ${typeof since} [ ${since} ]`\n      );\n      e.name = \"NotAllowed\";\n      throw e;\n    }\n\n    const query = SerializedQuery.create<T>(this.defaultDb)\n      .orderByChild(\"lastUpdated\")\n      .startAt(since);\n\n    const list = await List.fromQuery(model, query, options);\n\n    return list;\n  }\n\n  /**\n   * **List.inactive()**\n   *\n   * provides a way to sort out the \"x\" _least active_ records where\n   * \"least active\" means that their `lastUpdated` property has gone\n   * without any update for the longest.\n   */\n  public static async inactive<T extends IModel>(\n    model: new () => T,\n    howMany: number,\n    options: IListOptions<T> = {}\n  ): Promise<List<T>> {\n    const query = SerializedQuery.create<T>(this.defaultDb)\n      .orderByChild(\"lastUpdated\")\n      .limitToLast(howMany);\n    const list = await List.fromQuery(model, query, options);\n\n    return list;\n  }\n\n  /**\n   * **List.last()**\n   *\n   * Lists the _last \"x\"_ items of a given model where \"last\" refers to the datetime\n   * that the record was **created**.\n   */\n  public static async last<T extends IModel>(\n    model: new () => T,\n    howMany: number,\n    options: IListOptions<T> = {}\n  ): Promise<List<T>> {\n    const query = SerializedQuery.create<T>(this.defaultDb)\n      .orderByChild(\"createdAt\")\n      .limitToFirst(howMany);\n    const list = await List.fromQuery(model, query, options);\n\n    return list;\n  }\n\n  /**\n   * **List.find()**\n   *\n   * Runs a `List.where()` search and returns the first result as a _model_\n   * of type `T`. If no results were found it returns `undefined`.\n   */\n  public static async find<T extends IModel, K extends keyof T>(\n    model: new () => T,\n    property: K & string,\n    value: T[K] | [IComparisonOperator, T[K]],\n    options: IListOptions<T> = {}\n  ) {\n    const results = await List.where(model, property, value, options);\n    return results.length > 0 ? results.data[0] : undefined;\n  }\n\n  /**\n   * Puts an array of records into Firemodel as one operation; this operation\n   * is only available to those who are using the Admin SDK/API.\n   */\n  public static async bulkPut<T extends IModel>(\n    model: new () => T,\n    records: T[] | IDictionary<T>,\n    options: IListOptions<T> = {}\n  ) {\n    if (!FireModel.defaultDb.isAdminApi) {\n      throw new FireModelError(\n        `You must use the Admin SDK/API to use the bulkPut feature. This may change in the future but in part because the dispatch functionality is not yet set it is restricted to the Admin API for now.`\n      );\n    }\n\n    if (Array.isArray(records)) {\n      records = arrayToHash<T>(records);\n    }\n\n    const dbPath = List.dbPath(model, options.offsets);\n    await FireModel.defaultDb.update(dbPath, records);\n  }\n\n  /**\n   * **List.where()**\n   *\n   * A static inializer which give you a list of all records of a given model\n   * which meet a given logical condition. This condition is executed on the\n   * **Firebase** side and a `List` -- even if no results met the criteria --\n   * is returned.\n   *\n   * **Note:** the default comparison operator is **equals** but you can\n   * override this default by adding a _tuple_ to the `value` where the first\n   * array item is the operator, the second the value you are comparing against.\n   */\n  public static async where<T extends IModel, K extends keyof T>(\n    model: new () => T,\n    property: K & string,\n    value: T[K] | [IComparisonOperator, T[K]],\n    options: IListOptions<T> = {}\n  ) {\n    let operation: IComparisonOperator = \"=\";\n    let val = value;\n    if (Array.isArray(value)) {\n      val = value[1];\n      operation = value[0];\n    }\n    const query = SerializedQuery.create<T>(this.defaultDb)\n      .orderByChild(property)\n      // @ts-ignore\n      // Not sure why there is a typing issue here.\n      .where(operation, val);\n\n    const list = await List.fromQuery(model, query, options);\n\n    return list;\n  }\n\n  // TODO: add unit tests!\n  /**\n   * Get's a _list_ of records. The return object is a `List` but the way it is composed\n   * doesn't actually do a query against the database but instead it just takes the array of\n   * `id`'s passed in,\n   *\n   * **Note:** the term `ids` is not entirely accurate, it should probably be phrased as `fks`\n   * because the \"id\" can be any form of `ICompositeKey` as well just a plain `id`. The naming\n   * here is just to retain consistency with the **Watch** api.\n   */\n  public static async ids<T extends IModel>(\n    model: new () => T,\n    ...fks: IPrimaryKey<T>[]\n  ) {\n    const promises: any[] = [];\n    const results: T[] = [];\n    fks.forEach((fk) => {\n      promises.push(Record.get(model, fk).then((p) => results.push(p.data)));\n    });\n    await Promise.all(promises);\n    const obj = new List(model);\n    obj._data = results;\n\n    return obj;\n  }\n\n  /**\n   * If you want to just get the `dbPath` of a Model you can call\n   * this static method and the path will be returned.\n   *\n   * **Note:** the optional second parameter lets you pass in any\n   * dynamic path segments if that is needed for the given model.\n   */\n  public static dbPath<T extends IModel, K extends keyof T>(\n    model: new () => T,\n    offsets?: Partial<T>\n  ) {\n    const obj = offsets ? List.create(model, { offsets }) : List.create(model);\n\n    return obj.dbPath;\n  }\n\n  protected _offsets: Partial<T>;\n\n  //#endregion\n\n  private _data: T[] = [];\n  private _query: ISerializedQuery<T>;\n\n  constructor(model: new () => T, options: IListOptions<T> = {}) {\n    super();\n    this._modelConstructor = model;\n    this._model = new model();\n    if (options.db) {\n      this._db = options.db;\n      if (!FireModel.defaultDb) {\n        FireModel.defaultDb = options.db;\n      }\n    }\n    if (options.offsets) {\n      this._offsets = options.offsets;\n    }\n  }\n\n  public get query(): ISerializedQuery<T> {\n    return this._query;\n  }\n\n  public get length(): number {\n    return this._data.length;\n  }\n\n  public get dbPath() {\n    const dbOffset = getModelMeta(this._model).dbOffset;\n\n    return [this._injectDynamicDbOffsets(dbOffset), this.pluralName].join(\"/\");\n  }\n\n  /**\n   * Gives the path in the client state tree to the beginning\n   * where this LIST will reside.\n   *\n   * Includes `localPrefix` and `pluralName`, but does not include `localPostfix`\n   */\n  public get localPath() {\n    const meta = this._model.META || getModelMeta(this._model);\n    return pathJoin(\n      meta.localPrefix,\n      meta.localModelName !== this.modelName\n        ? meta.localModelName\n        : this.pluralName\n    );\n  }\n\n  /**\n   * Used with local state management tools, it provides a postfix to the state tree path\n   * The default is `all` and it will probably be used in most cases\n   *\n   * e.g. If the model is called `Tree` then your records will be stored at `trees/all`\n   * (assuming the default `all` postfix)\n   */\n  public get localPostfix() {\n    const meta = this._model.META || getModelMeta(this._model);\n    return meta.localPostfix;\n  }\n\n  /** Returns another List with data filtered down by passed in filter function */\n  public filter(f: ListFilterFunction<T>) {\n    const list = List.create(this._modelConstructor);\n    list._data = this._data.filter(f);\n    return list;\n  }\n\n  /** Returns another List with data filtered down by passed in filter function */\n  public find(\n    f: ListFilterFunction<T>,\n    defaultIfNotFound = DEFAULT_IF_NOT_FOUND\n  ): Record<T> {\n    const filtered = this._data.filter(f);\n    const r = Record.create(this._modelConstructor);\n    if (filtered.length > 0) {\n      return Record.createWith(this._modelConstructor, filtered[0]);\n    } else {\n      if (defaultIfNotFound !== DEFAULT_IF_NOT_FOUND) {\n        return defaultIfNotFound as any;\n      } else {\n        const e = new Error(\n          `find(fn) did not find a value in the List [ length: ${this.data.length} ]`\n        );\n        e.name = \"NotFound\";\n        throw e;\n      }\n    }\n  }\n\n  public filterWhere<K extends keyof T>(prop: K, value: T[K]): List<T> {\n    const whereFilter = (item: T) => item[prop] === value;\n\n    const list = new List(this._modelConstructor);\n    list._data = this.data.filter(whereFilter);\n    return list;\n  }\n\n  public filterContains<K extends keyof T>(prop: K, value: any): List<T> {\n    return this.filter((item: any) => Object.keys(item[prop]).includes(value));\n  }\n\n  /**\n   * findWhere\n   *\n   * returns the first record in the list where the property equals the\n   * specified value. If no value is found then an error is thrown unless\n   * it is stated\n   */\n  public findWhere(\n    prop: keyof T & string,\n    value: T[typeof prop],\n    defaultIfNotFound = DEFAULT_IF_NOT_FOUND\n  ): Record<T> {\n    const list =\n      this.META.isProperty(prop) ||\n      (this.META.isRelationship(prop) &&\n        this.META.relationship(prop).relType === \"hasOne\")\n        ? this.filterWhere(prop, value)\n        : this.filterContains(prop, value);\n\n    if (list.length > 0) {\n      return Record.createWith(this._modelConstructor, list._data[0]);\n    } else {\n      if (defaultIfNotFound !== DEFAULT_IF_NOT_FOUND) {\n        return defaultIfNotFound as any;\n      } else {\n        const valid =\n          this.META.isProperty(prop) ||\n          (this.META.isRelationship(prop) &&\n            this.META.relationship(prop).relType === \"hasOne\")\n            ? this.map((i) => i[prop])\n            : this.map((i) => Object.keys(i[prop]));\n        const e = new Error(\n          `List<${\n            this.modelName\n          }>.findWhere(${prop}, ${value}) was not found in the List [ length: ${\n            this.data.length\n          } ]. \\n\\nValid values include: \\n\\n${valid.join(\"\\t\")}`\n        );\n        e.name = \"NotFound\";\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * provides a `map` function over the records managed by the List; there\n   * will be no mutations to the data managed by the list\n   */\n  public map<K = any>(f: ListMapFunction<T, K>) {\n    return this.data.map(f);\n  }\n\n  /**\n   * provides a `forEach` function to iterate over the records managed by the List\n   */\n  public forEach<K = any>(f: ListMapFunction<T, K>) {\n    this.data.forEach(f);\n  }\n\n  /**\n   * runs a `reducer` function across all records in the list\n   */\n  public reduce<K = any>(f: ListReduceFunction<T, K>, initialValue = {}) {\n    return this.data.reduce(f, initialValue);\n  }\n\n  /**\n   * Gives access to the List's array of records\n   */\n  public get data() {\n    return this._data;\n  }\n\n  /**\n   * Returns the Record object with the given ID, errors if not found (name: NotFound)\n   * unless call signature includes \"defaultIfNotFound\"\n   *\n   * @param id the unique ID which is being looked for\n   * @param defaultIfNotFound the default value returned if the ID is not found in the list\n   */\n  public findById(\n    id: string,\n    defaultIfNotFound: any = DEFAULT_IF_NOT_FOUND\n  ): Record<T> {\n    const find = this.filter((f) => f.id === id);\n    if (find.length === 0) {\n      if (defaultIfNotFound !== DEFAULT_IF_NOT_FOUND) {\n        return defaultIfNotFound;\n      }\n      const e = new Error(\n        `Could not find \"${id}\" in list of ${this.pluralName}`\n      );\n      e.name = \"NotFound\";\n      throw e;\n    }\n\n    return Record.createWith(this._modelConstructor, find.data[0]);\n  }\n\n  public async removeById(id: string, ignoreOnNotFound: boolean = false) {\n    const rec = this.findById(id, null);\n    if (!rec) {\n      if (!ignoreOnNotFound) {\n        throw new FireModelError(\n          `Could not remove \"${id}\" in list of ${this.pluralName} as the ID was not found!`,\n          `firemodel/not-allowed`\n        );\n      } else {\n        return;\n      }\n    }\n\n    const removed = await Record.remove(this._modelConstructor, id, rec);\n    this._data = this.filter((f) => f.id !== id).data;\n  }\n\n  public async add(payload: T) {\n    const newRecord = await Record.add(this._modelConstructor, payload);\n    this._data.push(newRecord.data);\n    return newRecord;\n  }\n\n  /**\n   * Returns the single instance of an object contained by the List container\n   *\n   * @param id the unique ID which is being looked for\n   * @param defaultIfNotFound the default value returned if the ID is not found in the list\n   */\n  public getData(id: string, defaultIfNotFound: any = DEFAULT_IF_NOT_FOUND): T {\n    let record: Record<T>;\n    try {\n      record = this.findById(id, defaultIfNotFound);\n      return record === defaultIfNotFound\n        ? defaultIfNotFound\n        : ((record as any).data as T);\n    } catch (e) {\n      if (e.name === \"NotFound\" && defaultIfNotFound !== DEFAULT_IF_NOT_FOUND) {\n        return defaultIfNotFound;\n      } else {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * Loads data into the `List` object\n   */\n  public async load(pathOrQuery: string | ISerializedQuery<T>) {\n    if (!this.db) {\n      const e = new Error(\n        `The attempt to load data into a List requires that the DB property be initialized first!`\n      );\n      e.name = \"NoDatabase\";\n      throw e;\n    }\n    this._data = await this.db.getList<T>(pathOrQuery);\n    return this;\n  }\n\n  private _injectDynamicDbOffsets(dbOffset: string) {\n    if (dbOffset.indexOf(\":\") === -1) {\n      return dbOffset;\n    }\n\n    const dynamicPathProps = Record.dynamicPathProperties(\n      this._modelConstructor\n    );\n\n    Object.keys(this._offsets || {}).forEach((prop: keyof T & string) => {\n      if (dynamicPathProps.includes(prop)) {\n        const value = this._offsets[prop as keyof T];\n        if (![\"string\", \"number\"].includes(typeof value)) {\n          throw new FireModelError(\n            `The dynamic dbOffset is using the property \"${prop}\" on ${\n              this.modelName\n            } as a part of the route path but that property must be either a string or a number and instead was a ${typeof value}`,\n            \"record/not-allowed\"\n          );\n        }\n        dbOffset = dbOffset.replace(`:${prop}`, String(value));\n      }\n    });\n\n    if (dbOffset.includes(\":\")) {\n      throw new FireModelError(\n        `Attempt to get the dbPath of a List where the underlying model [ ${capitalize(\n          this.modelName\n        )} ] has dynamic path segments which were NOT supplied! The offsets provided were \"${JSON.stringify(\n          Object.keys(this._offsets || {})\n        )}\" but this leaves the following uncompleted dbOffset: ${dbOffset}`\n      );\n    }\n\n    return dbOffset;\n  }\n}\n\nexport type ListFilterFunction<T> = (fc: T) => boolean;\nexport type ListMapFunction<T, K = any> = (fc: T) => K;\nexport type ListReduceFunction<T, K = any> = (\n  accumulator: Partial<K>,\n  record: T\n) => K;\n","import { IDictionary } from \"common-types\";\nimport { NamedFakes } from \"@/types\";\n\nexport const PropertyNamePatterns: IDictionary<keyof typeof NamedFakes> = {\n  id: \"id\",\n  name: \"name\",\n  age: \"age\",\n  fullname: \"name\",\n  firstName: \"firstName\",\n  lastName: \"lastName\",\n  address: \"address\",\n  city: \"city\",\n  state: \"stateAbbr\",\n  country: \"countryCode\",\n  street: \"streetAddress\",\n  streetAddress: \"streetAddress\",\n  lat: \"latitude\",\n  latitude: \"latitude\",\n  lon: \"longitude\",\n  longitude: \"longitude\",\n  avatar: \"imageAvatar\",\n  phone: \"phoneNumber\",\n  phoneNumber: \"phoneNumber\",\n};\n","import { IMockRelationshipConfig, IMockResponse, IModel } from \"@/types\";\nimport { processHasMany, processHasOne } from \"./index\";\n\nimport { IAbstractedDatabase } from \"universal-fire\";\nimport { IDictionary } from \"common-types\";\nimport { Record } from \"@/core\";\n\n/**\n * Adds relationships to mocked records\n */\nexport function addRelationships<T extends IModel>(\n  db: IAbstractedDatabase,\n  config: IMockRelationshipConfig,\n  exceptions: IDictionary = {}\n) {\n  return async (record: Record<T>): Promise<Array<IMockResponse<T>>> => {\n    const relns = record.META.relationships;\n    const relnResults: Array<IMockResponse<T>> = [];\n\n    if (config.relationshipBehavior !== \"ignore\") {\n      for (const rel of relns) {\n        if (\n          !config.cardinality ||\n          Object.keys(config.cardinality).includes(rel.property)\n        ) {\n          if (rel.relType === \"hasOne\") {\n            const fkRec = await processHasOne<T>(record, rel, config, db);\n            if (config.relationshipBehavior === \"follow\") {\n              relnResults.push(fkRec);\n            }\n          } else {\n            const cardinality = config.cardinality\n              ? typeof config.cardinality[rel.property] === \"number\"\n                ? config.cardinality[rel.property]\n                : NumberBetween(config.cardinality[rel.property] as any)\n              : 2;\n            for (const i of Array(cardinality)) {\n              const fkRec = await processHasMany<T>(record, rel, config, db);\n              if (config.relationshipBehavior === \"follow\") {\n                relnResults.push(fkRec);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return [\n      {\n        id: record.id,\n        compositeKey: record.compositeKey,\n        modelName: record.modelName,\n        pluralName: record.pluralName,\n        dbPath: record.dbPath,\n        localPath: record.localPath,\n      },\n      ...relnResults,\n    ];\n  };\n}\n\nfunction NumberBetween(startEnd: [number, number]) {\n  return (\n    Math.floor(Math.random() * (startEnd[1] - startEnd[0] + 1)) + startEnd[0]\n  );\n}\n","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","import toInteger from '../_lib/toInteger/index.js';\nimport toDate from '../toDate/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * var result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\n\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}","var MILLISECONDS_IN_MINUTE = 60000;\n\nfunction getDateMillisecondsPart(date) {\n  return date.getTime() % MILLISECONDS_IN_MINUTE;\n}\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\n\n\nexport default function getTimezoneOffsetInMilliseconds(dirtyDate) {\n  var date = new Date(dirtyDate.getTime());\n  var baseTimezoneOffset = Math.ceil(date.getTimezoneOffset());\n  date.setSeconds(0, 0);\n  var hasNegativeUTCOffset = baseTimezoneOffset > 0;\n  var millisecondsPartOfTimezoneOffset = hasNegativeUTCOffset ? (MILLISECONDS_IN_MINUTE + getDateMillisecondsPart(date)) % MILLISECONDS_IN_MINUTE : getDateMillisecondsPart(date);\n  return baseTimezoneOffset * MILLISECONDS_IN_MINUTE + millisecondsPartOfTimezoneOffset;\n}","import toDate from '../toDate/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Now `isValid` doesn't throw an exception\n *   if the first argument is not an instance of Date.\n *   Instead, argument is converted beforehand using `toDate`.\n *\n *   Examples:\n *\n *   | `isValid` argument        | Before v2.0.0 | v2.0.0 onward |\n *   |---------------------------|---------------|---------------|\n *   | `new Date()`              | `true`        | `true`        |\n *   | `new Date('2016-01-01')`  | `true`        | `true`        |\n *   | `new Date('')`            | `false`       | `false`       |\n *   | `new Date(1488370835081)` | `true`        | `true`        |\n *   | `new Date(NaN)`           | `false`       | `false`       |\n *   | `'2016-01-01'`            | `TypeError`   | `false`       |\n *   | `''`                      | `TypeError`   | `false`       |\n *   | `1488370835081`           | `TypeError`   | `true`        |\n *   | `NaN`                     | `TypeError`   | `false`       |\n *\n *   We introduce this change to make *date-fns* consistent with ECMAScript behavior\n *   that try to coerce arguments to the expected type\n *   (which is also the case with other *date-fns* functions).\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * var result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * var result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * var result = isValid(new Date(''))\n * //=> false\n */\n\nexport default function isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return !isNaN(date);\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nexport default function formatDistance(token, count, options) {\n  options = options || {};\n  var result;\n\n  if (typeof formatDistanceLocale[token] === 'string') {\n    result = formatDistanceLocale[token];\n  } else if (count === 1) {\n    result = formatDistanceLocale[token].one;\n  } else {\n    result = formatDistanceLocale[token].other.replace('{{count}}', count);\n  }\n\n  if (options.addSuffix) {\n    if (options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n}","export default function buildFormatLongFn(args) {\n  return function (dirtyOptions) {\n    var options = dirtyOptions || {};\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from '../../../_lib/buildFormatLongFn/index.js';\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nexport default function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n}","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    return valuesArray[index];\n  };\n}","import buildLocalizeFn from '../../../_lib/buildLocalizeFn/index.js';\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter'] // Note: in English, the names of days of the week and months are capitalized.\n  // If you are making a new locale based on this one, check if the same is true for the language you're working on.\n  // Generally, formatted dates should look like they are in the middle of a sentence,\n  // e.g. in Spanish language the weekdays and months should be in the lowercase.\n\n};\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nfunction ordinalNumber(dirtyNumber, _dirtyOptions) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`:\n  //\n  //   var options = dirtyOptions || {}\n  //   var unit = String(options.unit)\n  //\n  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","export default function buildMatchPatternFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var matchResult = string.match(args.matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n\n    if (!parseResult) {\n      return null;\n    }\n\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}","export default function buildMatchFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var value;\n\n    if (Object.prototype.toString.call(parsePatterns) === '[object Array]') {\n      value = findIndex(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    } else {\n      value = findKey(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    }\n\n    value = args.valueCallback ? args.valueCallback(value) : value;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n}","import buildMatchPatternFn from '../../../_lib/buildMatchPatternFn/index.js';\nimport buildMatchFn from '../../../_lib/buildMatchFn/index.js';\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from './_lib/formatDistance/index.js';\nimport formatLong from './_lib/formatLong/index.js';\nimport formatRelative from './_lib/formatRelative/index.js';\nimport localize from './_lib/localize/index.js';\nimport match from './_lib/match/index.js';\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\n\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import toInteger from '../_lib/toInteger/index.js';\nimport addMilliseconds from '../addMilliseconds/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js';\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * var result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\n\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}","import addLeadingZeros from '../../addLeadingZeros/index.js';\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nvar formatters = {\n  // Year\n  y: function (date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function (date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function (date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function (date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n      case 'aaa':\n        return dayPeriodEnumValue.toUpperCase();\n\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function (date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function (date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function (date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;","import toDate from '../../toDate/index.js';\nimport requiredArgs from '../requiredArgs/index.js';\nvar MILLISECONDS_IN_DAY = 86400000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}","import toDate from '../../toDate/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toDate from '../../toDate/index.js';\nimport startOfUTCISOWeek from '../startOfUTCISOWeek/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getUTCISOWeekYear from '../getUTCISOWeekYear/index.js';\nimport startOfUTCISOWeek from '../startOfUTCISOWeek/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}","import toDate from '../../toDate/index.js';\nimport startOfUTCISOWeek from '../startOfUTCISOWeek/index.js';\nimport startOfUTCISOWeekYear from '../startOfUTCISOWeekYear/index.js';\nimport requiredArgs from '../requiredArgs/index.js';\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toInteger from '../toInteger/index.js';\nimport toDate from '../../toDate/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toInteger from '../toInteger/index.js';\nimport toDate from '../../toDate/index.js';\nimport startOfUTCWeek from '../startOfUTCWeek/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate, dirtyOptions);\n  var year = date.getUTCFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, dirtyOptions);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import toInteger from '../toInteger/index.js';\nimport getUTCWeekYear from '../getUTCWeekYear/index.js';\nimport startOfUTCWeek from '../startOfUTCWeek/index.js';\nimport requiredArgs from '../requiredArgs/index.js'; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getUTCWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, dirtyOptions);\n  return date;\n}","import toDate from '../../toDate/index.js';\nimport startOfUTCWeek from '../startOfUTCWeek/index.js';\nimport startOfUTCWeekYear from '../startOfUTCWeekYear/index.js';\nimport requiredArgs from '../requiredArgs/index.js';\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import lightFormatters from '../lightFormatters/index.js';\nimport getUTCDayOfYear from '../../../_lib/getUTCDayOfYear/index.js';\nimport getUTCISOWeek from '../../../_lib/getUTCISOWeek/index.js';\nimport getUTCISOWeekYear from '../../../_lib/getUTCISOWeekYear/index.js';\nimport getUTCWeek from '../../../_lib/getUTCWeek/index.js';\nimport getUTCWeekYear from '../../../_lib/getUTCWeekYear/index.js';\nimport addLeadingZeros from '../../addLeadingZeros/index.js';\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n  /*\n   * |     | Unit                           |     | Unit                           |\n   * |-----|--------------------------------|-----|--------------------------------|\n   * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n   * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n   * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n   * |  d  | Day of month                   |  D  | Day of year                    |\n   * |  e  | Local day of week              |  E  | Day of week                    |\n   * |  f  |                                |  F* | Day of week in month           |\n   * |  g* | Modified Julian day            |  G  | Era                            |\n   * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n   * |  i! | ISO day of week                |  I! | ISO week of year               |\n   * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n   * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n   * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n   * |  m  | Minute                         |  M  | Month                          |\n   * |  n  |                                |  N  |                                |\n   * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n   * |  p! | Long localized time            |  P! | Long localized date            |\n   * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n   * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n   * |  s  | Second                         |  S  | Fraction of second             |\n   * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n   * |  u  | Extended year                  |  U* | Cyclic year                    |\n   * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n   * |  w  | Local week of year             |  W* | Week of month                  |\n   * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n   * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n   * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n   *\n   * Letters marked by * are not implemented but reserved by Unicode standard.\n   *\n   * Letters marked by ! are non-standard, but implemented by date-fns:\n   * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n   * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n   *   i.e. 7 for Sunday, 1 for Monday, etc.\n   * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n   * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n   *   `R` is supposed to be used in conjunction with `I` and `i`\n   *   for universal ISO week-numbering date, whereas\n   *   `Y` is supposed to be used in conjunction with `w` and `e`\n   *   for week-numbering date specific to the locale.\n   * - `P` is long localized date format\n   * - `p` is long localized time format\n   */\n\n};\nvar formatters = {\n  // Era\n  G: function (date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year\n\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    } // Ordinal number\n\n\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    } // Padding\n\n\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function (date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date); // Padding\n\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function (date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function (date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function (date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n\n    switch (token) {\n      case 'b':\n      case 'bb':\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function (date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function (date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimiter);\n}\n\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\nexport default formatters;","function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n}\n\nfunction timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n}\n\nfunction dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/);\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  var dateTimeFormat;\n\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n}\n\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;","var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token) {\n  if (token === 'YYYY') {\n    throw new RangeError('Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr');\n  } else if (token === 'YY') {\n    throw new RangeError('Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr');\n  } else if (token === 'D') {\n    throw new RangeError('Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr');\n  } else if (token === 'DD') {\n    throw new RangeError('Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr');\n  }\n}","import isValid from '../isValid/index.js';\nimport defaultLocale from '../locale/en-US/index.js';\nimport subMilliseconds from '../subMilliseconds/index.js';\nimport toDate from '../toDate/index.js';\nimport formatters from '../_lib/format/formatters/index.js';\nimport longFormatters from '../_lib/format/longFormatters/index.js';\nimport getTimezoneOffsetInMilliseconds from '../_lib/getTimezoneOffsetInMilliseconds/index.js';\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from '../_lib/protectedTokens/index.js';\nimport toInteger from '../_lib/toInteger/index.js';\nimport requiredArgs from '../_lib/requiredArgs/index.js'; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\n\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Su            | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Su            |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          | a..aaa  | AM, PM                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bbb  | AM, PM, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 0001, ..., 999               |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 05/29/1453                        | 7     |\n * |                                 | PP      | May 29, 1453                      | 7     |\n * |                                 | PPP     | May 29th, 1453                    | 7     |\n * |                                 | PPPP    | Sunday, May 29th, 1453            | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 05/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | May 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | May 29th, 1453 at ...             | 7     |\n * |                                 | PPPPpppp| Sunday, May 29th, 1453 at ...     | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 9. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table).\n *   See [this post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  var originalDate = toDate(dirtyDate);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n\n\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong, formatterOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n\n    var formatter = formatters[firstCharacter];\n\n    if (formatter) {\n      if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring);\n      }\n\n      if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring);\n      }\n\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n\n    return substring;\n  }).join('');\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}","import { IDictionary } from \"common-types\";\nimport { MockHelper } from \"firemock\";\nimport { NamedFakes } from \"@/types\";\nimport { format } from \"date-fns\";\n\n// TODO: bring in this functionality again\n// import { fbKey } from \"../index\";\n\nconst sequence: IDictionary<number> = {};\n\nfunction getDistribution<T = any>(...distribution: Array<[number, T]>) {\n  const num = Math.floor(Math.random() * 100) + 1;\n  let start = 1;\n  let outcome;\n  const d = distribution.map((i) => {\n    const [percentage, value] = i;\n    const end = start + percentage - 1;\n    const val = { start, end, value };\n    start = start + percentage;\n    return val;\n  });\n\n  d.forEach((i) => {\n    if (num >= i.start && num <= i.end) {\n      outcome = i.value;\n      // console.log(\"set\", num, `${start} => ${start + percentage}`);\n    }\n  });\n  if (!outcome) {\n    throw new Error(\n      `The mock distribution's random number [ ${num} ] fell outside the range of probability; make sure that your percentages add up to 100 [ ${distribution\n        .map((i) => i[0])\n        .join(\", \")} ]`\n    );\n  }\n\n  return outcome;\n}\n\nexport function fakeIt<T = any>(\n  helper: MockHelper,\n  type: keyof typeof NamedFakes,\n  ...rest: any[]\n) {\n  function getNumber(numOptions: {\n    min?: number;\n    max?: number;\n    precision?: number;\n  }) {\n    return numOptions && typeof numOptions === \"object\"\n      ? helper.faker.random.number(numOptions)\n      : helper.faker.random.number({ min: 1, max: 100 });\n  }\n\n  /** for mocks which use a hash-based second param */\n  function options(defaultValue: IDictionary = {}): IDictionary {\n    return rest[0] ? { ...defaultValue, ...rest[0] } : undefined;\n  }\n\n  switch (type) {\n    case \"id\":\n    case \"fbKey\":\n      // return fbKey();\n      return \"asdafsfsasdf\";\n    case \"String\":\n      return helper.faker.lorem.words(5);\n    case \"number\":\n    case \"Number\":\n      return getNumber(options({ min: 0, max: 1000 }));\n    case \"price\":\n      const price = options({\n        symbol: \"$\",\n        min: 1,\n        max: 100,\n        precision: 2,\n        variableCents: false,\n      });\n      let cents: string;\n      if (price.variableCents) {\n        cents = getDistribution(\n          [40, \"00\"],\n          [30, \"99\"],\n          [30, String(getNumber({ min: 1, max: 98 }))]\n        );\n        if (cents.length === 1) {\n          cents = cents + \"0\";\n        }\n      }\n\n      const priceAmt = helper.faker.commerce.price(\n        price.min,\n        price.max,\n        price.precision,\n        price.symbol\n      );\n\n      return price.variableCents\n        ? priceAmt.replace(\".00\", \".\" + cents)\n        : priceAmt;\n    case \"Boolean\":\n      return Math.random() > 0.49 ? true : false;\n    case \"Object\":\n      return {};\n    case \"name\":\n      return helper.faker.name.firstName() + \" \" + helper.faker.name.lastName();\n    case \"firstName\":\n      return helper.faker.name.firstName();\n    case \"lastName\":\n      return helper.faker.name.lastName();\n    case \"company\":\n    case \"companyName\":\n      return helper.faker.company.companyName();\n    case \"address\":\n      return (\n        helper.faker.address.secondaryAddress() +\n        \", \" +\n        helper.faker.address.city() +\n        \", \" +\n        helper.faker.address.stateAbbr() +\n        \"  \" +\n        helper.faker.address.zipCode()\n      );\n    case \"streetAddress\":\n      return helper.faker.address.streetAddress(false);\n    case \"fullAddress\":\n      return helper.faker.address.streetAddress(true);\n    case \"city\":\n      return helper.faker.address.city();\n    case \"state\":\n      return helper.faker.address.state();\n    case \"zipCode\":\n      return helper.faker.address.zipCode();\n    case \"stateAbbr\":\n      return helper.faker.address.stateAbbr();\n    case \"country\":\n      return helper.faker.address.country();\n    case \"countryCode\":\n      return helper.faker.address.countryCode();\n    case \"latitude\":\n      return helper.faker.address.latitude();\n    case \"longitude\":\n      return helper.faker.address.longitude();\n    case \"coordinate\":\n      return {\n        latitude: Number(helper.faker.address.latitude()),\n        longitude: Number(helper.faker.address.longitude()),\n      };\n    /**\n     * Adds a gender of \"male\", \"female\" or \"other\" but with more likelihood of\n     * male or female.\n     */\n    case \"gender\":\n      return helper.faker.helpers.shuffle([\n        \"male\",\n        \"female\",\n        \"male\",\n        \"female\",\n        \"male\",\n        \"female\",\n        \"other\",\n      ]);\n    case \"age\":\n      return helper.faker.random.number({ min: 1, max: 99 });\n    case \"ageChild\":\n      return helper.faker.random.number({ min: 1, max: 10 });\n    case \"ageAdult\":\n      return helper.faker.random.number({ min: 21, max: 99 });\n    case \"ageOlder\":\n      return helper.faker.random.number({ min: 60, max: 99 });\n    case \"jobTitle\":\n      return helper.faker.name.jobTitle;\n    case \"date\":\n    case \"dateRecent\":\n      return helper.faker.date.recent();\n    case \"dateRecentString\":\n      return format(helper.faker.date.recent(), \"yyyy-MM-dd\");\n    case \"dateMiliseconds\":\n    case \"dateRecentMiliseconds\":\n      return helper.faker.date.recent().getTime();\n    case \"datePast\":\n      return helper.faker.date.past();\n    case \"datePastString\":\n      return format(helper.faker.date.past(), \"yyyy-MM-dd\");\n    case \"datePastMiliseconds\":\n      return helper.faker.date.past().getTime();\n    case \"dateFuture\":\n      return helper.faker.date.future();\n    /** returns string based date in format of \"YYYY-MM-DD\" */\n    case \"dateFutureString\":\n      return format(helper.faker.date.future(), \"yyyy-MM-dd\");\n    case \"dateFutureMiliseconds\":\n      return helper.faker.date.future().getTime();\n    case \"dateSoon\":\n      return helper.faker.date.between(\n        new Date(),\n        new Date(new Date().getTime() + 5 * 24 * 60 * 1000)\n      );\n    case \"dateSoonString\":\n      return format(\n        helper.faker.date.between(\n          new Date(),\n          new Date(new Date().getTime() + 5 * 24 * 60 * 1000)\n        ),\n        \"yyyy-MM-dd\"\n      );\n    case \"dateSoonMiliseconds\":\n      return helper.faker.date\n        .between(\n          new Date(),\n          new Date(new Date().getTime() + 5 * 24 * 60 * 1000)\n        )\n        .getTime();\n    case \"imageAvatar\":\n      return helper.faker.image.avatar();\n    case \"imageAnimal\":\n      return helper.faker.image.animals();\n    case \"imagePeople\":\n      return helper.faker.image.people();\n    case \"imageNature\":\n      return helper.faker.image.nature();\n    case \"imageTransport\":\n      return helper.faker.image.transport();\n    case \"phoneNumber\":\n      return helper.faker.phone.phoneNumber();\n    case \"email\":\n      return helper.faker.internet.email;\n    case \"word\":\n      return helper.faker.lorem.word();\n    case \"words\":\n      return helper.faker.lorem.words();\n    case \"sentence\":\n      return helper.faker.lorem.sentence();\n    case \"slug\":\n      return helper.faker.lorem.slug();\n    case \"paragraph\":\n      return helper.faker.lorem.paragraph();\n    case \"paragraphs\":\n      return helper.faker.lorem.paragraphs();\n    case \"url\":\n      return helper.faker.internet.url();\n    case \"uuid\":\n      return helper.faker.random.uuid();\n    case \"random\":\n      return helper.faker.random.arrayElement(rest);\n    case \"distribution\":\n      return getDistribution(...rest);\n\n    case \"sequence\":\n      const prop = helper.context.property;\n      const items = rest;\n\n      if (typeof sequence[prop] === \"undefined\") {\n        sequence[prop] = 0;\n      } else {\n        if (sequence[prop] >= items.length - 1) {\n          sequence[prop] = 0;\n        } else {\n          sequence[prop]++;\n        }\n      }\n\n      return items[sequence[prop]];\n    case \"placeImage\":\n      // TODO: determine why data structure is an array of arrays\n      const [width, height, imgType] = rest;\n      return `https://placeimg.com/${width}/${height}/${\n        imgType ? imgType : \"all\"\n      }`;\n    case \"placeHolder\":\n      const [size, backgroundColor, textColor] = rest;\n      let url = `https://via.placeholder.com/${size}`;\n      if (backgroundColor) {\n        url += `/${backgroundColor}`;\n        if (textColor) {\n          url += `/${textColor}`;\n        }\n      }\n      return url;\n    default:\n      return helper.faker.lorem.slug();\n  }\n}\n","import { IMockRelationshipConfig, IModel } from \"@/types\";\n\nimport { IAbstractedDatabase } from \"universal-fire\";\nimport { IDictionary } from \"common-types\";\nimport { Record } from \"@/core\";\nimport { getMockHelper } from \"firemock\";\nimport { getModelMeta } from \"@/util\";\nimport { mockValue } from \"./index\";\n\n/** adds mock values for all the properties on a given model */\nexport function mockProperties<T extends IModel>(\n  db: IAbstractedDatabase,\n  config: IMockRelationshipConfig = { relationshipBehavior: \"ignore\" },\n  exceptions: IDictionary\n) {\n  return async (record: Record<T>): Promise<Record<T>> => {\n    const meta = getModelMeta(record);\n    const props = meta.properties;\n\n    const recProps: Partial<T> = {};\n    // set properties on the record with mocks\n    const mh = await getMockHelper(db);\n\n    for (const prop of props) {\n      const p = prop.property as keyof T;\n      recProps[p] = await mockValue<T>(db, prop, mh);\n    }\n\n    // use mocked values but allow exceptions to override\n    const finalized: T = { ...(recProps as any), ...exceptions };\n\n    // write to mock db and retain a reference to same model\n    record = await Record.add(record.modelConstructor, finalized, {\n      silent: true,\n    });\n\n    return record;\n  };\n}\n","import { IFmModelPropertyMeta, IModel, NamedFakes } from \"@/types\";\nimport { PropertyNamePatterns, fakeIt } from \"./index\";\n\nimport { IAbstractedDatabase } from \"universal-fire\";\nimport { MockHelper } from \"firemock\";\n\nexport function mockValue<T extends IModel>(\n  db: IAbstractedDatabase,\n  propMeta: IFmModelPropertyMeta<T>,\n  mockHelper: MockHelper,\n  ...rest: any[]\n) {\n  mockHelper.context = propMeta;\n  const { type, mockType, mockParameters } = propMeta;\n\n  if (mockType) {\n    // MOCK is defined\n    return typeof mockType === \"function\"\n      ? mockType(mockHelper)\n      : fakeIt(\n          mockHelper,\n          mockType as keyof typeof NamedFakes,\n          ...(mockParameters || [])\n        );\n  } else {\n    // MOCK is undefined\n    const fakedMockType = (Object.keys(NamedFakes).includes(propMeta.property)\n      ? PropertyNamePatterns[propMeta.property]\n      : type) as keyof typeof NamedFakes;\n    return fakeIt<T>(mockHelper, fakedMockType, ...(mockParameters || []));\n  }\n}\n","import {\n  IFmModelRelationshipMeta,\n  IMockRelationshipConfig,\n  IMockResponse,\n} from \"@/types\";\nimport { Mock, Record } from \"@/core\";\n\nimport { IAbstractedDatabase } from \"universal-fire\";\n\nexport async function processHasMany<T>(\n  record: Record<T>,\n  rel: IFmModelRelationshipMeta<T>,\n  config: IMockRelationshipConfig,\n  db: IAbstractedDatabase\n): Promise<IMockResponse<T>> {\n  // by creating a mock we are giving any dynamic path segments\n  // an opportunity to be mocked (this is best practice)\n  const fkMockMeta = (await Mock(rel.fkConstructor(), db).generate(1)).pop();\n  const prop: Extract<keyof T, string> = rel.property as any;\n\n  await record.addToRelationship(prop, fkMockMeta.compositeKey);\n  if (config.relationshipBehavior === \"link\") {\n    await db.remove(fkMockMeta.dbPath);\n    return;\n  }\n\n  return fkMockMeta;\n}\n","import {\n  IFmModelRelationshipMeta,\n  IMockRelationshipConfig,\n  IMockResponse,\n} from \"@/types\";\nimport { Mock, Record } from \"@/core\";\n\nimport { IAbstractedDatabase } from \"universal-fire\";\n\nexport async function processHasOne<T>(\n  source: Record<T>,\n  rel: IFmModelRelationshipMeta<T>,\n  config: IMockRelationshipConfig,\n  db: IAbstractedDatabase\n): Promise<IMockResponse<T>> {\n  const fkMock = Mock(rel.fkConstructor(), db);\n  const fkMockMeta = (await fkMock.generate(1)).pop();\n  const prop: Extract<keyof T, string> = rel.property as any;\n\n  source.setRelationship(prop, fkMockMeta.compositeKey);\n\n  if (config.relationshipBehavior === \"link\") {\n    const predecessors = fkMockMeta.dbPath\n      .replace(fkMockMeta.id, \"\")\n      .split(\"/\")\n      .filter((i) => i);\n\n    await db.remove(fkMockMeta.dbPath);\n  }\n\n  return fkMockMeta;\n}\n","import { IMockRelationshipConfig, IMockResponse } from \"@/types\";\nimport { addRelationships, mockProperties } from \"./index\";\n\nimport { FireModelError } from \"@/errors\";\nimport { IAbstractedDatabase } from \"universal-fire\";\nimport { IDictionary } from \"common-types\";\nimport { Mock } from \"firemock\";\nimport { Record } from \"@/core\";\n\nlet mockPrepared = false;\n\nexport function MockApi<T>(\n  db: IAbstractedDatabase,\n  modelConstructor: new () => T\n) {\n  const config: IMockRelationshipConfig = {\n    relationshipBehavior: \"ignore\",\n    exceptionPassthrough: false,\n  };\n  const MockApi = {\n    /**\n     * generate\n     *\n     * Populates the mock database with values for a given model passed in.\n     *\n     * @param count how many instances of the given Model do you want?\n     * @param exceptions do you want to fix a given set of properties to a static value?\n     */\n    async generate(\n      count: number,\n      exceptions: Partial<T> = {}\n    ): Promise<Array<IMockResponse<T>>> {\n      if (!mockPrepared) {\n        await Mock.prepare();\n        mockPrepared = true;\n      }\n\n      const props = mockProperties<T>(db, config, exceptions);\n      const relns = addRelationships<T>(db, config, exceptions);\n\n      // create record; using any incoming exception to build the object.\n      // this is primarily to form the \"composite key\" where it is needed\n      const record = Record.createWith(\n        modelConstructor,\n        exceptions as Partial<T>,\n        { db: this.db }\n      );\n\n      if (record.hasDynamicPath) {\n        // which props -- required for compositeKey -- are not yet\n        // set\n        const notCovered = record.dynamicPathComponents.filter(\n          (key) => !Object.keys(exceptions).includes(key)\n        );\n        // for now we are stating that these two mock-types can\n        // be used to dig us out of this deficit; we should\n        // consider openning this up\n        // TODO: consider opening up other mockTypes to fill in the compositeKey\n        const validMocks = [\"sequence\", \"random\", \"distribution\"];\n        notCovered.forEach((key) => {\n          const prop: IDictionary =\n            record.META.property(key as keyof T & string) || {};\n          const mock = prop.mockType;\n          if (\n            !mock ||\n            (typeof mock !== \"function\" && !validMocks.includes(mock as string))\n          ) {\n            throw new FireModelError(\n              `The mock for the \"${\n                record.modelName\n              }\" model has dynamic segments and \"${key}\" was neither set as a fixed value in the exception parameter [ ${Object.keys(\n                exceptions || {}\n              )} ] of generate() nor was the model constrained by a @mock type ${\n                mock ? `[ ${mock} ]` : \"\"\n              } which is deemed valid. Valid named mocks are ${JSON.stringify(\n                validMocks\n              )}; all bespoke mocks are accepted as valid.`,\n              `firemodel/mock-not-ready`\n            );\n          }\n        });\n      }\n\n      let mocks: Array<IMockResponse<T>> = [];\n\n      for (const i of Array(count)) {\n        mocks = mocks.concat(await relns(await props(record)));\n      }\n\n      return mocks;\n    },\n    /**\n     * createRelationshipLinks\n     *\n     * Creates FK links for all the relationships in the model you are generating.\n     *\n     * @param cardinality an optional param which allows you to have fine grained control over how many of each type of relationship should be added\n     */\n    createRelationshipLinks(\n      cardinality?: IDictionary<[number, number] | number | true>\n    ) {\n      config.relationshipBehavior = \"link\";\n      return MockApi;\n    },\n\n    /**\n     * Allows variation in how dynamic paths are configured on FK relationships\n     */\n    dynamicPathBehavior(options: string) {\n      //\n      return MockApi;\n    },\n\n    /** All overrides for the primary model are passed along to FK's as well */\n    overridesPassThrough() {\n      config.exceptionPassthrough = true;\n      return MockApi;\n    },\n\n    /**\n     * followRelationshipLinks\n     *\n     * Creates FK links for all the relationships in the model you are generating; also generates\n     * mocks for all the FK links.\n     *\n     * @param cardinality an optional param which allows you to have fine grained control over how many of each type of relationship should be added\n     */\n    followRelationshipLinks(\n      cardinality?: IDictionary<[number, number] | number | true>\n    ) {\n      // TODO: would like to move back to ICardinalityConfig<T> when I can figure out why Partial doesn't work\n      config.relationshipBehavior = \"follow\";\n      if (cardinality) {\n        config.cardinality = cardinality;\n      }\n      return MockApi;\n    },\n  };\n\n  return MockApi;\n}\n","import { FireModel, Record } from \"@/core\";\n\nimport { FireModelError } from \"@/errors\";\nimport { IAbstractedDatabase } from \"universal-fire\";\nimport { IModel } from \"@/types\";\nimport { MockApi } from \"./mocking/MockApi\";\n\nfunction defaultCardinality<T>(r: Record<T>) {\n  return r.META.relationships.reduce((prev, curr) => {\n    prev = { ...prev, [curr.property]: true };\n  }, {} as any);\n}\n\n/**\n * Provides a _Model_ aware means of mocking your data.\n *\n * @param modelConstructor The Model being mocked\n * @param db optionally state the DB connection; will use **Firemodel**'s default DB otherwise\n */\nexport function Mock<T extends IModel>(\n  modelConstructor: new () => T,\n  db?: IAbstractedDatabase\n) {\n  if (!db) {\n    if (FireModel.defaultDb) {\n      db = FireModel.defaultDb;\n    } else {\n      throw new FireModelError(\n        `You must either explicitly add a database on call to Mock() or ensure that the default database for Firemodel is set!`,\n        \"mock/no-database\"\n      );\n    }\n  }\n\n  if (!db.isMockDb) {\n    console.warn(\n      \"You are using Mock() with a real database; typically a mock database is preferred\"\n    );\n  }\n\n  return MockApi<T>(db, modelConstructor);\n}\n","import { IDictionary } from \"common-types\";\n\nimport type { ISerializedQuery, IAbstractedDatabase } from \"universal-fire\";\n\nimport {\n  WatchRecord,\n  addToWatcherPool,\n  waitForInitialization,\n  WatchDispatcher,\n} from \"@/core/watchers\";\nimport { List, FireModel } from \"@/core\";\nimport {\n  FmEvents,\n  IWatcherEventContext,\n  IFmWatcherStartOptions,\n  IWatchEventClassification,\n  IListOptions,\n  IReduxDispatch,\n  FmModelConstructor,\n  ICompositeKey,\n  IModel,\n} from \"@/types\";\nimport { FireModelError, FireModelProxyError } from \"@/errors\";\n\n/**\n * The base class which both `WatchList` and `WatchRecord` derive.\n */\nexport class WatchBase<T extends IModel> {\n  protected _query: ISerializedQuery<T>;\n  protected _modelConstructor: FmModelConstructor<T>;\n  protected _eventType: IWatchEventClassification;\n  protected _dispatcher: IReduxDispatch;\n  protected _db: IAbstractedDatabase;\n  protected _modelName: string;\n  protected _localModelName: string;\n  protected _pluralName: string;\n  protected _localPath: string;\n  protected _localPostfix: string;\n  protected _dynamicProperties: string[];\n  protected _compositeKey: ICompositeKey<T>;\n  protected _options: IListOptions<T> | IDictionary;\n  /**\n   * this is only to accomodate the list watcher using `ids` which is an aggregate of\n   * `record` watchers.\n   */\n  protected _underlyingRecordWatchers: Array<WatchRecord<T>> = [];\n  protected _watcherSource:\n    | \"record\"\n    | \"list\"\n    /** a \"list of records\" is an array of record-watchers which maps to an array in local state */\n    | \"list-of-records\";\n  /**\n   * An optional name that can be set by the initiator of the watcher; if not\n   * set then it will be the same as the `watcherId`\n   */\n  protected _watcherName: string;\n  protected _classProperties: string[];\n\n  /**\n   * **start**\n   *\n   * executes the watcher (`WatchList` or `WatchRecord`) so that it becomes\n   * actively watched\n   */\n  public async start(\n    options: IFmWatcherStartOptions = {}\n  ): Promise<IWatcherEventContext<T>> {\n    const isListOfRecords = this._watcherSource === \"list-of-records\";\n    const watchIdPrefix = isListOfRecords ? \"wlr\" : \"w\";\n    let watchHashCode;\n    try {\n      watchHashCode = isListOfRecords\n        ? String(this._underlyingRecordWatchers[0]._query.hashCode())\n        : String(this._query.hashCode());\n    } catch (e) {\n      throw new FireModelProxyError(\n        e,\n        `An error occured trying to start a watcher. The source was \"${this._watcherSource}\" and had a query of: ${this._query}\\n\\nThe underlying error was: ${e.message}`,\n        \"watcher/not-allowed\"\n      );\n    }\n\n    const watcherId = watchIdPrefix + \"-\" + watchHashCode;\n    this._watcherName = options.name || `${watcherId}`;\n    const watcherName = options.name || this._watcherName || `${watcherId}`;\n\n    const watcherItem = this.buildWatcherItem(watcherName);\n\n    // The dispatcher will now have all the context it needs to publish events\n    // in a consistent fashion; this dispatch function will be used both by\n    // both locally originated events AND server based events.\n    const dispatch = WatchDispatcher<T>(watcherItem.dispatch)(watcherItem);\n\n    if (!this.db) {\n      throw new FireModelError(\n        `Attempt to start a watcher before the database connection has been established!`\n      );\n    }\n\n    try {\n      if (this._eventType === \"value\") {\n        if (this._watcherSource === \"list-of-records\") {\n          // Watch all \"ids\" added to the list of records\n          this._underlyingRecordWatchers.forEach((r) => {\n            this.db.watch(r._query, [\"value\"], dispatch);\n          });\n        } else {\n          this.db.watch(this._query, [\"value\"], dispatch);\n        }\n      } else {\n        if (options.largePayload) {\n          const payload = await List.fromQuery(\n            this._modelConstructor,\n            this._query,\n            { offsets: this._options.offsets || {} }\n          );\n\n          await dispatch({\n            type: FmEvents.WATCHER_SYNC,\n            kind: \"watcher\",\n            modelConstructor: this._modelConstructor,\n            key: this._query.path.split(\"/\").pop(),\n            value: payload.data,\n            offsets: this._options.offsets || {},\n          });\n        }\n\n        this.db.watch(\n          this._query,\n          [\"child_added\", \"child_changed\", \"child_moved\", \"child_removed\"],\n          dispatch\n        );\n      }\n    } catch (e) {\n      console.log(`Problem starting watcher [${watcherId}]: `, e);\n      (this._dispatcher || FireModel.dispatch)({\n        type: FmEvents.WATCHER_FAILED,\n        errorMessage: e.message,\n        errorCode: e.code || e.name || \"firemodel/watcher-failed\",\n      });\n      throw e;\n    }\n\n    try {\n      addToWatcherPool(watcherItem);\n      // dispatch \"starting\"; no need to wait for promise\n      (this._dispatcher || FireModel.dispatch)({\n        type: FmEvents.WATCHER_STARTING,\n        ...watcherItem,\n      });\n\n      await waitForInitialization(watcherItem);\n      // console.log(\"watcher initialized\", watcherItem);\n\n      await (this._dispatcher || FireModel.dispatch)({\n        type: FmEvents.WATCHER_STARTED,\n        ...watcherItem,\n      });\n\n      return watcherItem;\n    } catch (e) {\n      throw new FireModelError(\n        `The watcher \"${watcherId}\" failed to initialize`,\n        \"firemodel/watcher-initialization\"\n      );\n    }\n  }\n\n  /**\n   * **dispatch**\n   *\n   * allows you to state an explicit dispatch function which will be called\n   * when this watcher detects a change; by default it will use the \"default dispatch\"\n   * set on FireModel.dispatch.\n   */\n  public dispatch(d: IReduxDispatch) {\n    this._dispatcher = d;\n    return this;\n  }\n\n  public toString() {\n    return `Watching path \"${this._query.path}\" for \"${\n      this._eventType\n    }\" event(s) [ hashcode: ${String(this._query.hashCode())} ]`;\n  }\n\n  /**\n   * Allows you to use the properties of the watcher to build a\n   * `watcherContext` dictionary; this is intended to be used as\n   * part of the initialization of the `dispatch` function for\n   * local state management.\n   *\n   * **Note:** that while used here as part of the `start()` method\n   * it is also used externally by locally triggered events as well\n   */\n  public buildWatcherItem(name?: string): IWatcherEventContext<T> {\n    const dispatch = this.getCoreDispatch();\n    const isListOfRecords = this._watcherSource === \"list-of-records\";\n    const watchIdPrefix = isListOfRecords ? \"wlr\" : \"w\";\n    const watchHashCode = isListOfRecords\n      ? String(this._underlyingRecordWatchers[0]._query.hashCode())\n      : String(this._query.hashCode());\n    const watcherId = watchIdPrefix + \"-\" + watchHashCode;\n    const watcherName = name || `${watcherId}`;\n    const eventFamily: IWatchEventClassification =\n      this._watcherSource === \"list\" ? \"child\" : \"value\";\n    const watcherPaths =\n      this._watcherSource === \"list-of-records\"\n        ? this._underlyingRecordWatchers.map((i) => i._query.path)\n        : [this._query.path];\n    // TODO: fix this bullshit typing; should be: SerializedQuery<T> | Array<SerializedQuery<T>>\n    const query: any =\n      this._watcherSource === \"list-of-records\"\n        ? this._underlyingRecordWatchers.map((i) => i._query)\n        : this._query;\n\n    const watchContext: IWatcherEventContext<T> = {\n      watcherId,\n      watcherName,\n      eventFamily,\n      dispatch,\n      modelConstructor: this._modelConstructor,\n      query,\n      dynamicPathProperties: this._dynamicProperties,\n      compositeKey: this._compositeKey,\n      localPath: this._localPath,\n      localPostfix: this._localPostfix,\n      modelName: this._modelName,\n      localModelName: this._localModelName || \"not-relevant\",\n      pluralName: this._pluralName,\n      watcherPaths,\n      // TODO: Fix this typing ... the error is nonsensical atm\n      watcherSource: this._watcherSource as any,\n      createdAt: new Date().getTime(),\n    };\n\n    return watchContext;\n  }\n\n  protected getCoreDispatch() {\n    // Use the bespoke dispatcher for this class if it's available;\n    // if not then fall back to the default Firemodel dispatch\n    const coreDispatch = this._dispatcher || FireModel.dispatch;\n\n    if (coreDispatch.name === \"defaultDispatch\") {\n      throw new FireModelError(\n        `Attempt to start a ${this._watcherSource} watcher on \"${this._query.path}\" but no dispatcher has been assigned. Make sure to explicitly set the dispatch function or use \"FireModel.dispatch = xxx\" to setup a default dispatch function.`,\n        `firemodel/invalid-dispatch`\n      );\n    }\n    return coreDispatch;\n  }\n\n  protected get db(): IAbstractedDatabase {\n    if (!this._db) {\n      if (FireModel.defaultDb) {\n        this._db = FireModel.defaultDb;\n      }\n    }\n    return this._db;\n  }\n}\n","import {\n  FmEvents,\n  IEventTimeContext,\n  IFmServerOrLocalEvent,\n  IFmWatchEvent,\n  IReduxDispatch,\n  IWatcherEventContext,\n} from \"@/types\";\n\nimport { FireModelError } from \"@/errors\";\nimport { IDictionary } from \"common-types\";\nimport { Record } from \"@/core\";\nimport { hasInitialized } from \"./index\";\n\n/**\n * **watchDispatcher**\n *\n * Wraps both start-time _watcher context_ and combines that with\n * event information (like the `key` and `dbPath`) to provide a rich\n * data environment for the `dispatch` function to operate with.\n */\nexport const WatchDispatcher = <T>(\n  /**\n   * a base/generic redux dispatch function; typically provided\n   * by the frontend state management framework\n   */\n  coreDispatchFn: IReduxDispatch\n) => (\n  /** context provided by the watcher at the time in which the watcher was setup */\n  watcherContext: IWatcherEventContext<T>\n) => {\n  if (typeof coreDispatchFn !== \"function\") {\n    throw new FireModelError(\n      `A watcher is being setup but the dispatch function is not a valid function!`,\n      \"firemodel/not-allowed\"\n    );\n  }\n\n  // Handle incoming events ...\n  return async (event: IFmServerOrLocalEvent<T>): Promise<IFmWatchEvent<T>> => {\n    const typeLookup: IDictionary<FmEvents> = {\n      child_added: FmEvents.RECORD_ADDED,\n      child_removed: FmEvents.RECORD_REMOVED,\n      child_changed: FmEvents.RECORD_CHANGED,\n      child_moved: FmEvents.RECORD_MOVED,\n      value: FmEvents.RECORD_CHANGED,\n    };\n\n    let eventContext: IEventTimeContext<T>;\n    let errorMessage: string;\n\n    if (event.kind === \"relationship\") {\n      eventContext = {\n        type: event.type,\n        dbPath: \"not-relevant, use toLocal and fromLocal\",\n      };\n    } else if (event.kind === \"watcher\") {\n      // do nothing\n    } else {\n      // in the case of a watcher list-of records; when the database has no\n      // records yet there is no way to fulfill the dynamic path segments without\n      // reaching into the watcher context\n      if (watcherContext.watcherPaths) {\n        const fullPath = watcherContext.watcherPaths.find((i) =>\n          i.includes(event.key)\n        );\n        const compositeKey = Record.getCompositeKeyFromPath(\n          watcherContext.modelConstructor,\n          fullPath\n        );\n        event.value = { ...(event.value || {}), ...compositeKey };\n      }\n\n      // record events (both server and local)\n      const recordProps =\n        typeof event.value === \"object\"\n          ? { id: event.key, ...event.value }\n          : { id: event.key };\n\n      const rec = Record.createWith(\n        watcherContext.modelConstructor,\n        recordProps\n      );\n\n      let type: FmEvents;\n      switch (event.kind) {\n        case \"record\":\n          type = event.type;\n          break;\n        case \"server-event\":\n          type =\n            event.value === null\n              ? FmEvents.RECORD_REMOVED\n              : typeLookup[event.eventType];\n          break;\n        default:\n          type = FmEvents.UNEXPECTED_ERROR;\n          errorMessage = `The \"kind\" of event was not recognized [ ${\n            (event as any).kind\n          } ]`;\n      }\n\n      eventContext = {\n        type,\n        dbPath: rec.dbPath,\n      };\n    }\n\n    const reduxAction: IFmWatchEvent<T> = {\n      ...watcherContext,\n      ...event,\n      ...eventContext,\n    };\n\n    const results = await coreDispatchFn(reduxAction);\n    // The mock server and client are now in sync\n    hasInitialized(watcherContext.watcherId);\n\n    return results;\n  };\n};\n","import {\n  IComparisonOperator,\n  ISerializedQuery,\n  SerializedQuery,\n} from \"universal-fire\";\nimport { IListOptions, IModel, IPrimaryKey } from \"@/types\";\nimport { List, Record, Watch } from \"@/core\";\n\nimport { FireModelError } from \"@/errors\";\nimport { WatchBase } from \"./WatchBase\";\nimport { epochWithMilliseconds } from \"common-types\";\nimport { getAllPropertiesFromClassStructure } from \"@/util\";\n\nexport class WatchList<T extends IModel> extends WatchBase<T> {\n  public static list<T extends IModel>(\n    /**\n     * The `Model` underlying the **List**\n     */\n    modelConstructor: new () => T,\n    /**\n     * optionally state the _dynamic path_ properties which offset the **dbPath**\n     */\n    options: IListOptions<T> = {}\n  ): WatchList<T> {\n    const obj = new WatchList<T>();\n    obj.list(modelConstructor, options);\n    return obj;\n  }\n\n  protected _offsets: Partial<T> = {};\n  protected _options: IListOptions<T> = {};\n\n  public list(\n    modelConstructor: new () => T,\n    options: IListOptions<T> = {}\n  ): WatchList<T> {\n    this._watcherSource = \"list\";\n    this._eventType = \"child\";\n    this._options = options;\n\n    if (options.offsets) {\n      this._offsets = options.offsets;\n    }\n\n    const lst = List.create(modelConstructor, options);\n    this._modelConstructor = modelConstructor;\n    this._classProperties = getAllPropertiesFromClassStructure(\n      new this._modelConstructor()\n    );\n    this._dynamicProperties = Record.dynamicPathProperties(modelConstructor);\n    this.setPathDependantProperties();\n\n    return this;\n  }\n\n  /**\n   *\n   * @param offsetDict\n   */\n  public offsets(offsetDict: Partial<T>) {\n    this._offsets = offsetDict;\n    const lst = List.create(this._modelConstructor, this._options);\n    this.setPathDependantProperties();\n\n    return this;\n  }\n\n  /**\n   * **ids**\n   *\n   * There are times where you know an array of IDs which you want to watch as a `list`\n   * and calling a series of **record** watchers would not work because -- for a given model\n   * -- you can only watch one (this is due to the fact that a _record_ watcher does not\n   * offset the record by it's ID). This is the intended use-case for this type of _list_\n   * watcher.\n   *\n   * It is worth noting that with this watcher the frontend will indeed get an array of\n   * records but from a **Firebase** standpoint this is not a \"list watcher\" but instead\n   * a series of \"record watchers\".\n   *\n   * @param ids the list of FK references (simple or composite)\n   */\n  public ids(...ids: Array<IPrimaryKey<T>>) {\n    if (ids.length === 0) {\n      throw new FireModelError(\n        `You attempted to setup a watcher list on a given set of ID's of \"${this._modelName}\" but the list of ID's was empty!`,\n        \"firemodel/not-ready\"\n      );\n    }\n    for (const id of ids) {\n      this._underlyingRecordWatchers.push(\n        this._options.offsets\n          ? Watch.record<T>(this._modelConstructor, {\n              ...(typeof id === \"string\" ? { id } : id),\n              ...this._options.offsets,\n            })\n          : Watch.record<T>(this._modelConstructor, id)\n      );\n    }\n    this._watcherSource = \"list-of-records\";\n    this._eventType = \"value\";\n\n    return this;\n  }\n\n  /**\n   * **since**\n   *\n   * Watch for all records that have changed since a given date\n   *\n   * @param when  the datetime in milliseconds or a string format that works with new Date(x)\n   * @param limit  optionally limit the records returned to a max number\n   */\n  public since(\n    when: epochWithMilliseconds | string,\n    limit?: number\n  ): WatchList<T> {\n    this._query = this._query.orderByChild(\"lastUpdated\").startAt(when);\n    if (limit) {\n      this._query = this._query.limitToFirst(limit);\n    }\n\n    return this;\n  }\n\n  /**\n   * **dormantSince**\n   *\n   * Watch for all records that have NOT changed since a given date (opposite of \"since\")\n   *\n   * @param when  the datetime in milliseconds or a string format that works with new Date(x)\n   * @param limit  optionally limit the records returned to a max number\n   */\n  public dormantSince(\n    when: epochWithMilliseconds | string,\n    limit?: number\n  ): WatchList<T> {\n    this._query = this._query.orderByChild(\"lastUpdated\").endAt(when);\n    if (limit) {\n      this._query = this._query.limitToFirst(limit);\n    }\n\n    return this;\n  }\n\n  /**\n   * **after**\n   *\n   * Watch all records that were created after a given date\n   *\n   * @param when  the datetime in milliseconds or a string format that works with new Date(x)\n   * @param limit  optionally limit the records returned to a max number\n   */\n  public after(\n    when: epochWithMilliseconds | string,\n    limit?: number\n  ): WatchList<T> {\n    this._query = this._query.orderByChild(\"createdAt\").startAt(when);\n    if (limit) {\n      this._query = this._query.limitToFirst(limit);\n    }\n\n    return this;\n  }\n\n  /**\n   * **before**\n   *\n   * Watch all records that were created before a given date\n   *\n   * @param when  the datetime in milliseconds or a string format that works with new Date(x)\n   * @param limit  optionally limit the records returned to a max number\n   */\n  public before(\n    when: epochWithMilliseconds | string,\n    limit?: number\n  ): WatchList<T> {\n    this._query = this._query.orderByChild(\"createdAt\").endAt(when);\n    if (limit) {\n      this._query = this._query.limitToFirst(limit);\n    }\n\n    return this;\n  }\n\n  /**\n   * **first**\n   *\n   * Watch for a given number of records; starting with the first/earliest records (createdAt).\n   * Optionally you can state an ID from which to start from. This is useful for a pagination\n   * strategy.\n   *\n   * @param howMany  the datetime in milliseconds or a string format that works with new Date(x)\n   * @param startAt  the ID reference to a record in the list (if used for pagination, add the last record in the list to this value)\n   */\n  public first(howMany: number, startAt?: string): WatchList<T> {\n    this._query = this._query.orderByChild(\"createdAt\").limitToFirst(howMany);\n    if (startAt) {\n      this._query = this._query.startAt(startAt);\n    }\n\n    return this;\n  }\n\n  /**\n   * **last**\n   *\n   * Watch for a given number of records; starting with the last/most-recently added records\n   * (e.g., createdAt). Optionally you can state an ID from which to start from.\n   * This is useful for a pagination strategy.\n   *\n   * @param howMany  the datetime in milliseconds or a string format that works with new Date(x)\n   * @param startAt  the ID reference to a record in the list (if used for pagination, add the last record in the list to this value)\n   */\n  public last(howMany: number, startAt?: string): WatchList<T> {\n    this._query = this._query.orderByChild(\"createdAt\").limitToLast(howMany);\n    if (startAt) {\n      this._query = this._query.endAt(startAt);\n    }\n\n    return this;\n  }\n\n  /**\n   * **recent**\n   *\n   * Watch for a given number of records; starting with the recent/most-recently updated records\n   * (e.g., lastUpdated). Optionally you can state an ID from which to start from.\n   * This is useful for a pagination strategy.\n   *\n   * @param howMany  the datetime in milliseconds or a string format that works with new Date(x)\n   * @param startAt  the ID reference to a record in the list (if used for pagination, add the recent record in the list to this value)\n   */\n  public recent(howMany: number, startAt?: string): WatchList<T> {\n    this._query = this._query.orderByChild(\"lastUpdated\").limitToFirst(howMany);\n    if (startAt) {\n      this._query = this._query.startAt(startAt);\n    }\n\n    return this;\n  }\n\n  /**\n   * **inactive**\n   *\n   * Watch for a given number of records; starting with the inactive/most-inactively added records\n   * (e.g., lastUpdated). Optionally you can state an ID from which to start from.\n   * This is useful for a pagination strategy.\n   *\n   * @param howMany  the datetime in milliseconds or a string format that works with new Date(x)\n   * @param startAt  the ID reference to a record in the list (if used for pagination, add the inactive record in the list to this value)\n   */\n  public inactive(howMany: number, startAt?: string): WatchList<T> {\n    this._query = this._query.orderByChild(\"lastUpdated\").limitToLast(howMany);\n    if (startAt) {\n      this._query = this._query.endAt(startAt);\n    }\n\n    return this;\n  }\n\n  /**\n   * **fromQuery**\n   *\n   * Watch for all records that conform to a passed in query\n   *\n   * @param query\n   */\n  public fromQuery(inputQuery: ISerializedQuery<T>): WatchList<T> {\n    this._query = inputQuery;\n\n    return this;\n  }\n\n  /**\n   * **all**\n   *\n   * Watch for all records of a given type\n   *\n   * @param limit it you want to limit the results a max number of records\n   */\n  public all(limit?: number): WatchList<T> {\n    if (limit) {\n      this._query = this._query.limitToLast(limit);\n    }\n    return this;\n  }\n\n  /**\n   * **where**\n   *\n   * Watch for all records where a specified property is\n   * equal, less-than, or greater-than a certain value\n   *\n   * @param property the property which the comparison operater is being compared to\n   * @param value either just a value (in which case \"equality\" is the operator), or a tuple with operator followed by value (e.g., [\">\", 34])\n   */\n  public where<K extends keyof T>(\n    property: K & string,\n    value: T[K] | [IComparisonOperator, T[K]]\n  ): WatchList<T> {\n    let operation: IComparisonOperator = \"=\";\n    let val;\n    if (Array.isArray(value)) {\n      val = value[1];\n      operation = value[0];\n    } else {\n      val = value;\n    }\n    this._query = SerializedQuery.create<T>(this.db, this._query.path)\n      .orderByChild(property)\n      // TODO: fix typing issue here.\n      // @ts-ignore\n      .where(operation, val);\n    return this;\n  }\n\n  /**\n   * Sets properties that could be effected by _dynamic paths_\n   */\n  protected setPathDependantProperties() {\n    if (\n      this._dynamicProperties.length === 0 ||\n      Object.keys(this._offsets).length > 0\n    ) {\n      const lst = List.create(this._modelConstructor, {\n        ...this._options,\n        offsets: this._offsets,\n      });\n\n      this._query = SerializedQuery.create<T>(this.db, lst.dbPath);\n      this._modelName = lst.modelName;\n      this._pluralName = lst.pluralName;\n      this._localPath = lst.localPath;\n      this._localPostfix = lst.localPostfix;\n    }\n  }\n}\n","import { FireModel, Record } from \"@/core\";\nimport { IModel, IModelOptions, IPrimaryKey } from \"@/types\";\n\nimport { FireModelError } from \"@/errors\";\nimport { SerializedQuery } from \"universal-fire\";\nimport { WatchBase } from \"./WatchBase\";\n\nexport class WatchRecord<T extends IModel> extends WatchBase<T> {\n  public static record<T extends IModel>(\n    modelConstructor: new () => T,\n    pk: IPrimaryKey<T>,\n    options: IModelOptions = {}\n  ) {\n    if (!pk) {\n      throw new FireModelError(\n        `Attempt made to watch a RECORD but no primary key was provided!`,\n        \"firemodel/no-pk\"\n      );\n    }\n    const o = new WatchRecord<T>();\n    // if options hash has a DB reference; use it\n    if (o.db) {\n      o._db = options.db;\n    }\n\n    o._eventType = \"value\";\n    o._watcherSource = \"record\";\n\n    const r = Record.createWith<T>(\n      modelConstructor,\n      pk,\n      options.db ? { db: options.db } : {}\n    );\n    o._query = SerializedQuery.create<T>(\n      options.db || FireModel.defaultDb,\n      `${r.dbPath}`\n    );\n    o._modelConstructor = modelConstructor;\n    o._modelName = r.modelName;\n    o._localModelName = r.META.localModelName;\n    o._pluralName = r.pluralName;\n    o._localPath = r.localPath;\n    o._localPostfix = r.META.localPostfix;\n    o._dynamicProperties = r.dynamicPathComponents;\n    o._compositeKey = r.compositeKey;\n\n    return o;\n  }\n}\n","import { IWatcherEventContext } from \"@/types\";\nimport { Watch } from \"@/core\";\nimport { hashToArray } from \"typed-conversions\";\n\n/**\n * **findWatchers**\n *\n * Given a database path, finds all the watchers which are watching this\n * path or a parent of this path. This must consider a normal **list** or\n * **record** watcher but also a **list-of-records** where instead of a\n * `1:1` relationship between \"watcher\" and Firebase listener there is instead\n * a `1:M` relationship.\n */\nexport function findWatchers(\n  /** the database path where change was detected */\n  dbPath: string\n) {\n  const inspectListofRecords = (watcher: IWatcherEventContext) => {\n    const paths = watcher.watcherPaths;\n    let found = false;\n    paths.forEach((p) => {\n      if (dbPath.includes(p)) {\n        found = true;\n      }\n    });\n    return found;\n  };\n\n  return hashToArray(Watch.inventory).filter((i) =>\n    i.watcherSource === \"list-of-records\"\n      ? /** handles the \"list-of-records\" use case */\n        inspectListofRecords(i)\n      : /** handles the standard use case */\n        dbPath.includes(i.query.path)\n  );\n}\n","import { IDictionary, wait } from \"common-types\";\n\nimport { IWatcherEventContext } from \"@/types\";\nimport { Model } from \"@/models\";\n\n/**\n * indicates which watcherId's have returned their initial\n * value.\n */\nconst _hasInitialized: IDictionary<boolean | \"timed-out\"> = {};\n\nexport const hasInitialized = (\n  watcherId?: string,\n  value: true | \"timed-out\" = true\n) => {\n  if (watcherId) {\n    _hasInitialized[watcherId] = value;\n  }\n\n  return _hasInitialized;\n};\n\n/**\n * Waits for a newly started watcher to get back the first\n * data from the watcher. This indicates that the frontend\n * and Firebase DB are now in sync.\n */\nexport async function waitForInitialization<T = Model>(\n  watcher: IWatcherEventContext<T>,\n  timeout: number = 750\n): Promise<void> {\n  setTimeout(() => {\n    if (!ready(watcher)) {\n      console.info(\n        `A watcher [ ${\n          watcher.watcherId\n        } ] has not returned an event in the timeout window  [ ${timeout}ms ]. This might represent an issue but can also happen when a watcher starts listening to a path [ ${watcher.watcherPaths.join(\n          \", \"\n        )} ] which has no data yet.`\n      );\n    }\n    hasInitialized(watcher.watcherId, \"timed-out\");\n  }, timeout);\n\n  while (!ready(watcher)) {\n    await wait(50);\n  }\n}\n\nfunction ready<T>(watcher: IWatcherEventContext<T>) {\n  return hasInitialized()[watcher.watcherId] ? true : false;\n}\n","import { IReduxDispatch, IWatcherEventContext } from \"@/types\";\n\nimport { IDictionary } from \"common-types\";\nimport { hashToArray } from \"typed-conversions\";\n\n/** a cache of all the watched  */\nlet watcherPool: IDictionary<IWatcherEventContext<any>> = {};\n\nexport function getWatcherPool() {\n  return watcherPool;\n}\n\nexport function getWatcherPoolList() {\n  return hashToArray(getWatcherPool());\n}\n\nexport function addToWatcherPool<T = IWatcherEventContext<any>>(\n  item: IWatcherEventContext<T>\n) {\n  watcherPool[item.watcherId] = item;\n}\n\nexport function getFromWatcherPool(code: keyof typeof watcherPool) {\n  return watcherPool[code];\n}\n\nexport function clearWatcherPool() {\n  watcherPool = {};\n}\n\n/**\n * Each watcher must have it's own `dispatch()` function which\n * is reponsible for capturing the \"context\". This will be used\n * both by locally originated events (which have more info) and\n * server based events.\n */\nexport function addDispatchForWatcher(\n  code: keyof typeof watcherPool,\n  dispatch: IReduxDispatch\n) {\n  //\n}\n\nexport function removeFromWatcherPool(code: keyof typeof watcherPool) {\n  delete watcherPool[code];\n  return watcherPool;\n}\n","import { IFkReference, IModel } from \"@/types\";\n\nimport { IDictionary } from \"common-types\";\nimport { Record } from \"@/core\";\nimport { getModelMeta } from \"@/util\";\n\n/**\n * When creating a new record it is sometimes desirable to pass in\n * the \"payload\" of FK's instead of just the FK. This function facilitates\n * that.\n */\nexport async function buildDeepRelationshipLinks<T extends IModel>(\n  rec: Record<T>,\n  property: keyof T & string\n) {\n  const meta = getModelMeta(rec).property(property);\n  return meta.relType === \"hasMany\"\n    ? processHasMany(rec, property)\n    : processBelongsTo(rec, property);\n}\n\nasync function processHasMany<T extends IModel>(\n  rec: Record<T>,\n  property: keyof T & string\n) {\n  const meta = getModelMeta(rec).property(property);\n  const fks: IDictionary = rec.get(property);\n  const promises = [];\n  for (const key of Object.keys(fks)) {\n    const fk = fks[key as keyof typeof fks] as true | IDictionary;\n    if (fk !== true) {\n      const fkRecord = await Record.add(meta.fkConstructor(), fk, {\n        setDeepRelationships: true,\n      });\n      await rec.addToRelationship(property, fkRecord.compositeKeyRef);\n    }\n  }\n  // strip out object FK's\n  const newFks = Object.keys(rec.get(property)).reduce(\n    (foreignKeys: IDictionary<true>, curr: string) => {\n      const fk = fks[curr];\n      if (fk !== true) {\n        delete foreignKeys[curr];\n      }\n      return foreignKeys;\n    },\n    {}\n  );\n  // TODO: maybe there's a better way than writing private property?\n  // ambition is to remove the bullshit FKs objects; this record will\n  // not have been saved yet so we're just getting it back to a good\n  // state before it's saved.\n  (rec as any)._data[property] = newFks;\n\n  return;\n}\n\nasync function processBelongsTo<T extends IModel>(\n  rec: Record<T>,\n  property: keyof T & string\n) {\n  const fk: IFkReference<T> = rec.get(property) as any;\n  const meta = getModelMeta(rec).property(property);\n\n  if (fk && typeof fk === \"object\") {\n    const fkRecord = Record.add(meta.fkConstructor(), fk, {\n      setDeepRelationships: true,\n    });\n  }\n}\n","import {\n  ICompositeKey,\n  IFkReference,\n  IFmBuildRelationshipOptions,\n  IFmPathValuePair,\n} from \"@/types\";\nimport {\n  IncorrectReciprocalInverse,\n  MissingInverseProperty,\n  MissingReciprocalInverse,\n  UnknownRelationshipProblem,\n} from \"@/errors\";\n\nimport { Record } from \"@/core\";\nimport { createCompositeKeyRefFromRecord } from \"./index\";\nimport { getModelMeta } from \"@/util\";\nimport { pathJoin } from \"common-types\";\n\n/**\n * Builds all the DB paths needed to update a pairing of a PK:FK. It is intended\n * to be used by the `Record`'s transactional API as a first step of specifying\n * the FULL atomic transaction that will be executed as a \"multi-path set\" on\n * Firebase.\n *\n * If the operation requires the removal o relationship then set this in the\n * optional hash.\n *\n * @param rec the `Record` which holds the FK reference to an external entity\n * @param property the _property_ on the `Record` which holds the FK id\n * @param fkRef the \"id\" for the FK which is being worked on\n */\nexport function buildRelationshipPaths<T>(\n  rec: Record<T>,\n  property: keyof T & string,\n  fkRef: IFkReference,\n  options: IFmBuildRelationshipOptions = {}\n): IFmPathValuePair[] {\n  try {\n    const meta = getModelMeta(rec);\n    const now = options.now || new Date().getTime();\n    const operation = options.operation || \"add\";\n    const altHasManyValue = options.altHasManyValue || true;\n    const fkModelConstructor = meta.relationship(property).fkConstructor();\n    const inverseProperty = meta.relationship(property).inverseProperty;\n    const fkRecord = Record.createWith(fkModelConstructor, fkRef, {\n      db: rec.db,\n    });\n    const results: IFmPathValuePair[] = [];\n\n    /**\n     * Normalize to a composite key format\n     */\n    const fkCompositeKey: ICompositeKey =\n      typeof fkRef === \"object\" ? fkRef : fkRecord.compositeKey;\n\n    const fkId: string = createCompositeKeyRefFromRecord(fkRecord);\n\n    /**\n     * boolean flag indicating whether current model has a **hasMany** relationship\n     * with the FK.\n     */\n    const hasManyReln =\n      meta.isRelationship(property) &&\n      meta.relationship(property).relType === \"hasMany\";\n\n    const pathToRecordsFkReln = pathJoin(\n      rec.dbPath, // this includes dynamic segments for originating model\n      property,\n      // we must add the fk id to path (versus value) to make the write non-destructive\n      // to other hasMany keys which already exist\n      hasManyReln ? fkId : \"\"\n    );\n\n    // Add paths for current record\n    results.push({\n      path: pathToRecordsFkReln,\n      value:\n        operation === \"remove\" ? null : hasManyReln ? altHasManyValue : fkId,\n    });\n    results.push({ path: pathJoin(rec.dbPath, \"lastUpdated\"), value: now });\n\n    // INVERSE RELATIONSHIP\n    if (inverseProperty) {\n      const fkMeta = getModelMeta(fkRecord);\n      const inverseReln = fkMeta.relationship(inverseProperty);\n\n      if (!inverseReln) {\n        throw new MissingInverseProperty(rec, property);\n      }\n\n      if (\n        !inverseReln.inverseProperty &&\n        inverseReln.directionality === \"bi-directional\"\n      ) {\n        throw new MissingReciprocalInverse(rec, property);\n      }\n      if (\n        inverseReln.inverseProperty !== property &&\n        inverseReln.directionality === \"bi-directional\"\n      ) {\n        throw new IncorrectReciprocalInverse(rec, property);\n      }\n\n      const fkInverseIsHasManyReln = inverseProperty\n        ? fkMeta.relationship(inverseProperty).relType === \"hasMany\"\n        : false;\n      const pathToInverseFkReln = fkInverseIsHasManyReln\n        ? pathJoin(fkRecord.dbPath, inverseProperty, rec.compositeKeyRef)\n        : pathJoin(fkRecord.dbPath, inverseProperty);\n\n      // Inverse paths\n      results.push({\n        path: pathToInverseFkReln,\n        value:\n          operation === \"remove\"\n            ? null\n            : fkInverseIsHasManyReln\n            ? altHasManyValue\n            : rec.compositeKeyRef,\n      });\n      results.push({\n        path: pathJoin(fkRecord.dbPath, \"lastUpdated\"),\n        value: now,\n      });\n    }\n    // TODO: add validation of FK paths if option is set\n\n    return results;\n  } catch (e) {\n    if (e.firemodel) {\n      console.log(e);\n\n      throw e;\n    }\n    throw new UnknownRelationshipProblem(e, rec, property);\n  }\n}\n","import { ICompositeKey, IModel } from \"@/types\";\n\nimport { FireModelError } from \"@/errors\";\nimport { Record } from \"@/core\";\nimport { capitalize } from \"@/util\";\n\n/**\n * Given a `Record` which defines all properties in it's\n * \"dynamic segments\" as well as an `id`; this function returns\n * an object representation of the composite key.\n */\nexport function createCompositeKey<T extends IModel = IModel>(\n  rec: Record<T>\n): ICompositeKey<T> {\n  const model = rec.data;\n  if (!rec.id) {\n    throw new FireModelError(\n      `You can not create a composite key without first setting the 'id' property!`,\n      \"firemodel/not-ready\"\n    );\n  }\n  const dynamicPathComponents = rec.dynamicPathComponents.reduce(\n    (prev, key) => {\n      if (!model[key as keyof typeof model]) {\n        throw new FireModelError(\n          `You can not create a composite key on a ${capitalize(\n            rec.modelName\n          )} without first setting the '${key}' property!`,\n          \"firemodel/not-ready\"\n        );\n      }\n      return {\n        ...prev,\n        ...{ [key]: model[key as keyof typeof model] },\n      };\n    },\n    {}\n  );\n\n  return rec.dynamicPathComponents.reduce(\n    (prev, key) => ({\n      ...prev,\n      ...dynamicPathComponents,\n    }),\n    { id: rec.id }\n  ) as ICompositeKey<T>;\n}\n","import { ICompositeKey, IModel } from \"@/types\";\n\nimport { FireModelError } from \"@/errors\";\nimport { capitalize } from \"@/util\";\n\nexport function createCompositeKeyFromFkString<T = ICompositeKey>(\n  fkCompositeRef: string,\n  modelConstructor?: new () => T\n): ICompositeKey<T> {\n  const [id, ...paramsHash] = fkCompositeRef.split(\"::\");\n  const model: T = modelConstructor ? new modelConstructor() : undefined;\n\n  return paramsHash\n    .map((i) => i.split(\":\"))\n    .reduce(\n      (acc: any, curr) => {\n        const [prop, value] = curr;\n        acc[prop as keyof ICompositeKey<T>] = model\n          ? setWithType<T>(prop, value, model)\n          : value;\n        return acc;\n      },\n      { id }\n    );\n}\n\nfunction setWithType<T extends IModel>(prop: string, value: string, model: T) {\n  if (!model.META.property(prop)) {\n    throw new FireModelError(\n      `When building a \"typed\" composite key based on the model ${capitalize(\n        model.constructor.name\n      )}, the property \"${prop}\" was presented but this property doesn't exist on this model!`,\n      \"firemodel/property-does-not-exist\"\n    );\n  }\n  const type = model.META.property(prop).type;\n\n  switch (type) {\n    case \"number\":\n      return Number(value);\n    case \"boolean\":\n      return Boolean(value);\n\n    default:\n      return value;\n  }\n}\n","import { IDictionary } from \"common-types\";\nimport { IModel } from \"@/types\";\nimport { Record } from \"@/core\";\nimport { createCompositeKey } from \"./index\";\n\n/**\n * Creates a string based composite key if the passed in record\n * has dynamic path segments; if not it will just return the \"id\"\n */\nexport function createCompositeKeyRefFromRecord<T extends IModel = IModel>(\n  rec: Record<T>\n) {\n  const cKey: IDictionary & { id: string } = createCompositeKey(rec);\n  return rec.hasDynamicPath ? createCompositeRef(cKey) : rec.id;\n}\n\n/**\n * Given a hash/dictionary (with an `id` prop), will generate a \"composite\n * reference\" in string form.\n */\nexport function createCompositeRef(cKey: IDictionary & { id: string }) {\n  return Object.keys(cKey).length > 1\n    ? cKey.id +\n        Object.keys(cKey)\n          .filter((k) => k !== \"id\")\n          .map((k) => `::${k}:${cKey[k]}`)\n    : cKey.id;\n}\n","import { IFmLocalRelationshipEvent, IModel } from \"@/types\";\n\nimport { Record } from \"@/core\";\nimport { fk } from \"common-types\";\n\n/**\n * sets the `Record` property to the optimistic values set\n * with the relationship CRUD event.\n *\n * This function has no concern with dispatch or the FK model\n * and any updates that may need to take place there.\n */\nexport function locallyUpdateFkOnRecord<F extends IModel, T extends IModel>(\n  rec: Record<F>,\n  fkId: fk,\n  event: IFmLocalRelationshipEvent<F, T>\n) {\n  const relnType = rec.META.relationship(event.property).relType;\n\n  // update lastUpdated but quietly as it will be updated again\n  // once server responds\n  rec.set(\"lastUpdated\", new Date().getTime(), true);\n  // now work on a per-op basis\n  switch (event.operation) {\n    case \"set\":\n    case \"add\":\n      (rec as any)._data[event.property] =\n        relnType === \"hasMany\"\n          ? { ...rec.data[event.property], ...{ [fkId]: true } }\n          : fkId;\n      return;\n    case \"remove\":\n      if (relnType === \"hasMany\") {\n        delete (rec as any)._data[event.property][fkId];\n      } else {\n        (rec as any)._data[event.property] = \"\";\n      }\n      return;\n  }\n}\n","import { FireModelProxyError, UnknownRelationshipProblem } from \"@/errors\";\nimport {\n  FmEvents,\n  IFkReference,\n  IFmLocalRelationshipEvent,\n  IFmPathValuePair,\n  IFmRelationshipOperation,\n  IFmRelationshipOptions,\n  IFmRelationshipOptionsForHasMany,\n} from \"@/types\";\nimport { capitalize, getModelMeta } from \"@/util\";\nimport { createCompositeRef, locallyUpdateFkOnRecord } from \"./index\";\n\nimport { IDictionary } from \"common-types\";\nimport { IModel } from \"@/types\";\nimport { Record } from \"@/core\";\nimport { Reference } from \"firemock\";\n\n/**\n * **relationshipOperation**\n *\n * updates the current Record while also executing the appropriate two-phased commit\n * with the `dispatch()` function; looking to associate with watchers wherever possible\n */\nexport async function relationshipOperation<\n  F extends IModel,\n  T extends IModel = IModel\n>(\n  rec: Record<F>,\n  /**\n   * **operation**\n   *\n   * The relationship operation that is being executed\n   */\n  operation: IFmRelationshipOperation,\n  /**\n   * **property**\n   *\n   * The property on this model which changing its relationship status in some way\n   */\n  property: keyof F & string,\n  /**\n   * The array of _foreign keys_ (of the \"from\" model) which will be operated on\n   */\n  fkRefs: Array<IFkReference<T>>,\n  /**\n   * **paths**\n   *\n   * a set of name value pairs where the `name` is the DB path that needs updating\n   * and the value is the value to set.\n   */\n  paths: IFmPathValuePair[],\n  options: IFmRelationshipOptions | IFmRelationshipOptionsForHasMany = {}\n) {\n  // make sure all FK's are strings\n  const fks = fkRefs.map((fk) => {\n    return typeof fk === \"object\" ? createCompositeRef(fk) : fk;\n  });\n  const dispatchEvents = {\n    set: [\n      FmEvents.RELATIONSHIP_SET_LOCALLY,\n      FmEvents.RELATIONSHIP_SET_CONFIRMATION,\n      FmEvents.RELATIONSHIP_SET_ROLLBACK,\n    ],\n    clear: [\n      FmEvents.RELATIONSHIP_REMOVED_LOCALLY,\n      FmEvents.RELATIONSHIP_REMOVED_CONFIRMATION,\n      FmEvents.RELATIONSHIP_REMOVED_ROLLBACK,\n    ],\n    // update: [\n    //   FMEvents.RELATIONSHIP_UPDATED_LOCALLY,\n    //   FMEvents.RELATIONSHIP_UPDATED_CONFIRMATION,\n    //   FMEvents.RELATIONSHIP_UPDATED_ROLLBACK\n    // ],\n    add: [\n      FmEvents.RELATIONSHIP_ADDED_LOCALLY,\n      FmEvents.RELATIONSHIP_ADDED_CONFIRMATION,\n      FmEvents.RELATIONSHIP_ADDED_ROLLBACK,\n    ],\n    remove: [\n      FmEvents.RELATIONSHIP_REMOVED_LOCALLY,\n      FmEvents.RELATIONSHIP_REMOVED_CONFIRMATION,\n      FmEvents.RELATIONSHIP_REMOVED_ROLLBACK,\n    ],\n  };\n\n  try {\n    const [localEvent, confirmEvent, rollbackEvent] = dispatchEvents[operation];\n    const fkConstructor = rec.META.relationship(property).fkConstructor;\n    // TODO: fix the typing here to make sure fkConstructor knows it's type\n    const fkRecord: Record<T> = new Record<T>(fkConstructor() as any);\n    const fkMeta = getModelMeta(fkRecord.data);\n    const transactionId: string =\n      \"t-reln-\" +\n      Math.random().toString(36).substr(2, 5) +\n      \"-\" +\n      Math.random().toString(36).substr(2, 5);\n\n    const event: Omit<IFmLocalRelationshipEvent<F, T>, \"type\"> = {\n      key: rec.compositeKeyRef,\n      operation,\n      property,\n      kind: \"relationship\",\n      eventType: \"local\",\n      transactionId,\n      fks,\n      paths,\n      from: capitalize(rec.modelName),\n      to: capitalize(fkRecord.modelName),\n      fromLocal: rec.localPath,\n      toLocal: fkRecord.localPath,\n      fromConstructor: rec.modelConstructor,\n      toConstructor: fkRecord.modelConstructor,\n    };\n\n    const inverseProperty = rec.META.relationship(property).inverseProperty;\n    if (inverseProperty) {\n      event.inverseProperty = inverseProperty as keyof T;\n    }\n\n    try {\n      await localRelnOp(rec, event, localEvent);\n      await relnConfirmation(rec, event, confirmEvent);\n    } catch (e) {\n      await relnRollback(rec, event, rollbackEvent);\n      throw new FireModelProxyError(\n        e,\n        `Encountered an error executing a relationship operation between the \"${\n          event.from\n        }\" model and \"${\n          event.to\n        }\". The paths that were being modified were: ${event.paths\n          .map((i) => i.path)\n          .join(\"- \\n\")}\\n A dispatch for a rollback event has been issued.`\n      );\n    }\n  } catch (e) {\n    if (e.firemodel) {\n      throw e;\n    } else {\n      throw new UnknownRelationshipProblem(e, rec, property, operation);\n    }\n  }\n}\n\nexport async function localRelnOp<F extends IModel, T extends IModel>(\n  rec: Record<F>,\n  event: Omit<IFmLocalRelationshipEvent<F, T>, \"type\">,\n  type: FmEvents\n) {\n  try {\n    // locally modify Record's values\n    // const ids = extractFksFromPaths(rec, event.property, event.paths);\n    event.fks.map((fk) => {\n      locallyUpdateFkOnRecord(rec, fk, { ...event, type });\n    });\n    // local optimistic dispatch\n    rec.dispatch({ ...event, type });\n    const ref = rec.db.ref(\"/\");\n    // TODO: replace with multiPathSet/transaction\n    await (ref as Reference).update(\n      event.paths.reduce((acc: IDictionary, curr) => {\n        acc[curr.path] = curr.value;\n        return acc;\n      }, {})\n    );\n  } catch (e) {\n    throw new FireModelProxyError(\n      e,\n      `While operating doing a local relationship operation ran into an error. Note that the \"paths\" passed in were:\\n${JSON.stringify(\n        event.paths\n      )}.\\n\\nThe underlying error message was:`\n    );\n  }\n}\n\nexport async function relnConfirmation<F extends IModel, T extends IModel>(\n  rec: Record<F>,\n  event: Omit<IFmLocalRelationshipEvent<F, T>, \"type\">,\n  type: FmEvents\n) {\n  rec.dispatch({ ...event, type });\n}\n\nexport async function relnRollback<F extends IModel, T extends IModel>(\n  rec: Record<F>,\n  event: Omit<IFmLocalRelationshipEvent<F, T>, \"type\">,\n  type: FmEvents\n) {\n  //\n  /**\n   * no writes will have actually been done to DB but\n   * front end framework will need to know as it probably\n   * adjusted _optimistically_\n   */\n  rec.dispatch({ ...event, type });\n}\n","import { IFmLocalEvent, IFmRecordMeta } from \"@/types\";\n\nimport { Record } from \"@/core\";\n\nexport function UnwatchedLocalEvent<T>(\n  rec: Record<T>,\n  event: IFmLocalEvent<T>\n) {\n  const meta: IFmRecordMeta<T> = {\n    dynamicPathProperties: rec.dynamicPathComponents,\n    compositeKey: rec.compositeKey,\n    modelConstructor: rec.modelConstructor,\n    modelName: rec.modelName,\n    pluralName: rec.pluralName,\n    localModelName: rec.META.localModelName,\n    localPath: rec.localPath,\n    localPostfix: rec.META.localPostfix,\n  };\n\n  return { ...event, ...meta, dbPath: rec.dbPath, watcherSource: \"unknown\" };\n}\n","var toStringFunction = Function.prototype.toString;\r\nvar create = Object.create, defineProperty = Object.defineProperty, getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor, getOwnPropertyNames = Object.getOwnPropertyNames, getOwnPropertySymbols = Object.getOwnPropertySymbols, getPrototypeOf = Object.getPrototypeOf;\r\nvar _a = Object.prototype, hasOwnProperty = _a.hasOwnProperty, propertyIsEnumerable = _a.propertyIsEnumerable;\r\n/**\r\n * @enum\r\n *\r\n * @const {Object} SUPPORTS\r\n *\r\n * @property {boolean} SYMBOL_PROPERTIES are symbol properties supported\r\n * @property {boolean} WEAKMAP is WeakMap supported\r\n */\r\nvar SUPPORTS = {\r\n    SYMBOL_PROPERTIES: typeof getOwnPropertySymbols === 'function',\r\n    WEAKMAP: typeof WeakMap === 'function',\r\n};\r\n/**\r\n * @function createCache\r\n *\r\n * @description\r\n * get a new cache object to prevent circular references\r\n *\r\n * @returns the new cache object\r\n */\r\nvar createCache = function () {\r\n    if (SUPPORTS.WEAKMAP) {\r\n        return new WeakMap();\r\n    }\r\n    // tiny implementation of WeakMap\r\n    var object = create({\r\n        has: function (key) { return !!~object._keys.indexOf(key); },\r\n        set: function (key, value) {\r\n            object._keys.push(key);\r\n            object._values.push(value);\r\n        },\r\n        get: function (key) { return object._values[object._keys.indexOf(key)]; },\r\n    });\r\n    object._keys = [];\r\n    object._values = [];\r\n    return object;\r\n};\r\n/**\r\n * @function getCleanClone\r\n *\r\n * @description\r\n * get an empty version of the object with the same prototype it has\r\n *\r\n * @param object the object to build a clean clone from\r\n * @param realm the realm the object resides in\r\n * @returns the empty cloned object\r\n */\r\nvar getCleanClone = function (object, realm) {\r\n    if (!object.constructor) {\r\n        return create(null);\r\n    }\r\n    var Constructor = object.constructor;\r\n    var prototype = object.__proto__ || getPrototypeOf(object);\r\n    if (Constructor === realm.Object) {\r\n        return prototype === realm.Object.prototype ? {} : create(prototype);\r\n    }\r\n    if (~toStringFunction.call(Constructor).indexOf('[native code]')) {\r\n        try {\r\n            return new Constructor();\r\n        }\r\n        catch (_a) { }\r\n    }\r\n    return create(prototype);\r\n};\r\n/**\r\n * @function getObjectCloneLoose\r\n *\r\n * @description\r\n * get a copy of the object based on loose rules, meaning all enumerable keys\r\n * and symbols are copied, but property descriptors are not considered\r\n *\r\n * @param object the object to clone\r\n * @param realm the realm the object resides in\r\n * @param handleCopy the function that handles copying the object\r\n * @returns the copied object\r\n */\r\nvar getObjectCloneLoose = function (object, realm, handleCopy, cache) {\r\n    var clone = getCleanClone(object, realm);\r\n    // set in the cache immediately to be able to reuse the object recursively\r\n    cache.set(object, clone);\r\n    for (var key in object) {\r\n        if (hasOwnProperty.call(object, key)) {\r\n            clone[key] = handleCopy(object[key], cache);\r\n        }\r\n    }\r\n    if (SUPPORTS.SYMBOL_PROPERTIES) {\r\n        var symbols = getOwnPropertySymbols(object);\r\n        var length_1 = symbols.length;\r\n        if (length_1) {\r\n            for (var index = 0, symbol = void 0; index < length_1; index++) {\r\n                symbol = symbols[index];\r\n                if (propertyIsEnumerable.call(object, symbol)) {\r\n                    clone[symbol] = handleCopy(object[symbol], cache);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return clone;\r\n};\r\n/**\r\n * @function getObjectCloneStrict\r\n *\r\n * @description\r\n * get a copy of the object based on strict rules, meaning all keys and symbols\r\n * are copied based on the original property descriptors\r\n *\r\n * @param object the object to clone\r\n * @param realm the realm the object resides in\r\n * @param handleCopy the function that handles copying the object\r\n * @returns the copied object\r\n */\r\nvar getObjectCloneStrict = function (object, realm, handleCopy, cache) {\r\n    var clone = getCleanClone(object, realm);\r\n    // set in the cache immediately to be able to reuse the object recursively\r\n    cache.set(object, clone);\r\n    var properties = SUPPORTS.SYMBOL_PROPERTIES\r\n        ? getOwnPropertyNames(object).concat(getOwnPropertySymbols(object))\r\n        : getOwnPropertyNames(object);\r\n    var length = properties.length;\r\n    if (length) {\r\n        for (var index = 0, property = void 0, descriptor = void 0; index < length; index++) {\r\n            property = properties[index];\r\n            if (property !== 'callee' && property !== 'caller') {\r\n                descriptor = getOwnPropertyDescriptor(object, property);\r\n                if (descriptor) {\r\n                    // Only clone the value if actually a value, not a getter / setter.\r\n                    if (!descriptor.get && !descriptor.set) {\r\n                        descriptor.value = handleCopy(object[property], cache);\r\n                    }\r\n                    try {\r\n                        defineProperty(clone, property, descriptor);\r\n                    }\r\n                    catch (error) {\r\n                        // Tee above can fail on node in edge cases, so fall back to the loose assignment.\r\n                        clone[property] = descriptor.value;\r\n                    }\r\n                }\r\n                else {\r\n                    // In extra edge cases where the property descriptor cannot be retrived, fall back to\r\n                    // the loose assignment.\r\n                    clone[property] = handleCopy(object[property], cache);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return clone;\r\n};\r\n/**\r\n * @function getRegExpFlags\r\n *\r\n * @description\r\n * get the flags to apply to the copied regexp\r\n *\r\n * @param regExp the regexp to get the flags of\r\n * @returns the flags for the regexp\r\n */\r\nvar getRegExpFlags = function (regExp) {\r\n    var flags = '';\r\n    if (regExp.global) {\r\n        flags += 'g';\r\n    }\r\n    if (regExp.ignoreCase) {\r\n        flags += 'i';\r\n    }\r\n    if (regExp.multiline) {\r\n        flags += 'm';\r\n    }\r\n    if (regExp.unicode) {\r\n        flags += 'u';\r\n    }\r\n    if (regExp.sticky) {\r\n        flags += 'y';\r\n    }\r\n    return flags;\r\n};\n\n// utils\r\nvar isArray = Array.isArray;\r\nvar GLOBAL_THIS = (function () {\r\n    if (typeof self !== 'undefined') {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined') {\r\n        return window;\r\n    }\r\n    if (typeof global !== 'undefined') {\r\n        return global;\r\n    }\r\n    if (console && console.error) {\r\n        console.error('Unable to locate global object, returning \"this\".');\r\n    }\r\n})();\r\n/**\r\n * @function copy\r\n *\r\n * @description\r\n * copy an object deeply as much as possible\r\n *\r\n * If `strict` is applied, then all properties (including non-enumerable ones)\r\n * are copied with their original property descriptors on both objects and arrays.\r\n *\r\n * The object is compared to the global constructors in the `realm` provided,\r\n * and the native constructor is always used to ensure that extensions of native\r\n * objects (allows in ES2015+) are maintained.\r\n *\r\n * @param object the object to copy\r\n * @param [options] the options for copying with\r\n * @param [options.isStrict] should the copy be strict\r\n * @param [options.realm] the realm (this) object the object is copied from\r\n * @returns the copied object\r\n */\r\nfunction copy(object, options) {\r\n    // manually coalesced instead of default parameters for performance\r\n    var isStrict = !!(options && options.isStrict);\r\n    var realm = (options && options.realm) || GLOBAL_THIS;\r\n    var getObjectClone = isStrict\r\n        ? getObjectCloneStrict\r\n        : getObjectCloneLoose;\r\n    /**\r\n     * @function handleCopy\r\n     *\r\n     * @description\r\n     * copy the object recursively based on its type\r\n     *\r\n     * @param object the object to copy\r\n     * @returns the copied object\r\n     */\r\n    var handleCopy = function (object, cache) {\r\n        if (!object || typeof object !== 'object') {\r\n            return object;\r\n        }\r\n        if (cache.has(object)) {\r\n            return cache.get(object);\r\n        }\r\n        var Constructor = object.constructor;\r\n        // plain objects\r\n        if (Constructor === realm.Object) {\r\n            return getObjectClone(object, realm, handleCopy, cache);\r\n        }\r\n        var clone;\r\n        // arrays\r\n        if (isArray(object)) {\r\n            // if strict, include non-standard properties\r\n            if (isStrict) {\r\n                return getObjectCloneStrict(object, realm, handleCopy, cache);\r\n            }\r\n            var length_1 = object.length;\r\n            clone = new Constructor();\r\n            cache.set(object, clone);\r\n            for (var index = 0; index < length_1; index++) {\r\n                clone[index] = handleCopy(object[index], cache);\r\n            }\r\n            return clone;\r\n        }\r\n        // dates\r\n        if (object instanceof realm.Date) {\r\n            return new Constructor(object.getTime());\r\n        }\r\n        // regexps\r\n        if (object instanceof realm.RegExp) {\r\n            clone = new Constructor(object.source, object.flags || getRegExpFlags(object));\r\n            clone.lastIndex = object.lastIndex;\r\n            return clone;\r\n        }\r\n        // maps\r\n        if (realm.Map && object instanceof realm.Map) {\r\n            clone = new Constructor();\r\n            cache.set(object, clone);\r\n            object.forEach(function (value, key) {\r\n                clone.set(key, handleCopy(value, cache));\r\n            });\r\n            return clone;\r\n        }\r\n        // sets\r\n        if (realm.Set && object instanceof realm.Set) {\r\n            clone = new Constructor();\r\n            cache.set(object, clone);\r\n            object.forEach(function (value) {\r\n                clone.add(handleCopy(value, cache));\r\n            });\r\n            return clone;\r\n        }\r\n        // blobs\r\n        if (realm.Blob && object instanceof realm.Blob) {\r\n            clone = new Blob([object], { type: object.type });\r\n            return clone;\r\n        }\r\n        // buffers (node-only)\r\n        if (realm.Buffer && realm.Buffer.isBuffer(object)) {\r\n            clone = realm.Buffer.allocUnsafe\r\n                ? realm.Buffer.allocUnsafe(object.length)\r\n                : new Constructor(object.length);\r\n            cache.set(object, clone);\r\n            object.copy(clone);\r\n            return clone;\r\n        }\r\n        // arraybuffers / dataviews\r\n        if (realm.ArrayBuffer) {\r\n            // dataviews\r\n            if (realm.ArrayBuffer.isView(object)) {\r\n                clone = new Constructor(object.buffer.slice(0));\r\n                cache.set(object, clone);\r\n                return clone;\r\n            }\r\n            // arraybuffers\r\n            if (object instanceof realm.ArrayBuffer) {\r\n                clone = object.slice(0);\r\n                cache.set(object, clone);\r\n                return clone;\r\n            }\r\n        }\r\n        // if the object cannot / should not be cloned, don't\r\n        if (\r\n        // promise-like\r\n        typeof object.then === 'function' ||\r\n            // errors\r\n            object instanceof Error ||\r\n            // weakmaps\r\n            (realm.WeakMap && object instanceof realm.WeakMap) ||\r\n            // weaksets\r\n            (realm.WeakSet && object instanceof realm.WeakSet)) {\r\n            return object;\r\n        }\r\n        // assume anything left is a custom constructor\r\n        return getObjectClone(object, realm, handleCopy, cache);\r\n    };\r\n    return handleCopy(object, createCache());\r\n}\r\n/**\r\n * @function strictCopy\r\n *\r\n * @description\r\n * copy the object with `strict` option pre-applied\r\n *\r\n * @param object the object to copy\r\n * @param [options] the options for copying with\r\n * @param [options.realm] the realm (this) object the object is copied from\r\n * @returns the copied object\r\n */\r\ncopy.strict = function strictCopy(object, options) {\r\n    return copy(object, {\r\n        isStrict: true,\r\n        realm: options ? options.realm : void 0,\r\n    });\r\n};\n\nexport default copy;\n//# sourceMappingURL=fast-copy.esm.js.map\n","export var alphabet = \"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\";\r\n","export function randomString(alphabet, length) {\r\n    var buffer = [];\r\n    length = length | 0;\r\n    while (length) {\r\n        var r = (Math.random() * alphabet.length) | 0;\r\n        buffer.push(alphabet.charAt(r));\r\n        length -= 1;\r\n    }\r\n    return buffer.join(\"\");\r\n}\r\n","import { alphabet } from \"./key-alphabet\";\r\nimport { randomString } from \"./text-random-string\";\r\nvar lastTimestamp = 0;\r\nexport function key(timestamp, as) {\r\n    if (timestamp === undefined) {\r\n        timestamp = Date.now();\r\n        if (timestamp <= lastTimestamp) {\r\n            timestamp = lastTimestamp + 1;\r\n        }\r\n        lastTimestamp = timestamp;\r\n    }\r\n    if (timestamp instanceof Date) {\r\n        timestamp = timestamp.getTime();\r\n    }\r\n    var result = new Array(9);\r\n    for (var i = 7; i >= 0; --i) {\r\n        result[i] = alphabet.charAt(timestamp % 64);\r\n        timestamp = Math.floor(timestamp / 64);\r\n    }\r\n    if (timestamp !== 0) {\r\n        throw new Error(\"Unexpected timestamp.\");\r\n    }\r\n    switch (as) {\r\n        case \"max\":\r\n            result[8] = \"zzzzzzzzzzzz\";\r\n            break;\r\n        case \"min\":\r\n            result[8] = \"------------\";\r\n            break;\r\n        default:\r\n            result[8] = randomString(alphabet, 12);\r\n    }\r\n    return result.join(\"\");\r\n}\r\nexport function resetLastTimestamp() {\r\n    lastTimestamp = 0;\r\n}\r\n","import { wait } from 'common-types';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nconst first = require(\"lodash.first\");\r\nfunction firstKey(dictionary) {\r\n    return first(Object.keys(dictionary));\r\n}\r\nclass ParallelError extends Error {\r\n    constructor(context) {\r\n        super();\r\n        this.name = \"ParallelError\";\r\n        const successful = context._get(\"successful\");\r\n        const failed = context._get(\"failed\");\r\n        const errors = context._get(\"errors\");\r\n        const results = context._get(\"results\");\r\n        const registrations = context._get(\"registrations\");\r\n        const getFirstErrorLocation = (stack) => {\r\n            if (!stack) {\r\n                return \"\";\r\n            }\r\n            const lines = stack.split(/\\n/).map(l => l.replace(/^.*at /, \"\").split(\"(\"));\r\n            lines.shift().filter(i => !i.includes(\"createError\"));\r\n            let [fn, where] = lines[0];\r\n            where = where\r\n                ? where\r\n                    .split(\"/\")\r\n                    .slice(-1)[0]\r\n                    .replace(\")\", \"\")\r\n                : null;\r\n            fn = fn.trim();\r\n            return where ? `@ ${fn}::${where}` : `@ ${fn}`;\r\n        };\r\n        this.name = \"ParallelError\";\r\n        const errorSummary = failed\r\n            .map((f) => {\r\n            const inspect = (e) => {\r\n                const subErrors = [];\r\n                const subError = e.errors;\r\n                Object.keys(subError).map(k => subErrors.push(`${k}: ${subError[k].name} ${getFirstErrorLocation(subError[k].stack)}`));\r\n                return subErrors.join(\", \");\r\n            };\r\n            return errors[f].name === \"ParallelError\"\r\n                ? `\\n  - ${f} [ParallelError ${context.title ? context.title : \"\"} { ${inspect(errors[f])} }]`\r\n                : `\\n  - ${f} [${errors[f].code ? `${errors[f].name}:${errors[f].code}` : errors[f].name} ${getFirstErrorLocation(errors[f].stack)}]`;\r\n        })\r\n            .join(\", \");\r\n        this.message = `${context.title ? context.title + \": \" : \"\"}${context._get(\"failed\").length} of ${failed.length +\r\n            successful.length} parallel tasks failed.\\nTasks failing were: ${errorSummary}.\"`;\r\n        this.message +=\r\n            Object.keys(errors).length > 0\r\n                ? `\\n\\nFirst error message was: ${(errors[firstKey(errors)].message)}` +\r\n                    `\\n\\nStack trace for first error is:\\n${errors[firstKey(errors)].stack}`\r\n                : \"\";\r\n        this.errors = errors;\r\n        this.failed = failed;\r\n        this.successful = successful;\r\n        this.results = results;\r\n        if (context.failFast) {\r\n            const complete = new Set([...successful, ...failed]);\r\n            const incomplete = Object.keys(registrations).filter(k => !complete.has(k));\r\n            this.incomplete = incomplete;\r\n        }\r\n    }\r\n}\n\nclass TimeoutError extends Error {\r\n    constructor(attemptedPromise, duration) {\r\n        super();\r\n        this.name = \"TimeoutError\";\r\n        this.message = `Timed out after ${duration}ms`;\r\n    }\r\n}\n\nfunction isDelayedPromise(test) {\r\n    return typeof test === \"function\" ? true : false;\r\n}\r\nfunction ensureObject(something) {\r\n    return typeof something === \"object\" ? something : { value: something };\r\n}\r\nclass Parallel {\r\n    constructor(title, options = { throw: true }) {\r\n        this.title = title;\r\n        this.options = options;\r\n        this._tasks = [];\r\n        this._errors = {};\r\n        this._results = {};\r\n        this._successful = [];\r\n        this._failed = [];\r\n        this._registrations = {};\r\n        this._failFast = false;\r\n        this._failureCallbacks = [];\r\n        this._successCallbacks = [];\r\n        if (options.throw === undefined) {\r\n            options.throw = true;\r\n        }\r\n    }\r\n    static create(title) {\r\n        const obj = new Parallel(title);\r\n        return obj;\r\n    }\r\n    _get(prop) {\r\n        const validGets = new Set([\r\n            \"failed\",\r\n            \"successful\",\r\n            \"errors\",\r\n            \"results\",\r\n            \"failFast\",\r\n            \"registrations\",\r\n            \"notifyOnFailure\",\r\n            \"notifyOnSuccess\"\r\n        ]);\r\n        if (!validGets.has(prop)) {\r\n            throw new Error(`\"${prop}\" is not a valid property to get.`);\r\n        }\r\n        return this[`_${prop}`];\r\n    }\r\n    add(name, promise, timeout) {\r\n        try {\r\n            this.register(name, promise, { timeout });\r\n        }\r\n        catch (e) {\r\n            if (e.name === \"NameAlreadyExists\") {\r\n                if (isDelayedPromise(promise)) {\r\n                    throw e;\r\n                }\r\n                else {\r\n                    const newName = Math.random()\r\n                        .toString(36)\r\n                        .substr(2, 10);\r\n                    console.error(`wait-in-parallel: The promise just added as \"${name}\" is a duplicate name to one already being managed but since the Promise is already executing we will give it a new name of \"${newName}\" and continue to manage it!`);\r\n                    this.register(newName, promise, { timeout });\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    clear() {\r\n        this._tasks = [];\r\n        this._errors = {};\r\n        this._results = {};\r\n        this._successful = [];\r\n        this._failed = [];\r\n        this._registrations = {};\r\n        this._failureCallbacks = [];\r\n        this._successCallbacks = [];\r\n        return this;\r\n    }\r\n    failFast(flag) {\r\n        if (flag !== undefined) {\r\n            this._failFast = flag;\r\n        }\r\n        else {\r\n            this._failFast = true;\r\n        }\r\n        return this;\r\n    }\r\n    isDone() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.startDelayedTasks();\r\n            try {\r\n                yield Promise.all(this._tasks);\r\n            }\r\n            catch (e) {\r\n                throw e;\r\n            }\r\n            const hadErrors = this._failed.length > 0 ? true : false;\r\n            if (hadErrors) {\r\n                throw new ParallelError(this);\r\n            }\r\n            return this._results;\r\n        });\r\n    }\r\n    isDoneAsArray(includeTaskIdAs) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const hash = yield this.isDone();\r\n            const results = [];\r\n            Object.keys(hash).map(key => {\r\n                const keyValue = hash[key];\r\n                results.push(includeTaskIdAs\r\n                    ? Object.assign({}, ensureObject(keyValue), { [includeTaskIdAs]: key }) : keyValue);\r\n            });\r\n            return results;\r\n        });\r\n    }\r\n    notifyOnFailure(fn) {\r\n        this._failureCallbacks.push(fn);\r\n        return this;\r\n    }\r\n    notifyOnSuccess(fn) {\r\n        this._successCallbacks.push(fn);\r\n        return this;\r\n    }\r\n    register(name, promise, options) {\r\n        const existing = new Set(Object.keys(this._registrations));\r\n        if (existing.has(name)) {\r\n            const e = new Error(`There is already a registered item using the name \"${name}\" in your Parallel object. Names must be unique, ignoring new addition.`);\r\n            e.name = \"NameAlreadyExists\";\r\n            throw e;\r\n        }\r\n        else {\r\n            this._registrations[name] = options;\r\n        }\r\n        if (isDelayedPromise(promise)) {\r\n            this._registrations[name].deferred = promise;\r\n        }\r\n        else {\r\n            const duration = options.timeout || 0;\r\n            this._tasks.push(this.promiseOnATimer(promise, name));\r\n        }\r\n    }\r\n    _handleSuccess(name, result) {\r\n        this._successful.push(name);\r\n        this._results[name] = result;\r\n    }\r\n    _handleFailure(name, err) {\r\n        this._failed.push(name);\r\n        this._errors[name] = Object.assign({}, err, { message: err.message, name: err.name, stack: err.stack });\r\n        if (this._failFast) {\r\n            throw new ParallelError(this);\r\n        }\r\n    }\r\n    startDelayedTasks() {\r\n        Object.keys(this._registrations).map(name => {\r\n            const registration = this._registrations[name];\r\n            if (registration.deferred) {\r\n                try {\r\n                    this._tasks.push(this.promiseOnATimer(registration.deferred(), name));\r\n                }\r\n                catch (e) {\r\n                    this._handleFailure(name, e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    promiseOnATimer(p, name) {\r\n        const registration = this._registrations[name];\r\n        const handleSuccess = (result) => this._handleSuccess(name, result);\r\n        const handleFailure = (err) => this._handleFailure(name, err);\r\n        const timeout = (d) => __awaiter(this, void 0, void 0, function* () {\r\n            yield wait(d);\r\n            throw new TimeoutError(registration.deferred, d);\r\n        });\r\n        const duration = registration.timeout || 0;\r\n        let timedPromise;\r\n        try {\r\n            if (duration > 0) {\r\n                timedPromise = Promise.race([p, timeout(duration)])\r\n                    .then(handleSuccess)\r\n                    .catch(handleFailure);\r\n            }\r\n            else {\r\n                timedPromise = p.then(handleSuccess).catch(handleFailure);\r\n            }\r\n            this._tasks.push(timedPromise);\r\n            return timedPromise;\r\n        }\r\n        catch (e) {\r\n            this._handleFailure(name, e);\r\n        }\r\n    }\r\n}\n\nexport { Parallel, ParallelError };\n//# sourceMappingURL=wait-in-parallel.es.js.map\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof global === \"object\" ? global :\n            typeof self === \"object\" ? self :\n                typeof this === \"object\" ? this :\n                    Function(\"return this;\")();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        else {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter);\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                if (typeof target[key] !== \"function\") {\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                }\n                if (previous)\n                    previous(key, value);\n            };\n        }\n    })(function (exporter) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n        var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        // [[Metadata]] internal slot\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n        var Metadata = new _WeakMap();\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            if (!metadataMap.delete(metadataKey))\n                return false;\n            if (metadataMap.size > 0)\n                return true;\n            var targetMetadata = Metadata.get(target);\n            targetMetadata.delete(propertyKey);\n            if (targetMetadata.size > 0)\n                return true;\n            Metadata.delete(target);\n            return true;\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        function GetOrCreateMetadataMap(O, P, Create) {\n            var targetMetadata = Metadata.get(O);\n            if (IsUndefined(targetMetadata)) {\n                if (!Create)\n                    return undefined;\n                targetMetadata = new _Map();\n                Metadata.set(O, targetMetadata);\n            }\n            var metadataMap = targetMetadata.get(P);\n            if (IsUndefined(metadataMap)) {\n                if (!Create)\n                    return undefined;\n                metadataMap = new _Map();\n                targetMetadata.set(P, metadataMap);\n            }\n            return metadataMap;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            return ToBoolean(metadataMap.has(MetadataKey));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return undefined;\n            return metadataMap.get(MetadataKey);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n            metadataMap.set(MetadataKey, MetadataValue);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var keys = [];\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return keys;\n            var keysObj = metadataMap.keys();\n            var iterator = GetIterator(keysObj);\n            var k = 0;\n            while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                    keys.length = k;\n                    return keys;\n                }\n                var nextValue = IteratorValue(next);\n                try {\n                    keys[k] = nextValue;\n                }\n                catch (e) {\n                    try {\n                        IteratorClose(iterator);\n                    }\n                    finally {\n                        throw e;\n                    }\n                }\n                k++;\n            }\n        }\n        // 6 ECMAScript Data Typ0es and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            return /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (key === this._cacheKey) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (this._cacheKey !== key) {\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            return /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.values(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    if (typeof crypto !== \"undefined\")\n                        return crypto.getRandomValues(new Uint8Array(size));\n                    if (typeof msCrypto !== \"undefined\")\n                        return msCrypto.getRandomValues(new Uint8Array(size));\n                    return FillRandomBytes(new Uint8Array(size), size);\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122 § 4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n","import \"reflect-metadata\";\n\nimport { get, lowercase, set } from \"@/util\";\n\nimport { IDictionary } from \"common-types\";\nimport { IModel } from \"@/types\";\n\n/**\n * Adds meta data to a given \"property\" on a model. In this\n * case we mean property to be either a strict property or\n * a relationship.\n *\n * @param context The meta information as a dictionary/hash\n * @param modelRollup a collection object which maintains\n * a dictionary of properties\n */\nexport const propertyReflector = <R>(\n  context: IDictionary = {},\n  /**\n   * if you want this to be rollup up as an dictionary by prop;\n   * to be exposed in the model (or otherwise)\n   */\n  modelRollup?: IDictionary<IDictionary<R>>\n) => (modelKlass: IModel, key: string): void => {\n  const modelName = modelKlass.constructor.name;\n\n  const reflect: IDictionary =\n    Reflect.getMetadata(\"design:type\", modelKlass, key) || {};\n\n  const meta: IDictionary = {\n    ...(Reflect.getMetadata(key, modelKlass) || {}),\n    type: lowercase(reflect.name) as string,\n    ...context,\n    property: key,\n  };\n\n  Reflect.defineMetadata(key, meta, modelKlass);\n\n  if (modelRollup) {\n    const modelAndProp = modelName + \".\" + key;\n    set(modelRollup, modelAndProp, {\n      ...get(modelRollup, modelAndProp),\n      ...meta,\n    });\n  }\n};\n","import { IFmRelationshipDirectionality } from \"@/types\";\n\n/**\n * A helper method when designing relationships. In most cases when you\n * state a \"inverse property\" it means that the two entities can be\n * bi-directionly managed. If, however, you either don't want them to be\n * or in some cases the relationship can be \"lossy\" and automatic bi-directional\n * management is not possible.\n *\n * When you find yourself in this situation you can use this function in the\n * following manner:\n```typescript\nexport default MyModel extends Model {\n  @hasMany(Person, OneWay('children')) parent: fk;\n}\n```\n */\nexport function OneWay(\n  inverseProperty: string\n): [string, IFmRelationshipDirectionality] {\n  return [inverseProperty, \"one-way\"];\n}\n","import \"reflect-metadata\";\n\nimport { IDictionary } from \"common-types\";\nimport { IFmModelPropertyMeta } from \"@/types\";\nimport { propertiesByModel } from \"@/util\";\nimport { propertyReflector } from \"@/decorators\";\n\nexport function constrainedProperty(options: IDictionary = {}) {\n  return propertyReflector<IFmModelPropertyMeta>(\n    {\n      ...options,\n      ...{ isRelationship: false, isProperty: true },\n    },\n    propertiesByModel\n  );\n}\n\n/** allows the introduction of a new constraint to the metadata of a property */\nexport function constrain(prop: string, value: any) {\n  return propertyReflector<IFmModelPropertyMeta>(\n    { [prop]: value },\n    propertiesByModel\n  );\n}\n\nexport function desc(value: string) {\n  return propertyReflector<IFmModelPropertyMeta>(\n    { desc: value },\n    propertiesByModel\n  );\n}\n\nexport function min(value: number) {\n  return propertyReflector<IFmModelPropertyMeta>(\n    { min: value },\n    propertiesByModel\n  );\n}\n\nexport function max(value: number) {\n  return propertyReflector<IFmModelPropertyMeta>(\n    { max: value },\n    propertiesByModel\n  );\n}\n\nexport function length(value: number) {\n  return propertyReflector<IFmModelPropertyMeta>(\n    { length: value },\n    propertiesByModel\n  );\n}\n\nexport const property = propertyReflector(\n  {\n    isRelationship: false,\n    isProperty: true,\n  },\n  propertiesByModel\n);\n\nexport const pushKey = propertyReflector({ pushKey: true }, propertiesByModel);\n","import \"reflect-metadata\";\n\nimport {\n  IFmModelPropertyMeta,\n  IFmModelRelationshipMeta,\n  IModel,\n} from \"@/types\";\nimport {\n  addPropertyToModelMeta,\n  addRelationshipToModelMeta,\n  getProperties,\n} from \"@/util\";\n\nimport { IDictionary } from \"common-types\";\n\nexport const propertyDecorator = <T extends IModel>(\n  nameValuePairs: IDictionary = {},\n  /**\n   * if you want to set the property being decorated's name\n   * as property on meta specify the meta properties name here\n   */\n  property?: string\n) => (target: IModel, key: string): void => {\n  const reflect: IDictionary =\n    Reflect.getMetadata(\"design:type\", target, key) || {};\n\n  if (nameValuePairs.isProperty) {\n    const meta: IFmModelPropertyMeta<T> = {\n      ...Reflect.getMetadata(key, target),\n      ...{ type: reflect.name },\n      ...nameValuePairs,\n    };\n    Reflect.defineMetadata(key, meta, target);\n    addPropertyToModelMeta<T>(target.constructor.name, property, meta);\n  }\n\n  if (nameValuePairs.isRelationship) {\n    const meta: IFmModelRelationshipMeta<T> = {\n      ...Reflect.getMetadata(key, target),\n      ...{ type: reflect.name },\n      ...nameValuePairs,\n    };\n    Reflect.defineMetadata(key, meta, target);\n    addRelationshipToModelMeta(target.constructor.name, property, meta);\n  }\n};\n","import { IFmModelPropertyMeta } from \"@/types\";\nimport { propertiesByModel } from \"@/util\";\nimport { propertyReflector } from \"@/decorators\";\n\n// TODO: make the defaultValue typed\n/**\n * Allows setting a default value for a given property\n */\nexport function defaultValue(value: any) {\n  return propertyReflector<IFmModelPropertyMeta>(\n    { defaultValue: value },\n    propertiesByModel\n  );\n}\n","import { IFmModelPropertyMeta } from \"@/types\";\nimport { propertiesByModel } from \"@/util\";\nimport { propertyReflector } from \"@/decorators\";\n\nexport const encrypt = propertyReflector<IFmModelPropertyMeta>(\n  { encrypt: true },\n  propertiesByModel\n);\n","import { IDictionary, Omit } from \"common-types\";\nimport {\n  IFmModelRelationshipMeta,\n  IFmRelationshipDirectionality,\n  IFnToModelConstructor,\n  IModelConstructor,\n} from \"@/types\";\nimport { modelConstructorLookup, modelNameLookup } from \"@/util\";\n\nimport { DecoratorProblem } from \"@/errors\";\nimport { propertyReflector } from \"@/decorators\";\nimport { relationshipsByModel } from \"@/util\";\n\nexport type IFmHasMany<T = true> = IDictionary<T>;\n\nexport function hasMany(\n  /**\n   * either a _string_ representing the Model's class name\n   * or a _constructor_ for the Model class\n   *\n   * In order to support prior implementations we include the\n   * possibility that a user of this API will pass in a _function_\n   * to a _constructor_. This approach is now deprecated.\n   */\n  fkClass: IFnToModelConstructor | IModelConstructor | string,\n  inverse?: string | [string, IFmRelationshipDirectionality]\n) {\n  try {\n    const fkConstructor: IFnToModelConstructor =\n      typeof fkClass === \"string\"\n        ? modelNameLookup(fkClass)\n        : modelConstructorLookup(fkClass);\n\n    let inverseProperty: string | undefined;\n    let directionality: IFmRelationshipDirectionality;\n    if (Array.isArray(inverse)) {\n      [inverseProperty, directionality] = inverse;\n    } else {\n      inverseProperty = inverse;\n      directionality = inverse ? \"bi-directional\" : \"one-way\";\n    }\n    const payload: Omit<IFmModelRelationshipMeta, \"type\" | \"property\"> = {\n      isRelationship: true,\n      isProperty: false,\n      relType: \"hasMany\",\n      directionality,\n      fkConstructor,\n      inverseProperty,\n      hasInverse: inverseProperty !== undefined ? true : false,\n    };\n\n    return propertyReflector(\n      { ...payload, type: \"Object\" },\n      relationshipsByModel\n    );\n  } catch (e) {\n    throw new DecoratorProblem(\"hasMany\", e, { inverse });\n  }\n}\n","import {\n  IFmModelRelationshipMeta,\n  IFmRelationshipDirectionality,\n  IFnToModelConstructor,\n  IModelConstructor,\n} from \"@/types\";\nimport {\n  modelConstructorLookup,\n  modelNameLookup,\n  relationshipsByModel,\n} from \"@/util\";\n\nimport { DecoratorProblem } from \"@/errors\";\nimport { Omit } from \"common-types\";\nimport { propertyReflector } from \"@/decorators\";\n\nexport function belongsTo(\n  /**\n   * either a _string_ representing the Model's class name\n   * or a _constructor_ for the Model class.\n   *\n   * In order to support prior implementations we include the\n   * possibility that a user of this API will pass in a _function_\n   * to a _constructor_. This approach is now deprecated.\n   */\n  fkClass: IFnToModelConstructor | IModelConstructor | string,\n  inverse?: string | [string, IFmRelationshipDirectionality]\n) {\n  try {\n    const fkConstructor: IFnToModelConstructor =\n      typeof fkClass === \"string\"\n        ? modelNameLookup(fkClass)\n        : modelConstructorLookup(fkClass);\n\n    let inverseProperty: string | null;\n    let directionality: IFmRelationshipDirectionality;\n    if (Array.isArray(inverse)) {\n      [inverseProperty, directionality] = inverse;\n    } else {\n      inverseProperty = inverse;\n      directionality = inverse ? \"bi-directional\" : \"one-way\";\n    }\n    const payload: Omit<IFmModelRelationshipMeta, \"type\" | \"property\"> = {\n      isRelationship: true,\n      isProperty: false,\n      relType: \"hasOne\",\n      directionality,\n      fkConstructor,\n      inverseProperty,\n      hasInverse: inverseProperty !== undefined ? true : false,\n    };\n    if (inverseProperty) {\n      payload.inverseProperty = inverseProperty;\n    }\n\n    return propertyReflector(\n      { ...payload, type: \"String\" },\n      relationshipsByModel\n    );\n  } catch (e) {\n    throw new DecoratorProblem(\"hasOne\", e, { inverse });\n  }\n}\n\nexport const ownedBy = belongsTo;\nexport const hasOne = belongsTo;\n","import \"reflect-metadata\";\n\nimport { IDictionary } from \"common-types\";\nimport { IModelIndexMeta } from \"@/types\";\nimport { hashToArray } from \"typed-conversions\";\nimport { propertyReflector } from \"@/decorators\";\n\n/** DB Indexes accumlated by index decorators */\nexport const indexesForModel: IDictionary<IDictionary<IModelIndexMeta>> = {};\n\n/**\n * Gets all the db indexes for a given model\n */\nexport function getDbIndexes<T>(modelKlass: object): IModelIndexMeta[] {\n  const modelName = modelKlass.constructor.name;\n\n  return modelName === \"Model\"\n    ? hashToArray<IModelIndexMeta>(indexesForModel[modelName])\n    : (hashToArray<IModelIndexMeta>(indexesForModel[modelName]) || []).concat(\n        hashToArray<IModelIndexMeta>(indexesForModel.Model)\n      );\n}\n\nexport const index = propertyReflector<IModelIndexMeta>(\n  {\n    isIndex: true,\n    isUniqueIndex: false,\n  },\n  indexesForModel\n);\n\nexport const uniqueIndex = propertyReflector<IModelIndexMeta>(\n  {\n    isIndex: true,\n    isUniqueIndex: true,\n  },\n  indexesForModel\n);\n","import { FmMockType, IFmModelPropertyMeta } from \"@/types\";\n\nimport { propertiesByModel } from \"@/util\";\nimport { propertyReflector } from \"@/decorators\";\n\nexport function mock(value: FmMockType, ...rest: any[]) {\n  return propertyReflector<IFmModelPropertyMeta>(\n    { mockType: value, mockParameters: rest },\n    propertiesByModel\n  );\n}\n","import \"reflect-metadata\";\n\nimport { FmModelConstructor, IFmModelMeta, IModel } from \"@/types\";\nimport {\n  addModelMeta,\n  getModelProperty,\n  getModelRelationship,\n  getProperties,\n  getRelationships,\n  isProperty,\n  isRelationship,\n} from \"@/util\";\nimport { getPushKeys, modelRegister } from \"@/util\";\n\nimport { IDictionary } from \"common-types\";\nimport { getDbIndexes } from \"@/decorators\";\n\nexport function model(options: Partial<IFmModelMeta> = {}) {\n  let isDirty: boolean = false;\n\n  return function decorateModel<T extends IModel>(\n    target: FmModelConstructor<T>\n  ) {\n    // Function to add META to the model\n    function addMetaProperty() {\n      const modelOfObject = new target();\n\n      if (options.audit === undefined) {\n        options.audit = false;\n      }\n      if (\n        !(\n          options.audit === true ||\n          options.audit === false ||\n          options.audit === \"server\"\n        )\n      ) {\n        console.log(\n          `You set the audit property to \"${options.audit}\" which is invalid. Valid properties are true, false, and \"server\". The audit property will be set to false for now.`\n        );\n        options.audit = false;\n      }\n      const meta: IFmModelMeta = {\n        ...options,\n        ...{ isProperty: isProperty(modelOfObject) },\n        ...{ property: getModelProperty(modelOfObject) },\n        ...{ properties: getProperties(modelOfObject) },\n        ...{ isRelationship: isRelationship(modelOfObject) },\n        ...{ relationship: getModelRelationship(modelOfObject) },\n        ...{ relationships: getRelationships(modelOfObject) },\n        ...{ dbIndexes: getDbIndexes(modelOfObject) },\n        ...{ pushKeys: getPushKeys(modelOfObject) },\n        ...{ dbOffset: options.dbOffset ? options.dbOffset : \"\" },\n        ...{ audit: options.audit ? options.audit : false },\n        ...{ plural: options.plural },\n        ...{\n          allProperties: [\n            ...getProperties(modelOfObject).map((p) => p.property),\n            ...getRelationships(modelOfObject).map((p) => p.property),\n          ],\n        },\n        ...{\n          localPostfix:\n            options.localPostfix === undefined ? \"all\" : options.localPostfix,\n        },\n        ...{\n          localModelName:\n            options.localModelName === undefined\n              ? modelOfObject.constructor.name.slice(0, 1).toLowerCase() +\n                modelOfObject.constructor.name.slice(1)\n              : options.localModelName,\n        },\n        ...{ isDirty },\n      };\n\n      addModelMeta(target.constructor.name.toLowerCase(), meta);\n\n      Object.defineProperty(target.prototype, \"META\", {\n        get(): IFmModelMeta {\n          return meta;\n        },\n        set(prop: IDictionary) {\n          if (typeof prop === \"object\" && prop.isDirty !== undefined) {\n            isDirty = prop.isDirty;\n          } else {\n            throw new Error(\n              \"The META properties should only be set with the @model decorator at design time!\"\n            );\n          }\n        },\n        configurable: false,\n        enumerable: false,\n      });\n\n      if (target) {\n        // register the constructor so name based lookups will succeed\n        modelRegister(target);\n      }\n\n      return target;\n    }\n\n    // copy prototype so intanceof operator still works\n    addMetaProperty.prototype = target.prototype;\n\n    // return new constructor (will override original)\n    return addMetaProperty();\n  };\n}\n","// tslint:disable:no-unused-expression\nexport type NonProperties<T> = {\n  [P in keyof T]: T[P] extends () => any ? never : P;\n}[keyof T];\nexport type Properties<T> = Pick<T, NonProperties<T>>;\n\nimport { IFmModelMeta, IModel } from \"@/types\";\nimport { index, mock, model, property } from \"@/decorators\";\n\nimport { epochWithMilliseconds } from \"common-types\";\n\n@model()\nexport class Model implements IModel {\n  // prettier-ignore\n  // TODO: This should be made required and the API updated to make it optional where appropriate\n  /** The primary-key for the record */\n  @property public id?: string;\n  // prettier-ignore\n  /** The last time that a given record was updated */\n  @property @mock(\"dateRecentMiliseconds\") @index public lastUpdated?: epochWithMilliseconds;\n  // prettier-ignore\n  /** The datetime at which this record was first created */\n  @property @mock(\"datePastMiliseconds\") @index public createdAt?: epochWithMilliseconds;\n  /** Metadata properties of the given schema */\n  public META?: IFmModelMeta;\n}\n","import { IAuditChange, IAuditOperations } from \"@/types\";\nimport { index, model, property } from \"@/decorators\";\n\nimport { Model } from \"@/models\";\n\n@model({ dbOffset: \"_auditing\" })\nexport class AuditLog extends Model {\n  /** the `Model` which has been changed */\n  @property @index modelName: string;\n  /** the `id` of the record changing */\n  @property @index modelId: string;\n  /** the record-level operation */\n  @property changes: IAuditChange[];\n  /** the changes to properties, typically not represented in a \"removed\" op */\n  @property action: IAuditOperations;\n}\n","import { FireModel, Record } from \"@/core\";\nimport { IAuditChange, IAuditOperations, IModelOptions } from \"@/types\";\n\nimport { AuditLog } from \"@/models\";\nimport { capitalize } from \"@/util\";\n\n/**\n * writeAudit\n *\n * Allows for a consistent way of writing audit records to the database\n *\n * @param recordId the ID of the record which is changing\n * @param pluralName the plural name of the Model type\n * @param action CRUD action\n * @param changes array of changes\n * @param options\n */\nexport async function writeAudit<T>(\n  record: Record<T>,\n  action: IAuditOperations,\n  changes: IAuditChange[],\n  options: IModelOptions = {}\n) {\n  const db = options.db || FireModel.defaultDb;\n  await Record.add(\n    AuditLog,\n    {\n      modelName: capitalize(record.modelName),\n      modelId: record.id,\n      action,\n      changes,\n    },\n    { db }\n  );\n}\n","//#region imports\nimport { FireModel, List } from \"@/core\";\nimport {\n  FireModelError,\n  FireModelProxyError,\n  NotHasManyRelationship,\n  NotHasOneRelationship,\n  RecordCrudFailure,\n} from \"@/errors\";\nimport {\n  FmEvents,\n  IAuditChange,\n  IAuditOperations,\n  ICompositeKey,\n  IFMEventName,\n  IFkReference,\n  IFmCrudOperations,\n  IFmDispatchOptions,\n  IFmLocalRecordEvent,\n  IFmModelPropertyMeta,\n  IFmPathValuePair,\n  IFmRelationshipOptions,\n  IFmRelationshipOptionsForHasMany,\n  IModel,\n  IRecord,\n  IRecordOptions,\n  IRecordRelationshipMeta,\n  IReduxDispatch,\n  IWatcherEventContext,\n  IWriteOperation,\n} from \"@/types\";\nimport { IDictionary, Nullable, Omit, dotNotation, fk, pk } from \"common-types\";\nimport { WatchDispatcher, findWatchers } from \"./watchers\";\nimport {\n  buildDeepRelationshipLinks,\n  buildRelationshipPaths,\n  createCompositeKey,\n  createCompositeKeyFromFkString,\n  createCompositeKeyRefFromRecord,\n  relationshipOperation,\n} from \"./records\";\nimport {\n  capitalize,\n  compareHashes,\n  getModelMeta,\n  isHasManyRelationship,\n  pathJoin,\n  withoutMetaOrPrivate,\n} from \"@/util\";\n\nimport { IAbstractedDatabase } from \"universal-fire\";\nimport { UnwatchedLocalEvent } from \"@/state-mgmt\";\nimport { default as copy } from \"fast-copy\";\nimport { key as fbKey } from \"firebase-key\";\nimport { writeAudit } from \"@/audit\";\n\n//#endregion\n\nexport class Record<T extends IModel> extends FireModel<T> implements IRecord {\n  //#region STATIC INTERFACE\n  public static set defaultDb(db: IAbstractedDatabase) {\n    FireModel.defaultDb = db;\n  }\n  public static get defaultDb() {\n    return FireModel.defaultDb;\n  }\n\n  public static set dispatch(fn: IReduxDispatch) {\n    FireModel.dispatch = fn;\n  }\n\n  /**\n   * **dynamicPathProperties**\n   *\n   * An array of \"dynamic properties\" that are derived fom the \"dbOffset\" to\n   * produce the \"dbPath\". Note: this does NOT include the `id` property.\n   */\n  public static dynamicPathProperties<T extends IModel = IModel>(\n    /**\n     * the **Model** who's properties are being interogated\n     */\n    model: new () => T\n  ) {\n    return Record.create(model).dynamicPathComponents;\n  }\n\n  /**\n   * create\n   *\n   * creates a new -- and empty -- Record object; often used in\n   * conjunction with the Record's initialize() method\n   */\n  public static create<T extends IModel>(\n    model: new () => T,\n    options: IRecordOptions = {}\n  ) {\n    const r = new Record<T>(model, options);\n    if (options.silent && !r.db.isMockDb) {\n      throw new FireModelError(\n        `You can only add new records to the DB silently when using a Mock database!`,\n        \"forbidden\"\n      );\n    }\n\n    return r;\n  }\n\n  /**\n   * Creates an empty record and then inserts all values\n   * provided along with default values provided in META.\n   */\n  public static local<T extends IModel>(\n    model: new () => T,\n    values: Partial<T>,\n    options: IRecordOptions & { ignoreEmptyValues?: boolean } = {}\n  ) {\n    const rec = Record.create(model, options as IRecordOptions);\n    if (\n      !options.ignoreEmptyValues &&\n      (!values || Object.keys(values).length === 0)\n    ) {\n      throw new FireModelError(\n        \"You used the static Record.local() method but passed nothing into the 'values' property! If you just want to skip this error then you can set the options to { ignoreEmptyValues: true } or just use the Record.create() method.\",\n        `firemodel/record::local`\n      );\n    }\n\n    if (values) {\n      const defaultValues = rec.META.properties.filter(\n        (i) => i.defaultValue !== undefined\n      );\n\n      // also include \"default values\"\n      defaultValues.forEach((i: IFmModelPropertyMeta<T>) => {\n        if (rec.get(i.property) === undefined) {\n          rec.set(i.property, i.defaultValue, true);\n        }\n      });\n    }\n\n    return rec;\n  }\n\n  /**\n   * add\n   *\n   * Adds a new record to the database\n   *\n   * @param schema the schema of the record\n   * @param payload the data for the new record; this optionally can include the \"id\" but if left off the new record will use a firebase pushkey\n   * @param options\n   */\n  public static async add<T extends IModel>(\n    model: (new () => T) | string,\n    payload: T,\n    options: IRecordOptions = {}\n  ) {\n    let r: Record<T>;\n    if (typeof model === \"string\") {\n      model = FireModel.lookupModel(model);\n    }\n    try {\n      if (!model) {\n        throw new FireModelError(\n          `The model passed into the Record.add() static initializer was not defined! This is often the result of a circular dependency. Note that the \"payload\" sent into Record.add() was:\\n\\n${JSON.stringify(\n            payload,\n            null,\n            2\n          )}`\n        );\n      }\n      r = Record.createWith(model, payload as Partial<T>, options);\n\n      if (!payload.id) {\n        const path = List.dbPath(model, payload);\n        payload.id = await r.db.getPushKey(path);\n      }\n\n      await r._initialize(payload as T, options);\n      const defaultValues = r.META.properties.filter(\n        (i) => i.defaultValue !== undefined\n      );\n      defaultValues.forEach((i: IFmModelPropertyMeta<T>) => {\n        if (r.get(i.property) === undefined) {\n          r.set(i.property, i.defaultValue, true);\n        }\n      });\n\n      await r._adding(options);\n    } catch (e) {\n      if (e.code === \"permission-denied\") {\n        const rec = Record.createWith(model, payload as Partial<T>);\n        throw new FireModelError(\n          `Permission error while trying to add the ${capitalize(\n            rec.modelName\n          )} to the database path ${rec.dbPath}`,\n          \"firemodel/permission-denied\"\n        );\n      }\n\n      if (e.name.includes(\"firemodel\")) {\n        throw e;\n      }\n\n      throw new FireModelProxyError(e, \"Failed to add new record \");\n    }\n\n    return r;\n  }\n\n  /**\n   * **update**\n   *\n   * update an existing record in the database with a dictionary of prop/value pairs\n   *\n   * @param model the _model_ type being updated\n   * @param id the `id` for the model being updated\n   * @param updates properties to update; this is a non-destructive operation so properties not expressed will remain unchanged. Also, because values are _nullable_ you can set a property to `null` to REMOVE it from the database.\n   * @param options\n   */\n  public static async update<T extends IModel>(\n    model: new () => T,\n    id: string | ICompositeKey<T>,\n    updates: Nullable<Partial<T>>,\n    options: IRecordOptions = {}\n  ) {\n    let r;\n    try {\n      r = await Record.get(model, id, options);\n      await r.update(updates);\n    } catch (e) {\n      const err = new Error(`Problem adding new Record: ${e.message}`);\n      err.name = e.name !== \"Error\" ? e.name : \"FireModel\";\n      throw e;\n    }\n\n    return r;\n  }\n\n  /**\n   * Pushes a new item into a property that is setup as a \"pushKey\"\n   *\n   * @param model the model being operated on\n   * @param id  `id` or `composite-key` that uniquely identifies a record\n   * @param property the property on the record\n   * @param payload the new payload you want to push into the array\n   */\n  public static async pushKey<T extends IModel>(\n    model: new () => T,\n    id: string | ICompositeKey<T>,\n    property: keyof T & string,\n    payload: any,\n    options: IRecordOptions = {}\n  ) {\n    const obj = await Record.get(model, id, options);\n    return obj.pushKey(property, payload);\n  }\n\n  /**\n   * **createWith**\n   *\n   * A static initializer that creates a Record of a given class\n   * and then initializes the state with either a Model payload\n   * or a CompositeKeyString (aka, '[id]::[prop]:[value]').\n   *\n   * You should be careful in using this initializer; the expected\n   * _intents_ include:\n   *\n   * 1. to initialize an in-memory record of something which is already\n   * in the DB\n   * 2. to get all the \"composite key\" attributes into the record so\n   * all META queries are possible\n   *\n   * If you want to add this record to the database then use `add()`\n   * initializer instead.\n   *\n   * @prop model a constructor for the underlying model\n   * @payload either a string representing an `id` or Composite Key or alternatively\n   * a hash/dictionary of attributes that are to be set as a starting point\n   */\n  public static createWith<T extends IModel>(\n    model: new () => T,\n    payload: Partial<T> | string,\n    options: IRecordOptions = {}\n  ) {\n    const rec = Record.create(model, options);\n\n    if (options.setDeepRelationships === true) {\n      throw new FireModelError(\n        `Trying to create a ${capitalize(\n          rec.modelName\n        )} with the \"setDeepRelationships\" property set. This is NOT allowed; consider the 'Record.add()' method instead.`,\n        \"not-allowed\"\n      );\n    }\n    const properties: Partial<T> =\n      typeof payload === \"string\"\n        ? createCompositeKeyFromFkString(payload, rec.modelConstructor)\n        : payload;\n    // TODO: build some tests to ensure that ...\n    // the async possibilites of this method (only if `options.setDeepRelationships`)\n    // are not negatively impacting this method\n    rec._initialize(properties, options);\n\n    return rec;\n  }\n\n  /**\n   * get (static initializer)\n   *\n   * Allows the retrieval of records based on the record's id (and dynamic path prefixes\n   * in cases where that applies)\n   *\n   * @param model the model definition you are retrieving\n   * @param id either just an \"id\" string or in the case of models with dynamic path prefixes you can pass in an object with the id and all dynamic prefixes\n   * @param options\n   */\n  public static async get<T extends IModel>(\n    model: new () => T,\n    id: string | ICompositeKey<T>,\n    options: IRecordOptions = {}\n  ) {\n    const record = Record.create(model, options);\n    await record._getFromDB(id);\n    return record;\n  }\n\n  public static async remove<T extends IModel>(\n    model: new () => T,\n    id: IFkReference<T>,\n    /** if there is a known current state of this model you can avoid a DB call to get it */\n    currentState?: Record<T>\n  ) {\n    // TODO: add lookup in local state to see if we can avoid DB call\n    const record = currentState ? currentState : await Record.get(model, id);\n    await record.remove();\n    return record;\n  }\n\n  //#region STATIC: Relationships\n  /**\n   * Associates a new FK to a relationship on the given `Model`; returning\n   * the primary model as a return value\n   */\n  public static async associate<T extends IModel>(\n    model: new () => T,\n    id: pk,\n    property: keyof T & string,\n    refs: IFkReference<any> | IFkReference<any>[]\n  ) {\n    const obj = await Record.get(model, id);\n    await obj.associate(property, refs);\n    return obj;\n  }\n\n  /**\n   * Given a database _path_ and a `Model`, pull out the composite key from\n   * the path. This works for Models that do and _do not_ have dynamic segments\n   * and in both cases the `id` property will be returned as part of the composite\n   * so long as the path does indeed have the `id` at the end of the path.\n   */\n  public static getCompositeKeyFromPath<T extends IModel>(\n    model: new () => T,\n    path: string\n  ) {\n    if (!path) {\n      return {};\n    }\n\n    const r = Record.create(model);\n    const pathParts = dotNotation(path).split(\".\");\n    const compositeKey: IDictionary = {};\n    const segments = dotNotation(r.dbOffset).split(\".\");\n    if (\n      segments.length > pathParts.length ||\n      pathParts.length - 2 > segments.length\n    ) {\n      throw new FireModelError(\n        `Attempt to get the composite key from a path failed due to the diparity of segments in the path [ ${pathParts.length} ] versus the dynamic path [ ${segments.length} ]`,\n        \"firemodel/not-allowed\"\n      );\n    }\n\n    segments.forEach((segment, idx) => {\n      if (segment.slice(0, 1) === \":\") {\n        const name = segment.slice(1);\n        const value = pathParts[idx];\n        compositeKey[name] = value;\n      } else {\n        if (segment !== pathParts[idx]) {\n          throw new FireModelError(\n            `The attempt to build a composite key for the model ${capitalize(\n              r.modelName\n            )} failed because the static parts of the path did not match up. Specifically where the \"dbOffset\" states the segment \"${segment}\" the path passed in had \"${\n              pathParts[idx]\n            }\" instead.`\n          );\n        }\n      }\n      if (pathParts.length - 1 === segments.length) {\n        compositeKey.id = pathParts.slice(-1);\n      }\n    });\n\n    return compositeKey;\n  }\n\n  /**\n   * Given a Model and a partial representation of that model, this will generate\n   * a composite key (in _object_ form) that conforms to the `ICompositeKey` interface\n   * and uniquely identifies the given record.\n   *\n   * @param model the class definition of the model you want the CompositeKey for\n   * @param object the data which will be used to generate the Composite key from\n   */\n  public static compositeKey<T extends IModel>(\n    model: new () => T,\n    obj: Partial<T>\n  ): ICompositeKey<T> {\n    const dynamicSegments = Record.dynamicPathProperties(model).concat(\"id\");\n    return dynamicSegments.reduce((agg: Partial<T>, prop: string & keyof T) => {\n      if (obj[prop] === undefined) {\n        throw new FireModelError(\n          `You used attempted to generate a composite key of the model ${Record.modelName(\n            model\n          )} but the property \"${prop}\" is part of they dynamic path and the data passed in did not have a value for this property.`,\n          \"firemodel/not-ready\"\n        );\n      }\n      agg[prop] = obj[prop];\n      return agg;\n    }, {}) as ICompositeKey<T>;\n  }\n\n  /**\n   * Given a Model and a partial representation of that model, this will generate\n   * a composite key in _string_ form that conforms to the `IPrimaryKey` interface\n   * and uniquely identifies the given record.\n   *\n   * @param model the class definition of the model you want the CompositeKey for\n   * @param object the data which will be used to generate the Composite key from\n   */\n  public static compositeKeyRef<T extends IModel>(\n    model: new () => T,\n    /** either a partial model or just the `id` of the model if model is not a dynamic path */\n    object: Partial<T> | string\n  ): string {\n    if (Record.dynamicPathProperties(model).length === 0) {\n      return typeof object === \"string\" ? object : object.id;\n    }\n\n    if (typeof object === \"string\") {\n      if (object.includes(\":\")) {\n        // Forward strings which already appear to be composite key reference\n        return object;\n      } else {\n        throw new FireModelError(\n          `Attempt to get a compositeKeyRef() but passed in a string/id value instead of a composite key for a model [ ${Record.modelName(\n            model\n          )}, \"${object}\" ] which HAS dynamic properties! Required props are: ${Record.dynamicPathProperties(\n            model\n          ).join(\", \")}`,\n          \"not-allowed\"\n        );\n      }\n    }\n    const compositeKey = Record.compositeKey(model, object);\n    const nonIdKeys: { prop: string; value: any }[] = Object.keys(\n      compositeKey\n    ).reduce(\n      (agg, prop: keyof typeof compositeKey & string) =>\n        prop === \"id\" ? agg : agg.concat({ prop, value: compositeKey[prop] }),\n      []\n    );\n\n    return `${compositeKey.id}::${nonIdKeys\n      .map((tuple) => `${tuple.prop}:${tuple.value}`)\n      .join(\"::\")}`;\n  }\n\n  /**\n   * Returns the name of the name of the `Model`.\n   *\n   * Note: it returns the name in PascalCase _not_\n   * camelCase.\n   */\n  public static modelName<T extends IModel>(model: new () => T) {\n    const r = Record.create(model);\n    return capitalize(r.modelName);\n  }\n\n  //#endregion STATIC: Relationships\n\n  //#endregion\n\n  //#region INSTANCE DEFINITION\n  private _existsOnDB: boolean = false;\n  private _writeOperations: IWriteOperation[] = [];\n  private _data?: Partial<T> = {};\n\n  constructor(model: new () => T, protected options: IRecordOptions = {}) {\n    super();\n    if (!model) {\n      throw new FireModelError(\n        `You are trying to instantiate a Record but the \"model constructor\" passed in is empty!`,\n        `firemodel/not-allowed`\n      );\n    }\n\n    if (!model.constructor) {\n      console.log(\n        `The \"model\" property passed into the Record constructor is NOT a Model constructor! It is of type \"${typeof model}\": `,\n        model\n      );\n      if (typeof model === \"string\") {\n        model = FireModel.lookupModel(model);\n        if (!model) {\n          throw new FireModelError(\n            `Attempted to lookup the model in the registry but it was not found!`\n          );\n        }\n      } else {\n        throw new FireModelError(\n          `Can not instantiate a Record without a valid Model constructor`\n        );\n      }\n    }\n    this._modelConstructor = model;\n    this._model = new model();\n    this._data = new model();\n  }\n\n  public get data() {\n    return this._data as Readonly<T>;\n  }\n\n  public get isDirty() {\n    return this.META.isDirty ? true : false;\n  }\n\n  /**\n   * deprecated\n   */\n  public set isDirty(value: boolean) {\n    if (!this._data.META) {\n      this._data.META = { isDirty: value };\n    }\n    this._data.META.isDirty = value;\n  }\n\n  /**\n   * returns the fully qualified name in the database to this record;\n   * this of course includes the record id so if that's not set yet calling\n   * this getter will result in an error\n   */\n  public get dbPath() {\n    if (this.data.id ? false : true) {\n      throw new FireModelError(\n        `you can not ask for the dbPath before setting an \"id\" property [ ${this.modelName} ]`,\n        \"record/not-ready\"\n      );\n    }\n\n    return [\n      this._injectDynamicPathProperties(this.dbOffset),\n      this.pluralName,\n      this.data.id,\n    ].join(\"/\");\n  }\n\n  /**\n   * provides a boolean flag which indicates whether the underlying\n   * model has a \"dynamic path\" which ultimately comes from a dynamic\n   * component in the \"dbOffset\" property defined in the model decorator\n   */\n  public get hasDynamicPath() {\n    return this.META.dbOffset.includes(\":\");\n  }\n\n  /**\n   * **dynamicPathComponents**\n   *\n   * An array of \"dynamic properties\" that are derived fom the \"dbOffset\" to\n   * produce the \"dbPath\"\n   */\n  public get dynamicPathComponents(): Array<string & keyof T> {\n    return this._findDynamicComponents(this.META.dbOffset);\n  }\n\n  /**\n   * the list of dynamic properties in the \"localPrefix\"\n   * which must be resolved to achieve the \"localPath\"\n   */\n  public get localDynamicComponents() {\n    return this._findDynamicComponents(this.META.localPrefix);\n  }\n\n  /**\n   * A hash of values -- including at least \"id\" -- which represent\n   * the composite key of a model.\n   */\n  public get compositeKey(): ICompositeKey<T> {\n    return createCompositeKey<T>(this);\n  }\n\n  /**\n   * a string value which is used in relationships to fully qualify\n   * a composite string (aka, a model which has a dynamic dbOffset)\n   */\n  public get compositeKeyRef() {\n    return createCompositeKeyRefFromRecord<T>(this);\n  }\n\n  /**\n   * The Record's primary key; this is the `id` property only. Not\n   * the composite key.\n   */\n  public get id(): string {\n    return this.data.id;\n  }\n\n  /**\n   * Allows setting the Record's `id` if it hasn't been set before.\n   * Resetting the `id` is not allowed.\n   */\n  public set id(val: string) {\n    if (this.data.id) {\n      throw new FireModelError(\n        `You may not re-set the ID of a record [ ${this.modelName}.id ${this.data.id} => ${val} ].`,\n        \"firemodel/not-allowed\"\n      );\n    }\n\n    this._data.id = val;\n  }\n\n  /**\n   * Returns the record's database _offset_ without the ID or any dynamic properties\n   * yet interjected. The _dynamic properties_ however, will be show with a `:` prefix\n   * to indicate where the the values will go.\n   */\n  public get dbOffset() {\n    return getModelMeta(this).dbOffset;\n  }\n\n  /**\n   * returns the record's location in the frontend state management framework;\n   * this can include dynamic properties characterized in the path string by\n   * leading \":\" character.\n   */\n  public get localPath() {\n    let prefix = this.localPrefix;\n    this.localDynamicComponents.forEach((prop) => {\n      // TODO: another example of impossible typing coming off of a get()\n      prefix = prefix.replace(`:${prop}`, this.get(prop) as any);\n    });\n    return pathJoin(\n      prefix,\n      this.META.localModelName !== this.modelName\n        ? this.META.localModelName\n        : this.options.pluralizeLocalPath\n        ? this.pluralName\n        : this.modelName\n    );\n  }\n\n  /**\n   * The path in the local state tree that brings you to\n   * the record; this is differnt when retrieved from a\n   * Record versus a List.\n   */\n  public get localPrefix() {\n    return getModelMeta(this).localPrefix;\n  }\n\n  public get existsOnDB() {\n    return this.data && this.data.id ? true : false;\n  }\n\n  /** indicates whether this record is already being watched locally */\n  public get isBeingWatched() {\n    return FireModel.isBeingWatched(this.dbPath);\n  }\n\n  public get modelConstructor() {\n    return this._modelConstructor;\n  }\n\n  /**\n   * Returns a `Record` for the FK of the given model, assuming that the\n   * relationship has a cardinality of 1 (aka, hasOne/ownedBy).\n   *\n   * If instead, you want to get ALL the `Record`'s relationing to a relationship\n   * of a cardinality greater than 1 than you should use `getRecordsForRelationship`\n   * instead.\n   *\n   * @param property the relationship _property name_ which has has a\n   * FK relationship to another model\n   */\n  public getMetaForRelationship(\n    property: string & keyof T\n  ): IRecordRelationshipMeta {\n    if (!this.META.property(property)?.isRelationship) {\n      throw new FireModelError(\n        `Attempt to get a Record instance for a relationship contained on the \"${capitalize(\n          this.modelName\n        )}\" model failed. The property \"${property}\" is either not a property or is not a relationship property on this model!`,\n        \"invalid-relationship-lookup\"\n      );\n    }\n    if (this.META.property(property).relType === \"hasMany\") {\n      throw new FireModelError(\n        `Attempt to get a Record instance for a a relationship contained on the \"${capitalize(\n          this.modelName\n        )}\" model failed because the relationship property [\"${property}\"] has a cardinality greater than 1. Use \"getRecordsForRelationships\" instead.`\n      );\n    }\n    const pkHasInverse = this.META.relationship(property).inverseProperty;\n    const fkInverseProperty = this.META.relationship(property).inverseProperty;\n    const fkRec = Record.create(this.META.property(property).fkConstructor());\n    const inverseIsMissing = pkHasInverse\n      ? fkRec.META.relationship(fkInverseProperty).inverseProperty === property\n      : false;\n\n    const pkCardinality =\n      this.META.relationship(property).relType === `hasMany` ? \"M\" : \"1\";\n    const fkCardinality =\n      pkHasInverse &&\n      fkRec.META.relationship(fkInverseProperty).relType === `hasMany`\n        ? \"M\"\n        : \"1\";\n    const cardinality = `${pkCardinality}:${fkCardinality}`;\n    const inversePointsToWrongModel = pkHasInverse\n      ? fkRec.META.relationship(fkInverseProperty).fkModelName !==\n        this.modelName\n      : false;\n    const fkReciprocalInverseProperty =\n      pkHasInverse && fkRec.META.relationship(property).hasInverse\n        ? fkRec.META.relationship(property).inverseProperty\n        : undefined;\n    const fkHasInvalidInverse =\n      pkHasInverse &&\n      fkRec.META.relationship(property).hasInverse &&\n      fkRec.META.relationship(property).inverseProperty !== property\n        ? true\n        : false;\n\n    return {\n      fkConstructor: this.META.property(property).fkConstructor,\n      modelName: fkRec.modelName,\n      pluralName: fkRec.pluralName,\n      inverseIsMissing,\n      inversePointsToWrongModel,\n      fkHasInvalidInverse,\n      fkInverseProperty,\n      fkReciprocalInverseProperty,\n      cardinality,\n    };\n  }\n\n  /**\n   * Goes out to the database and reloads this record\n   */\n  public async reload() {\n    const reloaded = await Record.get(\n      this._modelConstructor,\n      this.compositeKeyRef\n    );\n    return reloaded;\n  }\n\n  /**\n   * addAnother\n   *\n   * Allows a simple way to add another record to the database\n   * without needing the model's constructor fuction. Note, that\n   * the payload of the existing record is ignored in the creation\n   * of the new.\n   *\n   * @param payload the payload of the new record\n   */\n  public async addAnother(payload: T, options: IRecordOptions = {}) {\n    const newRecord = await Record.add(\n      this._modelConstructor,\n      payload,\n      options\n    );\n    return newRecord;\n  }\n\n  public isSameModelAs(model: new () => any) {\n    return this._modelConstructor === model;\n  }\n\n  /**\n   * Pushes new values onto properties on the record\n   * which have been stated to be a \"pushKey\"\n   */\n  public async pushKey<K extends keyof T & string, Object>(\n    property: K,\n    value: T[K][keyof T[K]] | any\n  ): Promise<fk> {\n    if (this.META.pushKeys.indexOf(property as any) === -1) {\n      throw new FireModelError(\n        `Invalid Operation: you can not push to property \"${property}\" as it has not been declared a pushKey property in the schema`,\n        \"invalid-operation/not-pushkey\"\n      );\n    }\n\n    if (!this.existsOnDB) {\n      throw new FireModelError(\n        `Invalid Operation: you can not push to property \"${property}\" before saving the record to the database`,\n        \"invalid-operation/not-on-db\"\n      );\n    }\n    const key = this.db.isMockDb\n      ? fbKey()\n      : await this.db.getPushKey(pathJoin(this.dbPath, property));\n\n    await this.db.update(pathJoin(this.dbPath, property), {\n      [pathJoin(this.dbPath, property, key)]: value,\n      [pathJoin(this.dbPath, \"lastUpdated\")]: new Date().getTime(),\n    });\n\n    // set firemodel state locally\n    const currentState = this.get(property) || {};\n    const newState = { ...(currentState as T[K]), [key]: value };\n    await this.set(property, newState);\n\n    return key;\n  }\n\n  /**\n   * **update**\n   *\n   * Updates a set of properties on a given model atomically (aka, all at once);\n   * will automatically include the \"lastUpdated\" property. Does NOT\n   * allow relationships to be included, this should be done separately.\n   *\n   * If you want to remove a particular property but otherwise leave the object\n   * unchanged, you can set that values(s) to NULL and it will be removed without\n   * impact to other properties.\n   *\n   * @param props a hash of name value pairs which represent the props being\n   * updated and their new values\n   */\n  public async update(props: Nullable<Partial<T>>) {\n    const meta = getModelMeta(this);\n    if (!meta.property) {\n      throw new FireModelError(\n        `There is a problem with this record's META information [ model: ${capitalize(\n          this.modelName\n        )}, id: ${\n          this.id\n        } ]. The property() method -- used to dig into properties on any given model appears to be missing!`,\n        \"firemodel/meta-missing\"\n      );\n    }\n    // can not update relationship properties\n    if (\n      Object.keys(props).some((key: any) => {\n        const root = key.split(\".\")[0];\n        const rootProperties = meta.property(root);\n        if (!rootProperties) {\n          throw new FireModelError(\n            `While this record [ model: ${capitalize(this.modelName)}, id: ${\n              this.id\n            } ] does return a \"META.property\" function, looking up the property \"${root}\" has resulted in an invalid response [${typeof rootProperties}]`\n          );\n        }\n        return rootProperties.isRelationship;\n      })\n    ) {\n      const relProps = Object.keys(props).filter(\n        (p: any) => meta.property(p).isRelationship\n      );\n      throw new FireModelError(\n        `You called update on a hash which has relationships included in it. Please only use \"update\" for updating properties. The relationships you were attempting to update were: ${relProps.join(\n          \", \"\n        )}.`,\n        `firemodel/not-allowed`\n      );\n    }\n\n    const lastUpdated = new Date().getTime();\n    const changed: any = {\n      ...props,\n      lastUpdated,\n    };\n    const rollback = copy(this.data);\n    // changes local Record to include updates immediately\n    this._data = { ...this.data, ...changed };\n\n    // performs a two phase commit using dispatch messages\n    await this._localCrudOperation(IFmCrudOperations.update, rollback);\n\n    return;\n  }\n\n  /**\n   * **remove**\n   *\n   * Removes the active record from the database and dispatches the change to\n   * FE State Mgmt.\n   */\n  public async remove() {\n    this.isDirty = true;\n    await this._localCrudOperation(IFmCrudOperations.remove, copy(this.data));\n    this.isDirty = false;\n    // TODO: handle dynamic paths and also consider removing relationships\n  }\n\n  /**\n   * Changes the local state of a property on the record\n   *\n   * @param prop the property on the record to be changed\n   * @param value the new value to set to\n   * @param silent a flag to indicate whether the change to the prop should be updated\n   * to the database or not\n   */\n  public async set<K extends keyof T>(\n    prop: K & string,\n    value: T[K],\n    silent: boolean = false\n  ) {\n    const rollback = copy(this.data);\n    const meta = this.META.property(prop);\n    if (!meta) {\n      throw new FireModelError(\n        `There was a problem getting the meta data for the model ${capitalize(\n          this.modelName\n        )} while attempting to set the \"${prop}\" property to: ${value}`\n      );\n    }\n    if (meta.isRelationship) {\n      throw new FireModelError(\n        `You can not \"set\" the property \"${prop}\" because it is configured as a relationship!`,\n        \"firemodel/not-allowed\"\n      );\n    }\n    const lastUpdated = new Date().getTime();\n    const changed: any = {\n      [prop]: value,\n      lastUpdated,\n    };\n    // locally change Record values\n    this.META.isDirty = true;\n    this._data = { ...this._data, ...changed };\n    // dispatch\n    if (!silent) {\n      await this._localCrudOperation(IFmCrudOperations.update, rollback, {\n        silent,\n      });\n      this.META.isDirty = false;\n    }\n\n    return;\n  }\n\n  /**\n   * **associate**\n   *\n   * Associates the current model with another entity\n   * regardless if the cardinality\n   */\n  public async associate(\n    property: keyof T & string,\n    // TODO: ideally stronger typing\n    refs: IFkReference<any> | IFkReference<any>[],\n    options: IFmRelationshipOptions = {}\n  ) {\n    const meta = getModelMeta(this);\n    if (!meta.relationship(property)) {\n      throw new FireModelError(\n        `Attempt to associate the property \"${property}\" can not be done on model ${capitalize(\n          this.modelName\n        )} because the property is not defined!`,\n        `firemodel/not-allowed`\n      );\n    }\n    if (!meta.relationship(property).relType) {\n      throw new FireModelError(\n        `For some reason the property \"${property}\" on the model ${capitalize(\n          this.modelName\n        )} doesn't have cardinality assigned to the \"relType\" (aka, hasMany, hasOne).\\n\\nThe META for relationships on the model are: ${JSON.stringify(\n          meta.relationships,\n          null,\n          2\n        )}`,\n        `firemodel/unknown`\n      );\n    }\n    const relType = meta.relationship(property).relType;\n    if (relType === \"hasMany\") {\n      await this.addToRelationship(property, refs, options);\n    } else {\n      if (Array.isArray(refs)) {\n        if (refs.length === 1) {\n          refs = refs.pop();\n        } else {\n          throw new FireModelError(\n            `Attempt to use \"associate()\" with a \"hasOne\" relationship [ ${property}] on the model ${capitalize(\n              this.modelName\n            )}.`,\n            \"firemodel/invalid-cardinality\"\n          );\n        }\n      }\n      await this.setRelationship(property, refs, options);\n    }\n  }\n\n  /**\n   * **disassociate**\n   *\n   * Removes an association between the current model and another entity\n   * (regardless of the cardinality in the relationship)\n   */\n  public async disassociate(\n    property: keyof T & string,\n    // TODO: ideally stronger typing below\n    refs: IFkReference<any> | IFkReference<any>[],\n    options: IFmRelationshipOptions = {}\n  ) {\n    const relType = this.META.relationship(property).relType;\n    if (relType === \"hasMany\") {\n      await this.removeFromRelationship(property, refs, options);\n    } else {\n      await this.clearRelationship(property, options);\n    }\n  }\n\n  /**\n   * Adds one or more fk's to a hasMany relationship.\n   *\n   * Every relationship will be added as a \"single transaction\", meaning that ALL\n   * or NONE of the relationshiop transactions will succeed. If you want to\n   * take a more optimistic approach that accepts each relationship pairing (PK/FK)\n   * then you should manage the iteration outside of this call and let this call\n   * only manage the invidual PK/FK transactions (which should ALWAYS be atomic).\n   *\n   * @param property the property which is acting as a foreign key (array)\n   * @param fkRefs FK reference (or array of FKs) that should be added to reln\n   * @param options change the behavior of this relationship transaction\n   */\n  public async addToRelationship(\n    property: keyof T & string,\n    fkRefs: IFkReference<any> | IFkReference<any>[],\n    options: IFmRelationshipOptionsForHasMany = {}\n  ) {\n    const altHasManyValue = options.altHasManyValue || true;\n\n    if (!isHasManyRelationship(this, property)) {\n      throw new NotHasManyRelationship(\n        this,\n        property as string,\n        \"addToRelationship\"\n      );\n    }\n\n    fkRefs = Array.isArray(fkRefs) ? fkRefs : [fkRefs];\n    let paths: IFmPathValuePair[] = [];\n\n    const now = new Date().getTime();\n    fkRefs.map((ref: IFkReference) => {\n      paths = [\n        ...buildRelationshipPaths(this, property, ref, {\n          now,\n          altHasManyValue,\n        }),\n        ...paths,\n      ];\n    });\n\n    await relationshipOperation(this, \"add\", property, fkRefs, paths, options);\n  }\n\n  /**\n   * removeFromRelationship\n   *\n   * remove one or more FK's from a `hasMany` relationship\n   *\n   * @param property the property which is acting as a FK\n   * @param fkRefs the FK's on the property which should be removed\n   */\n  public async removeFromRelationship(\n    property: keyof T & string,\n    fkRefs: IFkReference<any> | IFkReference<any>[],\n    options: IFmRelationshipOptionsForHasMany = {}\n  ) {\n    if (!isHasManyRelationship(this, property)) {\n      throw new NotHasManyRelationship(\n        this,\n        property,\n        \"removeFromRelationship\"\n      );\n    }\n\n    fkRefs = Array.isArray(fkRefs) ? fkRefs : [fkRefs];\n    let paths: IFmPathValuePair[] = [];\n\n    const now = new Date().getTime();\n    fkRefs.map((ref: IFkReference) => {\n      paths = [\n        ...buildRelationshipPaths(this, property, ref, {\n          now,\n          operation: \"remove\",\n        }),\n        ...paths,\n      ];\n    });\n\n    await relationshipOperation(\n      this,\n      \"remove\",\n      property,\n      fkRefs,\n      paths,\n      options\n    );\n  }\n\n  /**\n   * **clearRelationship**\n   *\n   * clears an existing FK on a `hasOne` relationship or _all_ FK's on a\n   * `hasMany` relationship\n   *\n   * @param property the property containing the relationship to an external\n   * entity\n   */\n  public async clearRelationship(\n    property: keyof T & string,\n    options: IFmRelationshipOptions = {}\n  ) {\n    const relType = this.META.relationship(property).relType;\n    const fkRefs: string[] =\n      relType === \"hasMany\"\n        ? this._data[property]\n          ? Object.keys(this.get(property))\n          : []\n        : this._data[property]\n        ? [(this.get(property) as unknown) as string]\n        : [];\n\n    let paths: IFmPathValuePair[] = [];\n    const now = new Date().getTime();\n\n    fkRefs.map((ref) => {\n      paths = [\n        ...buildRelationshipPaths(this, property, ref, {\n          now,\n          operation: \"remove\",\n        }),\n        ...paths,\n      ];\n    });\n\n    await relationshipOperation(\n      this,\n      \"clear\",\n      property,\n      fkRefs,\n      paths,\n      options\n    );\n  }\n\n  /**\n   * **setRelationship**\n   *\n   * sets up an FK relationship for a _hasOne_ relationship\n   *\n   * @param property the property containing the hasOne FK\n   * @param ref the FK\n   */\n  public async setRelationship(\n    property: keyof T & string,\n    fkId: IFkReference<any>,\n    options: IFmRelationshipOptions = {}\n  ) {\n    if (!fkId) {\n      throw new FireModelError(\n        `Failed to set the relationship ${this.modelName}.${property} because no FK was passed in!`,\n        \"firemodel/not-allowed\"\n      );\n    }\n\n    if (isHasManyRelationship(this, property)) {\n      throw new NotHasOneRelationship(this, property, \"setRelationship\");\n    }\n    const paths = buildRelationshipPaths(this, property, fkId);\n    await relationshipOperation(this, \"set\", property, [fkId], paths, options);\n  }\n\n  //#endregion INSTANCE DEFINITION\n\n  /**\n   * get a property value from the record\n   *\n   * @param prop the property being retrieved\n   */\n  public get<K extends keyof T & string>(prop: K) {\n    return this.data[prop];\n  }\n\n  public toString() {\n    return `Record::${this.modelName}@${this.id || \"undefined\"}`;\n  }\n\n  public toJSON() {\n    return {\n      dbPath: this.dbPath,\n      modelName: this.modelName,\n      pluralName: this.pluralName,\n      key: this.id,\n      compositeKey: this.compositeKey,\n      localPath: this.localPath,\n      data: this.data.toString(),\n    };\n  }\n  //#endregion\n\n  //#region PRIVATE METHODS\n  /**\n   * Allows an empty Record to be initialized to a known state.\n   * This is not intended to allow for mass property manipulation other\n   * than at time of initialization\n   *\n   * @param data the initial state you want to start with\n   */\n  public async _initialize(\n    data: Partial<T>,\n    options: IRecordOptions = {}\n  ): Promise<void> {\n    if (data) {\n      Object.keys(data).map((key) => {\n        this._data[key as keyof T] = data[key as keyof T];\n      });\n    }\n\n    const relationships = getModelMeta(this).relationships;\n    const hasOneRels: Array<keyof T> = (relationships || [])\n      .filter((r) => r.relType === \"hasOne\")\n      .map((r) => r.property) as Array<keyof T>;\n    const hasManyRels: Array<keyof T & string> = (relationships || [])\n      .filter((r) => r.relType === \"hasMany\")\n      .map((r) => r.property) as Array<keyof T & string>;\n\n    const promises = [];\n    /**\n     * Sets hasMany to default `{}` if nothing was set.\n     * Also, if the option `deepRelationships` is set to `true`,\n     * it will look for relationships hashes instead of the typical\n     * `fk: true` pairing.\n     */\n    for (const oneToManyProp of hasManyRels) {\n      if (!this._data[oneToManyProp]) {\n        (this._data as any)[oneToManyProp] = {};\n      }\n      if (options.setDeepRelationships) {\n        if (this._data[oneToManyProp]) {\n          promises.push(buildDeepRelationshipLinks(this, oneToManyProp));\n        }\n      }\n    }\n    await Promise.all(promises);\n\n    const now = new Date().getTime();\n    if (!this._data.lastUpdated) {\n      this._data.lastUpdated = now;\n    }\n    if (!this._data.createdAt) {\n      this._data.createdAt = now;\n    }\n  }\n\n  /**\n   * **_writeAudit**\n   *\n   * Writes an audit log if the record is configured for audit logs\n   */\n  protected async _writeAudit(\n    action: IFmCrudOperations,\n    currentValue: Partial<T>,\n    priorValue: Partial<T>\n  ) {\n    currentValue = currentValue ? currentValue : {};\n    priorValue = priorValue ? priorValue : {};\n    try {\n      if (this.META.audit) {\n        const deltas = compareHashes<T>(currentValue, priorValue);\n        const auditLogEntries: IAuditChange[] = [];\n        const added = deltas.added.forEach((a) =>\n          auditLogEntries.push({\n            action: \"added\",\n            property: a,\n            before: null,\n            after: currentValue[a],\n          })\n        );\n        deltas.changed.forEach((c) =>\n          auditLogEntries.push({\n            action: \"updated\",\n            property: c,\n            before: priorValue[c],\n            after: currentValue[c],\n          })\n        );\n        const removed = deltas.removed.forEach((r) =>\n          auditLogEntries.push({\n            action: \"removed\",\n            property: r,\n            before: priorValue[r],\n            after: null,\n          })\n        );\n\n        const pastTense = {\n          add: \"added\",\n          update: \"updated\",\n          remove: \"removed\",\n        };\n\n        await writeAudit<T>(\n          this,\n          pastTense[action] as IAuditOperations,\n          auditLogEntries,\n          { db: this.db }\n        );\n      }\n    } catch (e) {\n      throw new FireModelProxyError(e);\n    }\n  }\n\n  /**\n   * **_localCrudOperation**\n   *\n   * updates properties on a given Record while firing\n   * two-phase commit EVENTs to dispatch:\n   *\n   *  local: `RECORD_[ADDED,CHANGED,REMOVED]_LOCALLY`\n   *  server: `RECORD_[ADDED,CHANGED,REMOVED]_CONFIRMATION`\n   *\n   * Note: if there is an error a\n   * `RECORD_[ADDED,CHANGED,REMOVED]_ROLLBACK` event will be sent\n   * to dispatch instead of the server dispatch message\n   * illustrated above.\n   *\n   * Another concept that is sometimes not clear ... when a\n   * successful transaction is achieved you will by default get\n   * both sides of the two-phase commit. If you have a watcher\n   * watching this same path then that watcher will also get\n   * a dispatch message sent (e.g., RECORD_ADDED, RECORD_REMOVED, etc).\n   *\n   * If you only want to hear about Firebase's acceptance of the\n   * record from a watcher then you can opt-out by setting the\n   * { silentAcceptance: true } parameter in options. If you don't\n   * want either side of the two phase commit sent to dispatch\n   * you can mute both with { silent: true }. This option is not\n   * typically a great idea but it can be useful in situations like\n   * _mocking_\n   */\n  protected async _localCrudOperation<K extends IFMEventName<K>>(\n    crudAction: IFmCrudOperations,\n    priorValue: T,\n    options: IFmDispatchOptions = {}\n  ) {\n    options = {\n      ...{ silent: false, silentAcceptance: false },\n      ...options,\n    };\n    const transactionId: string =\n      \"t-\" +\n      Math.random().toString(36).substr(2, 5) +\n      \"-\" +\n      Math.random().toString(36).substr(2, 5);\n    const lookup: IDictionary<FmEvents[]> = {\n      add: [\n        FmEvents.RECORD_ADDED_LOCALLY,\n        FmEvents.RECORD_ADDED_CONFIRMATION,\n        FmEvents.RECORD_ADDED_ROLLBACK,\n      ],\n      update: [\n        FmEvents.RECORD_CHANGED_LOCALLY,\n        FmEvents.RECORD_CHANGED_CONFIRMATION,\n        FmEvents.RECORD_CHANGED_ROLLBACK,\n      ],\n      remove: [\n        FmEvents.RECORD_REMOVED_LOCALLY,\n        FmEvents.RECORD_REMOVED_CONFIRMATION,\n        FmEvents.RECORD_REMOVED_ROLLBACK,\n      ],\n    };\n    const [actionTypeStart, actionTypeEnd, actionTypeFailure] = lookup[\n      crudAction\n    ];\n\n    this.isDirty = true;\n    // Set aside prior value\n    const { changed, added, removed } = compareHashes<Partial<T>>(\n      withoutMetaOrPrivate<T>(this.data),\n      withoutMetaOrPrivate<T>(priorValue)\n    );\n\n    const watchers: Array<IWatcherEventContext<T>> = findWatchers(\n      this.dbPath\n    ) as any;\n    const event: Omit<IFmLocalRecordEvent<T>, \"type\"> = {\n      transactionId,\n      modelConstructor: this.modelConstructor,\n      kind: \"record\",\n      operation: crudAction,\n      eventType: \"local\",\n      key: this.id,\n      value: withoutMetaOrPrivate<T>(this.data),\n      priorValue,\n    };\n\n    if (crudAction === \"update\") {\n      event.priorValue = priorValue as T;\n      event.added = added;\n      event.changed = changed;\n      event.removed = removed;\n    }\n\n    if (watchers.length === 0) {\n      if (!options.silent) {\n        // Note: if used on frontend, the mutations must be careful to\n        // set this to the right path considering there is no watcher\n        await this.dispatch(\n          UnwatchedLocalEvent(this, {\n            type: actionTypeStart,\n            ...event,\n            value: withoutMetaOrPrivate(this.data),\n          })\n        );\n      }\n    } else {\n      // For each watcher watching this DB path ...\n      const dispatch = WatchDispatcher<T>(this.dispatch);\n      for (const watcher of watchers) {\n        if (!options.silent) {\n          await dispatch(watcher)({ type: actionTypeStart, ...event });\n        }\n      }\n    }\n\n    // Send CRUD to Firebase\n    try {\n      if (this.db.isMockDb && this.db.mock && options.silent) {\n        this.db.mock.silenceEvents();\n      }\n      this._data.lastUpdated = new Date().getTime();\n      const path = this.dbPath;\n\n      switch (crudAction) {\n        case \"remove\":\n          try {\n            const test = this.dbPath;\n          } catch (e) {\n            throw new FireModelProxyError(\n              e,\n              `The attempt to \"remove\" the ${capitalize(\n                this.modelName\n              )} with ID of \"${\n                this.id\n              }\" has been aborted. This is often because you don't have the right properties set for the dynamic path. This model requires the following dynamic properties to uniquely define (and remove) it: ${this.dynamicPathComponents.join(\n                \", \"\n              )}`\n            );\n          }\n\n          // Check for relationship props and dis-associate\n          // before removing the actual record\n          // TODO: need to add tests for this!\n          for (const rel of this.relationships) {\n            const relProperty = this.get(rel.property);\n            try {\n              if (rel.relType === \"hasOne\" && relProperty) {\n                await this.disassociate(\n                  rel.property,\n                  this.get(rel.property) as fk\n                );\n              } else if (rel.relType === \"hasMany\" && relProperty) {\n                for (const relFk of Object.keys(relProperty)) {\n                  await this.disassociate(rel.property, relFk);\n                }\n              }\n            } catch (e) {\n              throw new FireModelProxyError(\n                e,\n                `While trying to remove ${capitalize(this.modelName)}.${\n                  this.id\n                } from the database, problems were encountered removing the relationship defined by the \"${\n                  rel.property\n                } property (which relates to the model ${\n                  rel.fkModelName\n                }). This relationship has a cardinality of \"${\n                  rel.relType\n                }\" and the value(s) were: ${\n                  rel.relType === \"hasOne\"\n                    ? Object.keys(this.get(rel.property))\n                    : this.get(rel.property)\n                }`\n              );\n            }\n          }\n\n          await this.db.remove(this.dbPath);\n          break;\n        case \"add\":\n          try {\n            await this.db.set(path, this.data);\n          } catch (e) {\n            throw new FireModelProxyError(\n              e,\n              `Problem setting the \"${path}\" database path. Data passed in was of type ${typeof this\n                .data}. Error message encountered was: ${e.message}`,\n              `firemodel/${(e.code = \"PERMISSION_DENIED\"\n                ? \"permission-denied\"\n                : \"set-db\")}`\n            );\n          }\n          break;\n        case \"update\":\n          const paths = this._getPaths(this, { changed, added, removed });\n          this.db.update(\"/\", paths);\n          break;\n      }\n\n      this.isDirty = false;\n\n      // write audit if option is turned on\n      this._writeAudit(crudAction, this.data, priorValue);\n\n      // send confirm event\n      if (!options.silent && !options.silentAcceptance) {\n        if (watchers.length === 0) {\n          await this.dispatch(\n            UnwatchedLocalEvent(this, {\n              type: actionTypeEnd,\n              ...event,\n              transactionId,\n              value: withoutMetaOrPrivate(this.data),\n            })\n          );\n        } else {\n          const dispatch = WatchDispatcher<T>(this.dispatch);\n          for (const watcher of watchers) {\n            if (!options.silent) {\n              await dispatch(watcher)({ type: actionTypeEnd, ...event });\n            }\n          }\n        }\n      }\n      if (this.db.isMockDb && this.db.mock && options.silent) {\n        this.db.mock.restoreEvents();\n      }\n    } catch (e) {\n      // send failure event\n      await this.dispatch(\n        UnwatchedLocalEvent(this, {\n          type: actionTypeFailure,\n          ...event,\n          transactionId,\n          value: withoutMetaOrPrivate(this.data),\n        })\n      );\n\n      throw new RecordCrudFailure(this, crudAction, transactionId, e);\n    }\n  }\n\n  private _findDynamicComponents(path: string = \"\") {\n    if (!path.includes(\":\")) {\n      return [];\n    }\n    const results: Array<keyof T & string> = [];\n    let remaining = path;\n    let index = remaining.indexOf(\":\");\n\n    while (index !== -1) {\n      remaining = remaining.slice(index);\n      const prop = remaining.replace(/\\:(\\w+).*/, \"$1\");\n      results.push(prop as keyof T & string);\n      remaining = remaining.replace(`:${prop}`, \"\");\n      index = remaining.indexOf(\":\");\n    }\n\n    return results;\n  }\n\n  /**\n   * looks for \":name\" property references within the dbOffset or localPrefix and expands them\n   */\n  private _injectDynamicPathProperties(\n    path: string,\n    forProp: \"dbOffset\" | \"localPath\" = \"dbOffset\"\n  ) {\n    this.dynamicPathComponents.forEach((prop) => {\n      const value = this.data[prop as keyof T];\n\n      if (value ? false : true) {\n        throw new FireModelError(\n          `You can not ask for the ${forProp} on a model like \"${\n            this.modelName\n          }\" which has a dynamic property of \"${prop}\" before setting that property [ data: ${JSON.stringify(\n            this.data\n          )} ].`,\n          \"record/not-ready\"\n        );\n      }\n      if (![\"string\", \"number\"].includes(typeof value)) {\n        throw new FireModelError(\n          `The path is using the property \"${prop}\" on ${\n            this.modelName\n          } as a part of the route path but that property must be either a string or a number and instead was a ${typeof prop}`,\n          \"record/not-allowed\"\n        );\n      }\n      path = path.replace(`:${prop}`, String(this.get(prop)));\n    });\n\n    return path;\n  }\n\n  /**\n   * Load data from a record in database; works with `get` static initializer\n   */\n  private async _getFromDB(id: string | ICompositeKey<T>) {\n    const keys =\n      typeof id === \"string\"\n        ? createCompositeKeyFromFkString(id, this.modelConstructor)\n        : id;\n\n    // load composite key into props so the dbPath() will evaluate\n    Object.keys(keys).map((key) => {\n      // TODO: fix up typing\n      this._data[key as keyof T] = (keys as any)[key];\n    });\n\n    const data = await this.db.getRecord<T>(this.dbPath);\n\n    if (data && data.id) {\n      await this._initialize(data);\n    } else {\n      throw new FireModelError(\n        `Failed to load the Record \"${this.modelName}::${\n          this.id\n        }\" with composite key of:\\n ${JSON.stringify(keys, null, 2)}`,\n        \"firebase/invalid-composite-key\"\n      );\n    }\n\n    return this;\n  }\n\n  /**\n   * Allows for the static \"add\" method to add a record\n   */\n  private async _adding(options: IRecordOptions) {\n    if (!this.id) {\n      this.id = fbKey();\n    }\n    const now = new Date().getTime();\n    if (!this.get(\"createdAt\")) {\n      this._data.createdAt = now;\n    }\n    this._data.lastUpdated = now;\n\n    // TODO: need to ensure that relationship which are set\n    // are updated using the _relationship_ based methods associate/disassociate\n    // so that bi-lateral relationships are established/maintained\n    if (!this.db) {\n      throw new FireModelError(\n        `An attempt to add a ${capitalize(\n          this.modelName\n        )} record failed as the Database has not been connected yet. Try setting FireModel's defaultDb first.`,\n        \"firemodel/db-not-ready\"\n      );\n    }\n\n    await this._localCrudOperation(IFmCrudOperations.add, undefined, options);\n    // now that the record has been added we need to follow-up with any relationship fk's that\n    // were part of this record. For these we must run an `associate` over them to ensure that\n    // inverse properties are established in the inverse direction\n    const relationshipsTouched = this.relationships\n      .reduce((agg: Array<string & keyof T>, rel) => {\n        if (\n          rel.relType === \"hasMany\" &&\n          Object.keys(this.data[rel.property] as IDictionary<true>).length > 0\n        ) {\n          return agg.concat(rel.property);\n        } else if (rel.relType === \"hasOne\" && this.data[rel.property]) {\n          return agg.concat(rel.property);\n        } else {\n          return agg;\n        }\n      }, [])\n      .filter((prop) => this.META.relationship(prop).inverseProperty);\n    const promises: any[] = [];\n    try {\n      for (const prop of relationshipsTouched) {\n        const meta = this.META.relationship(prop);\n        if (meta.relType === \"hasOne\") {\n          // TODO: why is this damn typing so difficult?\n          promises.push(this.associate(prop, this.get(prop) as any));\n        }\n        if (meta.relType === \"hasMany\") {\n          Object.keys(this.get(prop)).forEach((fkRef) =>\n            promises.push(this.associate(prop, fkRef))\n          );\n        }\n      }\n      await Promise.all(promises);\n    } catch (e) {\n      throw new FireModelProxyError(\n        e,\n        `An ${capitalize(this.modelName)} [${\n          this.id\n        }] model was being added but when attempting to add in the relationships which were inferred by the record payload it ran into problems. The relationship(s) which had properties defined -- and which had a bi-lateral FK relationship (e.g., both models will track the relationship versus just the ${capitalize(\n          this.modelName\n        )} [${this.id} model) --  were: ${relationshipsTouched.join(\", \")}`\n      );\n    }\n\n    return this;\n  }\n\n  //#endregion PRIVATE METHODS\n}\n","import {\n  FmEvents,\n  IFmWatcherStopped,\n  IModelOptions,\n  IPrimaryKey,\n  IReduxDispatch,\n  IWatcherEventContext,\n} from \"@/types\";\nimport { IAbstractedDatabase, IRtdbDbEvent } from \"universal-fire\";\nimport {\n  WatchList,\n  WatchRecord,\n  clearWatcherPool,\n  getWatcherPool,\n  getWatcherPoolList,\n  removeFromWatcherPool,\n} from \"./watchers\";\n\nimport { FireModel } from \"@/core\";\nimport { FireModelError } from \"@/errors\";\nimport { IModel } from \"@/types\";\nimport { firstKey } from \"@/util\";\n\n/**\n * A static library for interacting with _watchers_. It\n * provides the entry point into the watcher API and then\n * hands off to either `WatchList` or `WatchRecord`.\n */\nexport class Watch<T extends IModel = IModel> {\n  /**\n   * Sets the default database for all Firemodel\n   * classes such as `FireModel`, `Record`, and `List`\n   */\n  public static set defaultDb(db: IAbstractedDatabase) {\n    FireModel.defaultDb = db;\n  }\n\n  /**\n   * Sets the default dispatch for all Firemodel\n   * classes such as `FireModel`, `Record`, and `List`\n   */\n  public static set dispatch(d: IReduxDispatch) {\n    FireModel.dispatch = d;\n  }\n\n  /**\n   * returns a full list of all watchers\n   */\n  public static get inventory() {\n    return getWatcherPool();\n  }\n\n  public static toJSON() {\n    return Watch.inventory;\n  }\n\n  /**\n   * lookup\n   *\n   * Allows the lookup of details regarding the actively watched\n   * objects in the Firebase database\n   *\n   * @param hashCode the unique hashcode given for each watcher\n   */\n  public static lookup(hashCode: string): IWatcherEventContext {\n    const codes = new Set(Object.keys(getWatcherPool()));\n    if (!codes.has(hashCode)) {\n      const e = new Error(\n        `You looked up an invalid watcher hashcode [${hashCode}].`\n      );\n      e.name = \"FireModel::InvalidHashcode\";\n      throw e;\n    }\n    return getWatcherPool()[hashCode];\n  }\n\n  public static get watchCount() {\n    return Object.keys(getWatcherPool()).length;\n  }\n\n  public static reset() {\n    clearWatcherPool();\n  }\n\n  /**\n   * Finds the watcher by a given name and returns the ID of the\n   * first match\n   */\n  public static findByName(name: string) {\n    const pool = getWatcherPool();\n    return Object.keys(pool).find((i) => pool[i].watcherName === name);\n  }\n\n  /**\n   * stops watching either a specific watcher or ALL if no hash code is provided\n   */\n  public static stop(hashCode?: string, oneOffDB?: IAbstractedDatabase) {\n    const codes = new Set(Object.keys(getWatcherPool()));\n    const db = oneOffDB || FireModel.defaultDb;\n    if (!db) {\n      throw new FireModelError(\n        `There is no established way to connect to the database; either set the default DB or pass the DB in as the second parameter to Watch.stop()!`,\n        `firemodel/no-database`\n      );\n    }\n    if (hashCode && !codes.has(hashCode)) {\n      const e = new FireModelError(\n        `The hashcode passed into the stop() method [ ${hashCode} ] is not actively being watched!`\n      );\n      e.name = \"firemodel/missing-hashcode\";\n      throw e;\n    }\n\n    if (!hashCode) {\n      const pool = getWatcherPool();\n      if (Object.keys(pool).length > 0) {\n        const keysAndPaths = Object.keys(pool).reduce(\n          (agg, key) => ({ ...agg, [key]: pool[key].watcherPaths }),\n          {}\n        );\n        const dispatch = pool[firstKey(pool)].dispatch;\n        db.unWatch();\n        clearWatcherPool();\n        dispatch({\n          type: FmEvents.WATCHER_STOPPED_ALL,\n          stopped: keysAndPaths,\n        });\n      }\n    } else {\n      const registry = getWatcherPool()[hashCode];\n      const events: IRtdbDbEvent | IRtdbDbEvent[] =\n        registry.eventFamily === \"child\"\n          ? \"value\"\n          : [\"child_added\", \"child_changed\", \"child_moved\", \"child_removed\"];\n      db.unWatch(events, registry.dispatch);\n      // tslint:disable-next-line: no-object-literal-type-assertion\n      registry.dispatch({\n        type: FmEvents.WATCHER_STOPPED,\n        watcherId: hashCode,\n        remaining: getWatcherPoolList().map((i) => ({\n          id: i.watcherId,\n          name: i.watcherName,\n        })),\n      } as IFmWatcherStopped);\n      removeFromWatcherPool(hashCode);\n    }\n  }\n\n  /**\n   * Configures the watcher to be a `value` watcher on Firebase\n   * which is only concerned with changes to a singular Record.\n   *\n   * @param pk the _primary key_ for a given record. This can be a string\n   * represention of the `id` property, a string represention of\n   * the composite key, or an object representation of the composite\n   * key.\n   */\n  public static record<T extends IModel>(\n    modelConstructor: new () => T,\n    pk: IPrimaryKey<T>,\n    options: IModelOptions = {}\n  ) {\n    return WatchRecord.record(modelConstructor, pk, options);\n  }\n\n  public static list<T extends IModel>(\n    /**\n     * The **Model** subType which this list watcher will watch\n     */\n    modelConstructor: new () => T,\n    /**\n     * optionally state the _dynamic path_ properties which offset the **dbPath**\n     */\n    offsets?: Partial<T>\n  ) {\n    return WatchList.list<T>(modelConstructor, { offsets });\n  }\n}\n"],"names":["FmEvents","RelationshipPolicy","RelationshipCardinality","Symbol","Map","moreThanThreePeriods","pathJoin","SerializedQuery","MILLISECONDS_IN_WEEK","formatters","lightFormatters","locale","defaultLocale","getMockHelper","Mock","processHasMany","hasOwnProperty","Reflect","key","fbKey"],"mappings":"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,CAAC,CAAC,CAAC;AACvD,CAAC;AACM,SAAS,mBAAmB,CAAC,KAAK,EAAE;AAC3C,EAAE,IAAI,KAAK,KAAK,MAAM,EAAE;AACxB,IAAI,MAAM,IAAI,UAAU,CAAC,8EAA8E,CAAC,CAAC;AACzG,GAAG,MAAM,IAAI,KAAK,KAAK,IAAI,EAAE;AAC7B,IAAI,MAAM,IAAI,UAAU,CAAC,0EAA0E,CAAC,CAAC;AACrG,GAAG,MAAM,IAAI,KAAK,KAAK,GAAG,EAAE;AAC5B,IAAI,MAAM,IAAI,UAAU,CAAC,oFAAoF,CAAC,CAAC;AAC/G,GAAG,MAAM,IAAI,KAAK,KAAK,IAAI,EAAE;AAC7B,IAAI,MAAM,IAAI,UAAU,CAAC,sFAAsF,CAAC,CAAC;AACjH,GAAG;AACH;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,sBAAsB,GAAG,uDAAuD,CAAC;AACrF;AACA;AACA,IAAI,0BAA0B,GAAG,mCAAmC,CAAC;AACrE,IAAI,mBAAmB,GAAG,cAAc,CAAC;AACzC,IAAI,iBAAiB,GAAG,KAAK,CAAC;AAC9B,IAAI,6BAA6B,GAAG,UAAU,CAAC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS,MAAM,CAAC,SAAS,EAAE,cAAc,EAAE,YAAY,EAAE;AACxE,EAAE,YAAY,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;AAC7B,EAAE,IAAI,SAAS,GAAG,MAAM,CAAC,cAAc,CAAC,CAAC;AACzC,EAAE,IAAI,OAAO,GAAG,YAAY,IAAI,EAAE,C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"}